/*!
 * 
 *     Gainsight PX Agent Wrapper
 *     Agent Version:  0.29.0
 *     Installed:      2020-08-11 08:13
 * 
 */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=332)}([,function(e,t,n){"use strict";function r(e){return void 0!==e&&null!==e&&"string"==typeof e}function o(e){return void 0===e||null===e||"string"!=typeof e}function i(e){return!e||"string"!=typeof e||""==e.trim()}function a(e){return e&&Array.isArray(e)&&e.length>0}function s(e){if(e){var t=e;return Array.isArray(t)||(t=(0,ue.arrayFrom)(e)),Array.isArray(t)&&0==t.length}return!1}function l(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.addEventListener)e.addEventListener(t,n,r);else{if(!e.attachEvent)return!1;e.attachEvent("on"+t,n)}return!0}function c(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}function u(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function d(e,t,n){var r=document.getElementById(t);r?r.styleSheet?r.styleSheet.cssText=e:(r.innerHTML="",r.appendChild(document.createTextNode(e))):r=Ie(e,t),n?n.parentNode.insertBefore(r,n):document.body.appendChild(r)}function f(e){return e.join("&")}function p(e,t,n){return n||(n=[]),n.push(e+(""!==t?"="+encodeURIComponent(t):"")),n}function g(e){var t=(new Date).getTime()+"-"+le.UUIDGenerator.generateRandom(4);return Object.assign(e,{cb:t}),e}function m(e,t){for(var n in e)e.hasOwnProperty(n)&&(t=p(n,e[n],t));return t}function h(e){return void 0!==e&&null!=e&&"[object Object]"==Object.prototype.toString.call(e)}function v(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function y(e,t,n,r,o){t.parentNode;if(t.getAttribute("apt-ignore")!==r){var i=parseInt(t.getAttribute("apt-original")||n.getPropertyValue("top"),10);i!==r&&!o&&(t.style.top=i+r+"px")&&t.setAttribute("apt-original",i),t.setAttribute("apt-ignore",r)}}function b(e,t){for(var n=fe.body.getElementsByTagName("*"),r=n.length,o=void 0,i=[],a=0;a<r;a++){if((o=window.getComputedStyle(n[a],null))&&"fixed"===o.getPropertyValue("position")){if(A(n[a].className)&&(n[a].className.indexOf("apt")>-1||n[a].className.indexOf("tippy-popper")>-1))continue;y(i,n[a],o,e,t)}if(o&&"absolute"===o.getPropertyValue("position")){if(A(n[a].className)&&(n[a].className.indexOf("apt")>-1||n[a].className.indexOf("tippy-popper")>-1))continue;for(var s=n[a].parentNode,l=!1,c=void 0;s&&"body"!==s.tagName.toLowerCase();){c=ce.windowRef.getComputedStyle(s,null);var u=c.getPropertyValue("position");if("relative"===u||"fixed"===u||i.indexOf(s)>-1){l=!0;break}s=s.parentNode,!1}if(!l&&n[a].getAttribute("apt-ignore")!==e){i.push(n[a]),n[a].style.marginTop=e+"px";var d=o.getPropertyValue("top");!t&&(n[a].style.top=d),n[a].setAttribute("apt-ignore",e)}}}fe.body.style.setProperty("padding-top",e+"px","important")}function E(e,t){if(!("style"in e))throw new Error("object "+e+" has no 'style' property");e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function w(e,t){var n=e.replace("#","");return"rgba("+parseInt(n.substring(0,2),16)+","+parseInt(n.substring(2,4),16)+","+parseInt(n.substring(4,6),16)+","+t+")"}function C(e){var t=e.replace("#","");return(parseInt(t.substring(0,2),16)+parseInt(t.substring(2,4),16)+parseInt(t.substring(4,6),16))/3<128}function x(e){for(var t=document.querySelectorAll(e),n=0,r=0;r<t.length;r++){var o=document.defaultView.getComputedStyle(t[r],null).getPropertyValue("z-index");o>n&&"auto"!=o&&(n=o)}return parseInt(n)}function I(e,t,n){if(!e)return!1;var r=window.getComputedStyle(e);if("none"===r.display)return!1;if("visible"!==r.visibility)return!1;if(r.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;if(t){var o=e.getBoundingClientRect(),i={x:o.left+e.offsetWidth/2,y:o.top+e.offsetHeight/2};if(i.x<0)return!1;if(i.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(i.y<0)return!1;if(i.y>(document.documentElement.clientHeight||window.innerHeight))return!1;if(e.contains(document.elementFromPoint(i.x,i.y))||e.contains(document.elementFromPoint(o.left,o.top))||e.contains(document.elementFromPoint(o.right,o.top))||e.contains(document.elementFromPoint(o.right,o.bottom))||e.contains(document.elementFromPoint(o.left,o.bottom)))return!0;var a=document.elementFromPoint(i.x,i.y);do{var s=!1;if(a){var l="true"===a.getAttribute("data-apt-ignore-visible"),c=a===e,u=a.getAttribute("class")||"",d=n&&u.indexOf("apt")>-1;s=l||c||d}if(s)return!0}while(a&&(a=a.parentNode)&&a.tagName);return!1}return!0}function k(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("margin-top");n=n.substring(0,n.length-2),n=Number(n);var r=t.getPropertyValue("margin-bottom");return r=r.substring(0,r.length-2),(r=Number(r))+n}function T(e){return e.getBoundingClientRect().top+e.offsetHeight/2}function S(e){var t=k(document.body),n=(window.innerHeight-t)/2,r=T(e);return Math.abs(n-r)<10}function O(e){if(!e)return!1;var t=e.getBoundingClientRect(),n=t.left,r=t.top,o={x:n+e.offsetWidth/2,y:r+e.offsetHeight/2};return!S(e)||o.x<0||o.x>Math.min(document.documentElement.clientWidth,window.innerWidth)||o.y<0||o.y>Math.min(document.documentElement.clientHeight,window.innerHeight)}function A(e){return e&&("string"==typeof e||e instanceof String)}function L(e,t){for(var n=e;n&&"body"!==n.tagName.toLowerCase();){if(n.classList.contains(t))return!0;n=n.parentNode}return!1}function P(e,t,n){for(var r=e;r&&"body"!==r.tagName.toLowerCase();){if(r[t]===n)return!0;r=r.parentNode}return!1}function R(e,t){for(var n=t;n&&"body"!==n.tagName.toLowerCase();){if(n===e)return!0;n=n.parentNode}return!1}function D(e,t,n){var r=fe.createElement("a");r.href=e;var o=ie(r),a=ae(r),s=i(r.search)?"?":"";return s+=p(t,n,r.search?r.search.split("&"):null).join("&"),[o,a,s,r.hash].join("")}function _(e,t){var n=fe.createElement("a");n.href=e;var r=ie(n),o=ae(n),a=i(n.search)?"?":"";return a+=m(t,n.search?n.search.split("&"):[]).join("&"),[r,o,a,n.hash].join("")}function N(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if(o[0]===e)return o[1]}return null}function M(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=[],o=0;o<n.length;o++){n[o].split("=")[0]!==e&&r.push(n[o])}return location.protocol+"//"+location.host+location.pathname+(r.length>0?"?"+r.join("&"):"")+location.hash}function B(e){return/^\S*$/.test(e)&&void 0!==be.find(function(t){return t.test(e)})}function j(e,t){e.innerText=t.toLowerCase(),e.classList.contains("strong")&&e.classList.remove("strong"),e.classList.contains("medium")&&e.classList.remove("medium"),e.classList.contains("weak")&&e.classList.remove("weak"),e.classList.add(t.toLowerCase())}function U(e,t){function n(e){e=e||window.event,e.target.classList.add("dragging"),s=e.clientX,u=e.clientY,l(document,"mouseup",o),l(document,"mousemove",r)}function r(t){t=t||window.event,i=s-t.clientX,a=u-t.clientY,s=t.clientX,u=t.clientY,e.style.top=e.offsetTop-a+"px",e.style.left=e.offsetLeft-i+"px"}function o(e){e.target.classList.remove("dragging"),c(document,"mouseup",o),c(document,"mousemove",r)}var i=0,a=0,s=0,u=0;t?l(t,"mousedown",n):l(e,"mousedown",n)}function H(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function q(e,t){for(var n=e;n!=fe;){if(n&&n.tagName&&n.tagName.toLowerCase()===t)return n;n=n.parentNode}return null}function V(){ce.windowRef.sessionStorage.removeItem("apt.prevStepMap"),ce.windowRef.sessionStorage.removeItem("apt.stepId"),ce.windowRef.sessionStorage.removeItem("aptCurrentGuideUrl"),ce.windowRef.sessionStorage.removeItem("aptGuideSelectedLanguage"),ce.windowRef.sessionStorage.removeItem("apt.engagementSessionId")}function W(e,t,n){for(var r=0;r<e;r++)setTimeout(n,t*r)}function F(e){var t=window.innerHeight/2,n=(0,de.detectIE)(),r=n<=11,o=r?document.documentElement:document.body,i=T(e),a=Math.abs(i-t);o.scrollTop+i>t&&(o.scrollTop+=a)}function G(e,t){try{var n=(0,de.detectIE)();!1!==n&&n<79?(e.scrollIntoView(!1),setTimeout(function(){F(e)},500)):e.scrollIntoView({behavior:"smooth",block:"center"})}catch(e){t&&t(new Error("Error in scrollIntoView "+e))}}function K(e,t,n){return e.some(function(e){var r=new RegExp("^"+e.split("*").join(".*")+"$").test(t);return n?!r:r})}function z(e){return e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")}function Y(e){return 0===e.indexOf("http://")?e=e.substring("http://".length):0===e.indexOf("https://")&&(e=e.substring("https://".length)),0===e.indexOf("www.")&&(e=e.substring("www.")),e.endsWith("/")&&(e=e.substring(0,e.length-1)),e}function J(e,t,n){Array.isArray(e)||(e=[e]);var r=(0,ue.arrayFrom)(e,function(e){return e=Y(e),t.endsWith("/")&&(e=e.replace(/\/\*/,"*")),z(e)});return t=Y(t),K(r,t,n)}function X(e){var t=e.split("-");if(t.length<3)throw"invalid key "+e;return"2"===t[2]}function $(e){return e?e.split("-").slice(0,2).join("-"):e}function Q(e){return e?e.split("-").slice(1,2).join():e}function Z(e,t){return $(e)===$(t)}function ee(){return("localhost"===location.hostname?location.host:location.hostname)+location.pathname+location.search+location.hash}function te(){return["localhost"===location.hostname?location.host:location.hostname,location.pathname,location.search,location.hash]}function ne(e){return function(t){t=t||ce.windowRef.event;var n=!1;(n="key"in t?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&e()}}function re(e,t){t||(t=["click","mousedown","mouseup"]),e.forEach(function(e){t.forEach(function(t){return l(e,t,function(e){e.stopImmediatePropagation()})})})}function oe(e,t){var n=this,r=le.UUIDGenerator.generateV4Id(),o=[];return arguments.length>2&&(o=Array.prototype.slice.call(arguments,2)),e?(o.unshift(r),[r,function(e){var r=(0,ue.arrayFrom)(o);r.unshift(e),t.apply(n,r)}]):[r,function(){var e=(0,ue.arrayFrom)(o);e.unshift(r),t.apply(n,e)}]}function ie(e){if(!e||!e.href)throw new Error("getOriginFromAnchorElement - Wrong element was provided, missing href");return e.origin?e.origin:e.protocol+"//"+e.hostname}function ae(e){if(!e||!e.href)throw new Error("getPathnameFromAnchorElement - Wrong element was provided, missing href");return e.origin?e.pathname:e.pathname?"/"+e.pathname:""}function se(e,t){var n=void 0;return function(){var r=arguments,o=this;clearTimeout(n),n=setTimeout(function(){return e.apply(o,r)},t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.isApiKeyMatch=t.getProduct=t.getUrlParts=t.addStopClickListeners=t.hasElement=t.getHandler=t.addStyle=t.getEscHandlerCallback=t.safeUrl=t.isDefinedStr=t.isUndefinedStr=t.getPageUrl=t.getProductKeyFromApiKey=t.isWebApp=t.matchUrl=t.escapeRegex=t.matchEither=t.scrollElementToCenter=t.needToScroll=t.createInputConfig=t.isRandomIdSelector=t.retryFunction=t.createElementFromString=t.clearAptrinsicSessionStorage=t.searchElementInParentTree=t.checkDarkColor=t.hasParentField=t.isObjectEmpty=t.isEmptyArr=t.makeDraggable=t.setSelectorStrengthLabel=t.removeFromQueryParam=t.getQueryParam=t.addParametersToUrl=t.addParameterToUrl=t.hasParentClass=t.isString=t.isElementVisible=t.findHighestZIndex=t.hexToRgba=t.setCrossBrowserTransform=t.pushElements=t.createStyle=t.removeChildren=t.isObject=t.addCacheBuster=t.addParameters=t.addParameter=t.convert2Parameters=t.MILLISEC=t.removeEventListener=t.isNotEmptyArr=t.createInput=t.appendElements=t.createElement=t.addEventListener=t.isBlank=void 0,t.debounce=se;var le=n(14),ce=n(4),ue=n(13),de=n(5),fe=document,pe=new RegExp(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i),ge=new RegExp(/^#.+_(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+){8,}$/),me=new RegExp(/^#.+gen[0-9]{4}/),he=new RegExp(/^#.+-[0-9]{4}.*$/),ve=new RegExp(/^#ember[0-9]{4}$/),ye=new RegExp(/^#id[0-9a-zA-Z]{3}$/),be=[pe,ge,me,he,ve,ye],Ee=function(e,t,n,r){if("text"===e)return fe.createTextNode(n);var o=fe.createElement(e);switch(void 0!==t&&null!=t&&(o.className=a(t)?t.join(" "):t),e){case"option":o.value=n.value,o.text=n.name,n.selected&&o.setAttribute("selected",n.selected);break;case"a":o.href=n.href,n.blank&&(o.target="_blank");break;case"textarea":o.rows=n.rows,o.cols=n.cols;break;case"input":o.value=n.value;break;case"p":o.innerHTML=n.value;break;case"label":n&&n.for&&o.setAttribute("for",n.for);break;case"img":n&&n.src&&(o.src=n.src)}if(void 0!==n&&null!=n&&(void 0!==n.text&&o.appendChild(fe.createTextNode(n.text)),n.title&&(o.title=n.title),n.dataAtt))for(var i=0;i<n.dataAtt.length;i++)o.setAttribute(n.dataAtt[i].name,n.dataAtt[i].value);return r&&(Array.isArray(r)||(r=[r]),we(o,r)),o},we=function(e,t){for(var n=0;n<t.length;n++)t[n]&&e.appendChild(t[n]);return e},Ce=function(e,t,n,r,o,i,s,l,c){var u=fe.createElement("input");if(u.type=e,void 0!==n&&null!==n&&(u.value=n,u.setAttribute("value",n)),void 0!==r&&(u.placeholder=r),void 0!==t&&null!==t&&(u.className=a(t)?t.join(" "):t),o&&(u.disabled=o),i&&u.setAttribute("checked",i),s)for(var d in s)s.hasOwnProperty(d)&&u.setAttribute("data-"+d,s[d]);if(l)for(var f in l)l.hasOwnProperty(f)&&u.setAttribute(f,l[f]);return c&&(Array.isArray(c)||(c=[c]),we(u,c)),u},xe=function(e,t){return Ce(e,t.classes,t.value,t.placeholder,t.disabled,t.checked,t.dataAtt,t.otherAtt,t.children)},Ie=function(e,t){var n=document.createElement("style");return t&&(n.id=t),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:(n.innerHTML="",n.appendChild(document.createTextNode(e))),n};t.isBlank=i,t.addEventListener=l,t.createElement=Ee,t.appendElements=we,t.createInput=Ce,t.isNotEmptyArr=a,t.removeEventListener=c,t.MILLISEC=1e3,t.convert2Parameters=f,t.addParameter=p,t.addParameters=m,t.addCacheBuster=g,t.isObject=h,t.removeChildren=v,t.createStyle=Ie,t.pushElements=b,t.setCrossBrowserTransform=E,t.hexToRgba=w,t.findHighestZIndex=x,t.isElementVisible=I,t.isString=A,t.hasParentClass=L,t.addParameterToUrl=D,t.addParametersToUrl=_,t.getQueryParam=N,t.removeFromQueryParam=M,t.setSelectorStrengthLabel=j,t.makeDraggable=U,t.isEmptyArr=s,t.isObjectEmpty=H,t.hasParentField=P,t.checkDarkColor=C,t.searchElementInParentTree=q,t.clearAptrinsicSessionStorage=V,t.createElementFromString=u,t.retryFunction=W,t.isRandomIdSelector=B,t.createInputConfig=xe,t.needToScroll=O,t.scrollElementToCenter=G,t.matchEither=K,t.escapeRegex=z,t.matchUrl=J,t.isWebApp=X,t.getProductKeyFromApiKey=$,t.getPageUrl=ee,t.isUndefinedStr=o,t.isDefinedStr=r,t.safeUrl=Y,t.getEscHandlerCallback=ne,t.addStyle=d,t.getHandler=oe,t.hasElement=R,t.addStopClickListeners=re,t.getUrlParts=te,t.getProduct=Q,t.isApiKeyMatch=Z},function(e,t,n){"use strict";function r(e){switch(e){case"style":return i("cssFileEndpoint")||ge+"/style.css";case"widget":return i("widgetFileEndpoint")||me;default:return null}}function o(e,n){e&&!e.startsWith("http")&&(e="https://"+e),n&&!n.startsWith("http")&&(n="https://"+n),e&&(t.serverEndpointBase=K=e+S,t.serverEndpoint=z=K+O,t.commandEndpoint=Y=z+A,t.commandEndPointV2=J=K+"/v2/command",t.campaignEndpoint=X=z+L,t.notificationEndpoint=$=z+R,t.notificationStateEndpoint=Q=z+D,t.engagementTrackEndpoint=Z=z+_,t.accountEndpoint=ee=z+N,t.logErrorEndpoint=te=z+M,t.internalErrorEndpoint=ne=z+B,t.ondemandEndpoint=re=z+j,t.ongoingEngagementEndpoint=oe=z+U,t.getConfigEndpoint=ie=z+H,t.getKnowledceCenterConfigEndpoint=ae=K+q,t.getWidgetConfigUrl=se=z+V,t.trackMultiStepEndpoint=de=z+"/engagement/multistep/track",t.trackStepEndpoint=fe=z+"/engagement/multistep/step/track",t.getWidgetContentEndpoint=le=K+W,t.getWidgetDocsEndpoint=ce=K+F,t.getAllInAppEndpoint=pe=z+P,t.getWidgetSingleDocEndpoint=ue=K+G,t.trackKcEndpoint=he=z+"/kc"),n&&(t.staticContentHost=ge=n)}function i(e){var t=k[e];if(null===t)throw new Error("not found any value for config "+e);return t}function a(e){return ye.indexOf(e)>-1}function s(e){return void 0!==e&&"[object Object]"==Object.prototype.toString.call(e)}function l(){k.enableTag=!1}function c(e){return("string"!=typeof e||!(0,x.isBlank)(e))&&(!Array.isArray(e)||!(0,x.isEmptyArr)(e))}function u(e,t,n){var r=E();if(s(e))for(var i in e)e.hasOwnProperty(i)&&k.hasOwnProperty(i)&&c(e[i]&&-1===T.indexOf(i))&&(k[i]=e[i],n&&T.push(i));k.autoTrack?k.autoClickTrack||(k.trackLevel=1):k.trackLevel=0,t&&g(r,k),o(k.espProxyDomain,k.contentProxyDomain)}function d(e){return!(f()&&ye.indexOf(e)>-1)&&("pageView"===e?k.trackLevel>0&&i("autoTrackPage"):ve[e]<=k.trackLevel)}function f(){return window.self!==window.top.parent&&i("iframeModeEnabled")&&!window.runVue}function p(e,t){if(!k.hasOwnProperty(e))return void C.logger.logInternalError(new Error("Unrecognized config field: "+e+". Cannot set config change handler"));be[e]=t}function g(e,t){for(var n in be)be.hasOwnProperty(n)&&e[n]!==t[n]&&be[n](e[n],t[n])}function m(e,t){we.setdata(e,t)}function h(e){return we.getKey(e)}function v(){return Ee}function y(e){Ee=e}function b(e,t){s(Ee)&&(Ee[e]=t)}function E(){return Object.assign({},k)}function w(){return{enableTag:!0,maxEngagementCalls:2,engagementCallDelay:500,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:1,autoTrack:1,autoTrackPage:!0,iframeModeEnabled:!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCachedConfig=t.setCachedConfig=t.getAssetEndpoint=t.disableTag=t.setKcConfigByName=t.setKcConfig=t.getKcConfig=t.getDefaultConfiguration=t.registerConfigChangeHandler=t.getConfigObj=t.isIframe=t.isIframeDisabled=t.featureEnabled=t.getConfig=t.overrideConfig=t.trackKcEndpoint=t.widgetUrl=t.staticContentHost=t.getAllInAppEndpoint=t.refreshBadgeEndpoint=t.badgeTrackEndpoint=t.fetchBadgeEndpoint=t.trackStepEndpoint=t.trackMultiStepEndpoint=t.getWidgetSingleDocEndpoint=t.getWidgetDocsEndpoint=t.getWidgetContentEndpoint=t.getWidgetConfigUrl=t.getKnowledceCenterConfigEndpoint=t.getConfigEndpoint=t.ongoingEngagementEndpoint=t.ondemandEndpoint=t.internalErrorEndpoint=t.logErrorEndpoint=t.accountEndpoint=t.engagementTrackEndpoint=t.notificationStateEndpoint=t.notificationEndpoint=t.campaignEndpoint=t.commandEndPointV2=t.commandEndpoint=t.serverEndpoint=t.serverEndpointBase=t.trackWidgetExternalArticleInfix=void 0;var C=n(3),x=n(1),I=n(6),k={enableTag:!0,maxEngagementCalls:1,engagementCallDelay:750,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:!0,autoTrack:!0,autoTrackPage:!0,iframeModeEnabled:!0,elementAttributeWhitelist:[],engagementExcludeUrl:[],delayClickEvent:!1,delayClickEventTime:2e3,textMatchEnabled:!1,guideAdvanceOnHover:!1,espProxyDomain:void 0,contentProxyDomain:void 0,enableBadge:!0,badgeRefreshInterval:5,setSessionExternally:!1,usePOST:!1,allowCrossDomain:!1,enableFullStory:!1,fullDomainCookie:!1,cssFileEndpoint:void 0,widgetFileEndpoint:void 0,multipleProductsPerDomain:!0,fetchKcType:"automatic",kcDisplayType:"default",kcPositionType:"injection",sfdcTemplate:void 0,overrideBotSearchContextUrl:void 0,htmlSanitization:!1,htmlSanitizationAllowedDomains:void 0,sessionCookieTTL:18e5},T=[],S="/rte",O="/v1",A="/command",L="/engagements/single",P="/inapp",R="/notification/list",D="/notification/state",_="/engagement/track",N="/account",M="/error/log",B="/activity/error",j="/engagement/ondemand",U="/engagement/ongoing",H="/configuration",q="/v2/kc",V="/kc/config",W=q+"/content",F=q+"/docs",G=q+"/doc",K=(t.trackWidgetExternalArticleInfix="track/article/external",t.serverEndpointBase='https://esp.aptrinsic.com'+S),z=t.serverEndpoint=K+O,Y=t.commandEndpoint=z+A,J=t.commandEndPointV2=K+"/v2/command",X=t.campaignEndpoint=z+L,$=t.notificationEndpoint=z+R,Q=t.notificationStateEndpoint=z+D,Z=t.engagementTrackEndpoint=z+_,ee=t.accountEndpoint=z+N,te=t.logErrorEndpoint=z+M,ne=t.internalErrorEndpoint=z+B,re=t.ondemandEndpoint=z+j,oe=t.ongoingEngagementEndpoint=z+U,ie=t.getConfigEndpoint=z+H,ae=t.getKnowledceCenterConfigEndpoint=K+q,se=t.getWidgetConfigUrl=z+V,le=t.getWidgetContentEndpoint=K+W,ce=t.getWidgetDocsEndpoint=K+F,ue=t.getWidgetSingleDocEndpoint=K+G,de=t.trackMultiStepEndpoint=z+"/engagement/multistep/track",fe=t.trackStepEndpoint=z+"/engagement/multistep/step/track",pe=(t.fetchBadgeEndpoint=z+"/badges",t.badgeTrackEndpoint=z+"/badge/track",t.refreshBadgeEndpoint=z+"/badges/full/sync",t.getAllInAppEndpoint=z+P),ge=t.staticContentHost='https://web-sdk.aptrinsic.com',me=t.widgetUrl='https://web-sdk.aptrinsic.com'+"/widget/aptrinsic-widget.js",he=t.trackKcEndpoint=z+"/kc",ve={click:2,pageView:1,form:1,identify:0,engagementPull:0},ye=["pageView","identify","sessionInitialized","engagementPull"],be={},Ee=void 0,we=new I.LocalCache;t.overrideConfig=u,t.getConfig=i,t.featureEnabled=d,t.isIframeDisabled=a,t.isIframe=f,t.getConfigObj=E,t.registerConfigChangeHandler=p,t.getDefaultConfiguration=w,t.getKcConfig=v,t.setKcConfig=y,t.setKcConfigByName=b,t.disableTag=l,t.getAssetEndpoint=r,t.setCachedConfig=m,t.getCachedConfig=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(38),a=n(4),s=n(8),l=n(2),c=n(7),u=n(12),d=n(25),f=a.eventTrackData,p=function(){function e(){r(this,e);var t=i.Cookie.getCookie("apt.debug");this.debugMode="true"===t}return o(e,[{key:"log",value:function(e){this.debugMode&&console&&console.log&&console.log(e)}},{key:"trace",value:function(e){this.debugMode&&console&&console.trace&&console.trace(e)}},{key:"logInternalMessage",value:function(e){(0,l.getConfig)("enableTag")&&((0,l.isIframe)()||s.AjaxUtil.postData(l.internalErrorEndpoint+"?p="+f.data[a.productIdParameter],e,void 0,void 0,void 0,void 0,!0))}},{key:"logInternalError",value:function(e,t){if((0,l.getConfig)("enableTag")){if((0,l.isIframe)()){t||(t=""),t+="Error from Iframe: "+window.location.toString();var n=c.IframeRequest.getIframeRequest((0,u.getIframeId)(),"apt-log",{message:e.message,stackTrace:e.stack,extraMessage:t});return void window.top.postMessage(JSON.stringify(n),"*")}var r="aptrinsic web sdk error: ";t&&(r+=t+"\n"),r+=e.message,e.stack?(r+=", stack trace: "+e.stack,this.log(r)):(r+=e.message,e.stack?(r+=", stack trace: "+e.stack,this.log(r)):this.trace(r)),this.reportToServer(r)}}},{key:"reportToServer",value:function(e){s.AjaxUtil.postData(l.logErrorEndpoint,{url:(0,d.getFullUrlMasked)(),apiKey:f.data[a.productIdParameter],message:e,applicationVersion:a.applicationVersion},void 0,void 0,void 0,void 0,!0)}}]),e}();t.logger=new p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE=t.path=t.host=t.externalEventListeners=t.globalContextCache=t.eventTrackData=t.aptrinsicGlobalObjName=t.decode=t.documentRef=t.windowRef=t.applicationVersion=t.aptrinsicIdParam=t.sessionIdParam=t.userIdParameter=t.productIdParameter=t.apiMethods=t.trackApiMethod=void 0;var r=n(6),o=t.trackApiMethod="track";t.apiMethods=[o,"get","users","set","identify","initWithExternalState","carousel","login","lead","account","checklog","event","setOnce","remove","pageView","send","bot","reset","addListener","config"],t.productIdParameter="p",t.userIdParameter="v",t.sessionIdParam="s",t.aptrinsicIdParam="ai",t.applicationVersion="0.29.0",t.windowRef=window,t.documentRef=document,t.decode=decodeURIComponent,t.aptrinsicGlobalObjName="aptrinsic",t.eventTrackData=new r.LocalCache,t.globalContextCache=new r.LocalCache,t.externalEventListeners={},t.host=location.hostname,t.path=location.pathname+location.search+location.hash,t.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE={button:["name","value","type"],img:["src","alt"],select:["name"],textarea:["name"],input:["name","type"],a:["href"]}},function(e,t,n){"use strict";function r(){try{return localStorage.setItem("aptTest","aptTest"),localStorage.removeItem("aptTest"),!0}catch(e){return!1}}function o(){if(C!==document.location.hostname){C=document.location.hostname;var e=new Date,t=void 0,n=void 0,r="apt.temp-"+Date.now()+h.UUIDGenerator.generateRandom(8),o=document.location.hostname.split("."),i=p();if(e.setTime(Date.now()+6e4),1==o.length)return x="";for(var a=o.length-1;a>=0;a--)if(t=o.slice(a).join("."),n="."+t,document.cookie=r+"=cookie;domain="+n+"; expires="+e.toUTCString()+i,document.cookie.indexOf(r)>-1)return document.cookie=r+"=;domain="+n+";expires=Thu, 01 Jan 1970 00:00:01 GMT;"+i,x="."+t;x=document.location.hostname}return x}function i(e){var t=null;return window.innerWidth&&!e?t=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?t=document.documentElement.clientWidth:document.body&&(t=document.body.clientWidth),t||0}function a(){var e=null;return window.innerHeight?e=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&(e=document.body.clientHeight),e||0}function s(){var e=document.body,t=document.documentElement;return Math.max(e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function l(){if(!b){b=!0;for(var e=0;e<w.length;e++){var t=Array.prototype.slice.call(w[e]),n=t.shift();try{n.apply(window,t)}catch(e){}}w=[]}}function c(){"complete"===document.readyState&&ready()}function u(e){if(b){var t=[].slice.call(arguments,1);return void setTimeout(function(){e.apply(window,t)},1)}w.push(arguments),"complete"===document.readyState?setTimeout(l,1):E||(document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):(document.attachEvent("onreadystatechange",c),window.attachEvent("onload",l)),E=!0)}function d(e){if((0,y.isBlank)(e))return null;try{var t=v.documentRef.createElement("a");return t.href=e,{protocol:t.protocol+"//",host:t.host,pathname:t.pathname,search:t.search,hash:t.hash}}catch(e){return null}}function f(e){var t=e||window.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}function p(){return g()&&v.documentRef.location.protocol.startsWith("https")?"; SameSite=None; secure":""}function g(){return window.self!==window.top.parent&&!window.runVue}function m(e,t,n){n&&(e.style[t]=n)}Object.defineProperty(t,"__esModule",{value:!0}),t.applyStyle=t.getSameSiteCookieSuffix=t.detectIE=t.localStorageEnabled=t.url2Location=t.getDomain=t.addDOMReadyListener=t.getFullPageHeight=t.getPageHeight=t.getPageWidth=void 0;var h=n(14),v=n(4),y=n(1),b=!1,E=!1,w=[],C=null,x=null;navigator.cookieEnabled;t.getPageWidth=i,t.getPageHeight=a,t.getFullPageHeight=s,t.addDOMReadyListener=u,t.getDomain=o,t.url2Location=d,t.localStorageEnabled=r,t.detectIE=f,t.getSameSiteCookieSuffix=p,t.applyStyle=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return void 0!==e&&null!=e&&"[object Object]"==Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LocalCache=function(){function e(){r(this,e),this.data={}}return i(e,[{key:"getdata",value:function(){return this.data}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"setdata",value:function(e,t){this.data[e]=t}},{key:"mergeData",value:function(e,t,n){if(o(t)){var r=this.data[e];r||(r={}),n?Object.keys(t).forEach(function(e){r.hasOwnProperty(e)||(r[e]=t[e])}):Object.assign(r,t),this.data[e]=r}else{var i=this.getKey(e);n?!i&&this.setdata(e,t):this.setdata(e,t)}}},{key:"addToMap",value:function(e,t,n){var r=this.data[e];r||(r={}),r[t]||(r[t]={}),Object.assign(r[t],n),this.data[e]=r}},{key:"getKey",value:function(e){return this.data[e]}},{key:"deleteKey",value:function(e){delete this.data[e]}}]),e}();t.cacheSet="setdata",t.cacheGetAll="getdata",t.cacheGet="getKey",t.cacheGetAsString="toString",t.cacheMerge="mergeData"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){h[n]=h[n]||new g(e,t,n)}function i(e){delete h[e]}function a(){return Object.keys(h).map(function(e){return h[e]})}function s(e){return h[e]}function l(e,t){var n=h[e];n&&(n.domElement=t,n.isChild=!0)}function c(e,t,n){var r={callback:t,counter:0,data:null,additionalData:n};v[e]=r}function u(e){v[e].counter++}function d(e,t){var n=v[e];n&&t&&(n.timeout=setTimeout(function(){for(;n.counter>0;)f(e,{error:"PX_INCREMENT_STATE_TIMEOUT_"+n.counter})},t))}function f(e,t){var n=v[e];n&&(null===n.data&&(n.data=[]),n.data.push(t),--n.counter<=0&&(n.timeout&&clearTimeout(n.timeout),n.callback(n.data,n.additionalData)))}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function e(t,n,o){r(this,e),this.iframe=t,this.origin=n,this.iframeId=o},m=function(){function e(t){if(r(this,e),t&&(this.aptrinsicEventType=t.aptrinsicEventType,this.aptrinsicIframeId=t.aptrinsicIframeId,this.content=t.content,this.aptrinsicRequestId=t.aptrinsicRequestId,!this.aptrinsicEventType))throw new Error("cannot initiate iframe request without event type")}return p(e,null,[{key:"getMasterRequst",value:function(t,n,r,o){var i=new e({aptrinsicIframeId:o,aptrinsicEventType:t,content:n,aptrinsicRequestId:r});if(!i.aptrinsicEventType)throw new Error("cannot initiate iframe request without event type");return i}},{key:"getIframeRequest",value:function(t,n,r,o){var i=new e({aptrinsicIframeId:t,aptrinsicEventType:n,content:r,aptrinsicRequestId:o});if(!i.aptrinsicEventType)throw new Error("cannot initiate iframe request without event type");if(!i.aptrinsicIframeId)throw new Error("cannot initiate iframe request without iframe id");return i}}]),e}(),h={},v={};t.registerIframe=o,t.getRegisteredIframes=a,t.IframeRequest=m,t.subscribe=c,t.incrementState=u,t.decrementState=f,t.IframeData=g,t.getIframeData=s,t.associateIframe=l,t.unregisterIframe=i,t.execute=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,o,i,d,f){try{var p=u.createCors(e,t);if(!p){if(f)return;throw new Error("cannot make request to "+t+" not supported")}if(d&&p.setRequestHeader("Content-Type","application/json"),o)for(var g in o)o.hasOwnProperty(g)&&p.setRequestHeader(g,o[g]);p.onload=function(){try{var o=p.responseText,i=null;if(""!==o)try{i=JSON.parse(o)}catch(e){i=o}if(p.status>=200&&p.status<300){var u=a.eventTrackData[l.cacheGet](a.productIdParameter);if(i&&i.p&&u&&!(0,c.isApiKeyMatch)(i.p,u))return;n&&n(i)}else s.logger.log("error "+p.statusText+" happened in the request: "+e+" "+t),r&&r(p.status,i)}catch(e){if(f)return;s.logger.logInternalError(e)}},p.onerror=function(){f||(r&&r(),s.logger.log("error happened in the request: "+e+" "+t))},i&&"GET"!==e?p.send(JSON.stringify(i)):p.send()}catch(e){if(f)return;var m="sendAjaxRequest: ";if(m+="URL: '"+t+"'\n",i)try{m+="Data: '"+JSON.stringify(i)+"'\n"}catch(e){}s.logger.logInternalError(e,m)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxUtil=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=n(3),l=n(6),c=n(1),u=function(){function e(){r(this,e)}return i(e,null,[{key:"createCors",value:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}},{key:"postData",value:function(e,t,n,r,i,a,s){o("POST",e,r,i,n,t,a,s)}},{key:"putData",value:function(e,t,n,r,i,a){o("PUT",e,r,i,n,t,a)}},{key:"getData",value:function(e,t,n,r,i,a){o("GET",e,t,r,n,null,i,a)}},{key:"deleteData",value:function(e,t,n,r,i,a){o("DELETE",e,r,i,n,t,a)}},{key:"loadFile",value:function(e,t){try{var n=null;switch(e){case"js":n=a.documentRef.createElement("script"),n.async=!0,n.type="text/javascript",n.src=t;break;case"css":n=a.documentRef.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=t;break;default:throw new Error("unknown type "+e)}a.documentRef.getElementsByTagName("head")[0].appendChild(n)}catch(e){s.logger.logInternalError(e)}}}]),e}();t.AjaxUtil=u},function(e,t,n){"use strict";function r(e,t,n){var r=(0,b.createElement)("div",n);return r.innerHTML=e,t?r.firstChild:r}function o(e){var t=+new Date+""+Math.random();try{var n=e;return n[t]="asd","asd"===n[t]}catch(e){return!1}}function i(e,t){var n=window.top.document.querySelector(e),r=void 0;if(n)return{element:n,sourceIframe:null};try{if((0,b.isNotEmptyArr)(t))for(var i=0;i<t.length&&(r=t[i],!o(r)||!(n=r.iframe.document.querySelector(e)));i++);}catch(e){}return n?{element:n,sourceIframe:n?r:void 0}:void 0}function a(e,t){var n=void 0,r=void 0;try{if((0,b.isNotEmptyArr)(t))for(var i=0;i<t.length&&(r=t[i],!o(r)||!(n=r.iframe.document.querySelector(e)));i++);}catch(e){}return{element:n,sourceIframe:n?r:void 0}}function s(e,t){return t.querySelector(e)}function l(e){for(var t=e;t&&"BODY"!==t.tagName;){if(1===t.nodeType&&(t.classList.contains("apt-guide-popup")||"true"===t.getAttribute("data-apt-disable-selector")||t.className.indexOf("apt-")>-1||t.className.indexOf("aptr-")>-1))return!1;t=t.parentNode}return!0}function c(e,t,n){var r=void 0,o=void 0,i=null;for(e=e.firstChild;e;e=e.nextSibling)if(r=e.nodeType,o="",1===r&&-1==x.indexOf(e.tagName.toLowerCase())&&l(e))if(o=e.textContent,o=o.trim(),e.children&&e.children.length>0){var a=void 0,s="";switch(t){case"is":case"startsWith":case"endsWith":case"contains":a="contains",s=n;break;case"isNot":case"notContains":case"notStartsWith":case"notEndsWith":a="isNotEmpty";break;case"isNotEmpty":a=t}if(("isEmpty"===t||(0,w.matchExpression)(o,a,s))&&(i=c(e,t,n)))return i}else if((0,w.matchExpression)(o,t,n)&&(0,b.isElementVisible)(e))return e;return i}function u(e,t){var n=void 0,r=void 0;if(e.matchCssSelector){if(r=t.querySelectorAll(e.cssSelector),(0,b.isEmptyArr)(r))return null;if(!e.matchTextRule)return r[0];for(var o=0;o<r.length;o++)if(n=r[o],(0,w.matchExpression)(n.textContent,e.textRuleOperator,e.textRuleValues[0]))return n}else if(e.matchTextRule)return c(t.body,e.textRuleOperator,e.textRuleValues[0]);return null}function d(e,t){var n=[],r=window.top.document.querySelector(e);r&&n.push(r);try{var i=void 0;if(t)for(var a=0;a<t.length;a++)i=t[a],o(i)&&(r=i.iframe.document.querySelector(e))&&n.push(r)}catch(e){}return n}function f(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function p(e){return e.ownerDocument.defaultView.frameElement}function g(e){try{for(var t=0,n=0,r=0,o=0,i=e.ownerDocument.defaultView;i!==window.top;){var a=i.frameElement.getBoundingClientRect();t+=a.top,n+=a.left,r+=a.right,o+=a.bottom,i=i.frameElement.ownerDocument.defaultView}return{top:t,left:n,right:r,bottom:o}}catch(e){return E.logger.logInternalError(e),{top:0,left:0,right:0,bottom:0}}}function m(e){return h(s(e,document))}function h(e){if(!e||!(0,b.isElementVisible)(e))return null;var t=e.textContent;return(0,b.isUndefinedStr)(t)?null:t.trim()}function v(e,t,n){var r=n?n+" ."+t:"."+t,o=e.indexOf(t);if(o>-1){var i=e.indexOf("}",o),a=e.substring(0,o-1),s=e.substring(i+1,e.length),l=e.substring(o-1,i+1),c=(a+s).replace(C,r+" $1 $2");return n?n+" "+l+c:l+c}return e.replace(C,r+" $1 $2")}function y(e,t,n,r){if(!(0,b.isBlank)(t)){var o=document.createElement("style");o.type="text/css",t=n?v(t,n,r):t,o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),e.appendChild(o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getText=t.findElementInWindow=t.observeDOM=t.addStyleTag=t.getElementText=t.getIframeOffsetOfElement=t.getContainingIframeOfElement=t.getParentWindowOfElement=t.findElementInFrames=t.findInWindow=t.findAllElements=t.findElement=t.checkIframe=t.toDom=void 0;var b=n(1),E=n(3),w=n(63),C=/([^]*?)({[^]*?}|,)/g,x=["script","style"],I=function(){var e=window.MutationObserver||window.WebKitMutationObserver;return function(t,n){if(t&&1!==!t.nodeType)if(e){var r=new e(function(e,t){n(e)});r.observe(t,{childList:!0,subtree:!0})}else window.addEventListener&&(t.addEventListener("DOMNodeInserted",n,!1),t.addEventListener("DOMNodeRemoved",n,!1))}}();t.toDom=r,t.checkIframe=o,t.findElement=i,t.findAllElements=d,t.findInWindow=s,t.findElementInFrames=a,t.getParentWindowOfElement=f,t.getContainingIframeOfElement=p,t.getIframeOffsetOfElement=g,t.getElementText=m,t.addStyleTag=y,t.observeDOM=I,t.findElementInWindow=u,t.getText=h},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.previewEndpoint=void 0;var o=n(38),i=n(1),a=n(8),s=n(2),l=window,c='https://app-be.aptrinsic.com'+"/api/editor/preview",u=new function(){var e=void 0,t=void 0,n={},u=void 0,d=void 0,f=void 0,p=function(){return u.push(arguments),!0};return l.guideEditor=l.guideEditor||p,u=l.guideEditor.q||[],l.guideEditor.q=l.guideEditor.q||u,p.getQueue=function(){return u},p.isEditorMode=function(){return e&&t},p.getToken=function(){return e},p.getType=function(){return t},p.isPreview=function(){return"true"===n.aptPreview},p.getPreviewUrl=function(){return c+"/"+n.groupId+"/"+n.contentId+"?lang="+n.aptLang},p.loadEditor=function(e){return d=d||e,"1"===t?a.AjaxUtil.loadFile("js",s.staticContentHost+"/api/editor.js?a="+e):"2"===t&&a.AjaxUtil.loadFile("js",s.staticContentHost+"/api/guide-editor.min.js?a="+e),!0},p.getAdditionalDetails=function(){return n},p.replaceCall=function(e){p=e},p.exit=function(){o.Cookie.deleteCookie("apt.token")},p.cleanEngagementData=function(){var e="queryParam"===f?l.location.search:l.location.hash,t=void 0;t=e.indexOf("aptToken");var n=t>-1?e.substring(0,t-1):e,r=l.location.protocol+"//"+l.location.host+l.location.pathname;return r+="queryParam"===f?n+l.location.hash:l.location.search+n},p.getProductKey=function(){return d},p.getQueryParams=function(){var o;return Object.assign((o={},r(o,"aptToken",e),r(o,"aptEditor",t),r(o,"aptProductKey",d),o),n)},function(){var r=l.location.search,a=l.location.hash,s=(0,i.isBlank)(r)?-1:r.indexOf("aptToken"),c=(0,i.isBlank)(a)?-1:a.indexOf("aptToken"),u=-1,p=void 0;if(s>-1?(u=s,p="queryParam"):c>-1&&(u=c,p="hash"),u>-1){f=p;var g=void 0;g="queryParam"===f?r:a;for(var m=g.substring(1).split("&"),h=0;h<m.length;h++){var v=m[h].split("=");switch(v[0]){case"aptToken":e=v[1];break;case"aptEditor":t=v[1];break;case"aptProductKey":d=v[1];break;case"guideId":case"groupId":case"engagementId":case"contentId":case"aptPreview":case"kcId":case"aptLang":n[v[0]]=v[1]}}}else{var y=o.Cookie.getCookie("apt.token"),b=y&&y.split("&");(0,i.isNotEmptyArr)(b)&&b.length>1&&(e=b[0])&&(t=b[1])&&(n=JSON.parse(b[2]))}e&&t&&3!=t&&4!=t&&5!=t&&o.Cookie.setCookie("apt.token",[e,t,JSON.stringify(n)].join("&"))}(),p};t.default=u,t.previewEndpoint=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return u.getKey(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.internalEventListener=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6),s=n(1),l=n(3),c=n(14),u=new a.LocalCache,d=function(){function e(){r(this,e)}return i(e,[{key:"addListener",value:function(e,t,n,r){var o=c.UUIDGenerator.generateV4Id(),i=u.getKey(e);i||(i=[],u.setdata(e,i));for(var a=!1,s=0;s<i.length;s++)if(i[s].callback===t){a=!0;break}a||i.push({listenerId:o,callback:t,thisReference:n,isExternal:r})}},{key:"removeListener",value:function(e,t,n){var r=u.getKey(e);if((0,s.isNotEmptyArr)(r))for(var o=0;o<r.length;o++)r[o].callback!==t&&r[o].listenerId!==n||r.splice(o,1)}},{key:"dispatchEvent",value:function(e){try{var t=o(e),n=[];arguments.length>1&&(n=Array.prototype.slice.call(arguments,1)),t&&t.forEach(function(t){var r=this;try{t.isExternal?setTimeout(function(){t.callback.apply(t.thisReference||r,n)},0):t.callback.apply(t.thisReference||this,n)}catch(t){l.logger.logInternalError(t,"Error while executing listener for type "+e)}})}catch(t){l.logger.logInternalError(t,"Error while trying to execute listeners for type"+e)}}}]),e}(),f=new d;t.internalEventListener=f},function(e,t,n){"use strict";function r(e,t){try{if((0,g.isIframe)()||(0,v.isEmptyArr)(t))return;t.forEach(function(t){e.aptrinsicIframeId=t.iframeId,t.iframe&&t.iframe.postMessage(JSON.stringify(e),t.origin)})}catch(e){m.logger.logInternalError(e)}}function o(e){try{return new h.IframeRequest(JSON.parse(e.data))}catch(e){return null}}function i(e,t,n){var r=n?"*":t.location.protocol+"//"+(f(t.location.port)?t.location.host:t.location.hostname);t.postMessage(JSON.stringify(e),r)}function a(e,t){t.iframe.postMessage(JSON.stringify(e),t.origin)}function s(){return window.aptrinsicIframeId=window.aptrinsicIframeId||y.UUIDGenerator.generateV4Id()}function l(e){var t=(0,b.getDomain)();return e=(0,v.safeUrl)(e),!!(e.indexOf(t)>-1||0==e.indexOf(t.substring(1,t.length))||(0,g.getConfig)("allowCrossDomain"))}function c(e){var t=window.frames;if(t.length>0)for(var n=0;n<t.length;n++)if(t[n]===e.source){var r=t[n].getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}return{top:0,right:0,bottom:0,left:0}}function u(e,t,n,r){var o=y.UUIDGenerator.generateV4Id();(0,h.subscribe)(o,r),a(h.IframeRequest.getMasterRequst(e,t,o),n),(0,h.incrementState)(o)}function d(e,t,n){var r=y.UUIDGenerator.generateV4Id();(0,h.subscribe)(r,n),i(h.IframeRequest.getIframeRequest(s(),e,t,r),window.top,!0),(0,h.incrementState)(r)}function f(e){return!(0,v.isBlank)(e)&&"80"!==e&&"443"!==e}function p(e){if(e.length>0)for(var t=0;t<e.length;t++){(function(t){if(!e[t].src.startsWith("http"))return"continue";var n=document.createElement("a");n.href=e[t].src;var r=n.protocol+"//"+(f(n.port)?n.host:n.hostname);u("getChildAssociation",null,new h.IframeData(e[t].contentWindow,r),function(n){(0,h.associateIframe)(n[0].iframeId,e[t])})})(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.iframeSubscribeCallback=t.createSubscribeCallbackRequest=t.associateChildIframes=t.getIframeBoundingRect=t.getIframeId=t.isValidCallingDomain=t.postRequestDown=t.postRequest=t.parseEvent=t.propagateDown=void 0;var g=n(2),m=n(3),h=n(7),v=n(1),y=n(14),b=n(5);t.propagateDown=r,t.parseEvent=o,t.postRequest=i,t.postRequestDown=a,t.isValidCallingDomain=l,t.getIframeId=s,t.getIframeBoundingRect=c,t.associateChildIframes=p,t.createSubscribeCallbackRequest=u,t.iframeSubscribeCallback=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return!!e&&/\{\s+\[native code\]/.test(Function.prototype.toString.call(e))}(Array.from)?Array.from:function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},r=Math.pow(2,53)-1,o=function(e){var t=n(e);return Math.min(Math.max(t,0),r)};return function(e){var n=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i=arguments.length>1?arguments[1]:void 0,a=void 0;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var s=o(r.length),l=t(n)?Object(new n(s)):new Array(s),c=0,u=void 0;c<s;)u=r[c],l[c]=i?void 0===a?i(u,c):i.call(a,u,c):u,c+=1;return l.length=s,l}}();t.arrayFrom=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(86);t.UUIDGenerator=function(){function e(){r(this,e)}return o(e,null,[{key:"generateUuid",value:function(e){return e+"-"+(new Date).getTime()+"-"+this.generateRandom(8)}},{key:"getProductId",value:function(e){return e?e.split(".")[0].split("-").slice(0,-2).join("-"):null}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},{key:"generateRandom",value:function(e){for(var t="",n=0;n<e;n++)t+=this.getRandomInt(1,10);return t}},{key:"generateV4Id",value:function(){return i()}}]),e}()},,function(e,t,n){"use strict";function r(e,t,n,r,a){if(!e)return void n(void 0);var d=[],f=(0,o.getConfig)("sfdcTemplate")||document,p=(0,c.findElementInWindow)(e,f),g=void 0;if(p){var m={element:p,isVisible:(0,s.isElementVisible)(p)};if(!a)return void n(m);d.push(m)}var h=l.UUIDGenerator.generateV4Id();(0,i.subscribe)(h,function(e){for(var t=0;t<e.length;t++)e[t].exist&&d.push({iframeData:e[t].iframeData});n(r?d:d.length>0?d[0]:void 0)});try{if((0,s.isNotEmptyArr)(t)){for(var v=0;v<t.length;v++)g=t[v],u.elementExist(g,e,h),(0,i.incrementState)(h);(0,i.execute)(h,200)}else n(void 0)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.findInAll=void 0;var o=n(2),i=n(7),a=n(12),s=n(1),l=n(14),c=n(9),u=new function(){this.guideHideSteps=function(){if(!(0,o.isIframe)()){var e=i.IframeRequest.getMasterRequst("guide",{type:"hideAll"});(0,a.propagateDown)(e,(0,i.getRegisteredIframes)())}},this.updateState=function(e,t){if(!(0,o.isIframe)()){var n=i.IframeRequest.getMasterRequst("guide",{type:"updateState",state:e,enableSelector:t});(0,a.propagateDown)(n,(0,i.getRegisteredIframes)())}},this.setSelectorState=function(e){if(!(0,o.isIframe)()){var t=i.IframeRequest.getMasterRequst("guide",{type:"updateSelectorState",state:e});(0,a.propagateDown)(t,(0,i.getRegisteredIframes)())}},this.guideRemoveHighlighted=function(e,t){if(!(0,o.isIframe)()){var n=i.IframeRequest.getMasterRequst("guide",{type:"removeHighlighted",tag:e,removeAll:t});(0,a.propagateDown)(n,(0,i.getRegisteredIframes)())}},this.selectorHighlightElement=function(e,t,n){if(!(0,o.isIframe)()){var r=i.IframeRequest.getMasterRequst("guide",{type:"highlightElement",tag:t,cssSelector:e});(0,a.postRequest)(r,n)}},this.selectorHighlightAll=function(e,t,n){if(!(0,o.isIframe)()){var r=i.IframeRequest.getMasterRequst("guide",{type:"highlightAll",stepId:t,cssSelector:e});(0,a.postRequestDown)(r,n)}},this.selectorRemoveAllHighlighted=function(){if(!(0,o.isIframe)()){var e=i.IframeRequest.getMasterRequst("guide",{type:"removeAllHighlighted"});(0,a.propagateDown)(e,(0,i.getRegisteredIframes)())}},this.getElementLocation=function(e,t,n){if(!(0,o.isIframe)()){var r={elementSelector:t};(0,a.createSubscribeCallbackRequest)("apt-msg-get-element-location",r,e,n)}},this.elementExist=function(e,t,n){if(!(0,o.isIframe)()){var r=i.IframeRequest.getMasterRequst("elementExist",{elementSelector:t},n,e.iframeId);(0,a.postRequestDown)(r,e)}},this.addElementHandler=function(e,t,n,r){if(!(0,o.isIframe)()){var i={nextStepTrigger:n,elementSelector:t};(0,a.createSubscribeCallbackRequest)("apt-msg-add-handler-show-next-step",i,e,r)}},this.isElementVisible=function(e,t,n){(0,o.isIframe)()||(0,a.createSubscribeCallbackRequest)("guide",{type:"isElementVisible",cssSelector:t},e,n)},this.sendStateResponse=function(e,t,n){if(!(0,o.isIframe)()){var r=i.IframeRequest.getMasterRequst("guide",{type:"stateResponse",state:n},t);(0,a.postRequestDown)(r,e)}},this.getAlternateSelector=function(e,t,n){(0,o.isIframe)()||(0,a.createSubscribeCallbackRequest)("guide",{type:"getAlternateSelector",cssSelector:t},e,n)},this.addOutsideEventHandler=function(e,t,n,r){if(!(0,o.isIframe)()){var i={nextStepTrigger:n,elementSelector:t};(0,a.createSubscribeCallbackRequest)("aptGuideExternalClick",i,e,r)}}};t.default=u,t.findInAll=r},function(e,t,n){"use strict";function r(){(0,f.getConfig)("enableTag")&&p.push(arguments)}function o(){var e=Array.prototype.slice.call(arguments);d.api.trackEvent.apply(d.api,e)}function i(){if((0,f.getConfig)("enableTag")){for(var e=p,n=void 0,r=e.length,i=0;i<r;i++)n=e.shift(),o.apply(null,n);t.internalApt=v=function(){o.apply(null,arguments)}}}function a(){t.internalApt=v=r}function s(){m=!1,g&&clearTimeout(g)&&(g=null),i();for(var e=0;e<h.length;e++){var t=h[e],n=t[0],r=t.slice(1);n.apply(null,r)}}function l(){m=!0,g=setTimeout(s,1e3),t.internalApt=v=r}function c(){return m}function u(){var e=[].slice.call(arguments),t=e[0];if(!t||"function"!=typeof t)return void logger.logInternalError(new Error("registerIdentifyCallback didnt receive function as first argument"));h.push(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.appNotReady=t.registerIdentifyCallback=t.isInIdentify=t.identifyFinished=t.identifyStart=t.internalApt=t.appReady=void 0;var d=n(31),f=n(2),p=[],g=null,m=!1,h=[],v=r;t.appReady=i,t.internalApt=v,t.identifyStart=l,t.identifyFinished=s,t.isInIdentify=c,t.registerIdentifyCallback=u,t.appNotReady=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserData=void 0;var r=n(14),o=n(38),i=n(4),a=n(6),s=n(3),l=n(17),c=n(1),u=n(2),d=n(5),f=n(11),p="apt.uid",g="apt.sid",m=31536e6,h=18e5,v=20,y=null,b=t.UserData=new function(){function e(){return(0,u.getConfig)("sessionCookieTTL")||h}function t(e){return e.split(".")}function n(e){return e.join(".")}function E(){try{var e=o.Cookie.getAllCookieVal(p);null!=e&&e.length>1&&(o.Cookie.setCookie(p,null,-1,(0,u.getConfig)("fullDomainCookie")?(0,d.getDomain)():document.location.hostname),e=o.Cookie.getAllCookieVal(p),null!=e&&e.length>1&&o.Cookie.setCookie(p,null,-1,(0,u.getConfig)("fullDomainCookie")?(0,d.getDomain)():" "),s.logger.logInternalError(new Error("deleting "+p+" for domain, current cookies: "+document.cookie)))}catch(e){s.logger.logInternalError(e)}}function w(){try{var e=o.Cookie.getAllCookieVal(g);null!=e&&e.length>1&&(o.Cookie.setCookie(g,null,-1,(0,u.getConfig)("fullDomainCookie")?(0,d.getDomain)():" "),s.logger.logInternalError(new Error("deleting "+g+" for domain, current cookies: "+document.cookie)))}catch(e){s.logger.logInternalError(e)}}function C(e,l,d){if((0,u.getConfig)("enableTag")){E();var f=o.Cookie.getCookie(p),g=[],h=e||S;if(f&&(0,u.getConfig)("multipleProductsPerDomain")){var v=r.UUIDGenerator.getProductId(f);v&&(0,c.getProductKeyFromApiKey)(v)!==(0,c.getProductKeyFromApiKey)(O)&&(f=null)}if(!f||l||f&&f.startsWith("undefined-")?(l&&!d&&s.logger.logInternalError(new Error("force new is "+l+", and did not have aptrinsic id so generating a new one")),f=r.UUIDGenerator.generateUuid(O),g.push(f),g.push(0),g.push(h),l&&d&&g.push(d)):(g=t(f),e&&e>g[2]&&(g[2]=e)),i.eventTrackData[a.cacheSet](i.userIdParameter,g[0]),o.Cookie.setCookie(p,n(g),m),!(f=o.Cookie.getCookie(p)))throw new Error("wasn't able to save user cookie for type: "+e+", force new:"+l+", aptrinsic id: "+d);L=!0}}function x(){if((0,u.getConfig)("enableTag")){var e=r.UUIDGenerator.generateUuid(O);return I(e),i.eventTrackData[a.cacheSet](i.sessionIdParam,e),e}}function I(t){if(o.Cookie.setCookie(g,t,e()),k(),!(t=o.Cookie.getCookie(g)))throw new Error("wan't able to create session cookie, not going to track this user")}function k(){y&&clearTimeout(y),y=setTimeout(function(){o.Cookie.getCookie(g)||f.internalEventListener.dispatchEvent("sessionExpired")},e()+v)}var T=this,S=0,O=void 0,A=!1,L=!1;this.initializeUser=function(e){(0,u.getConfig)("enableTag")&&(e&&(O=e),C(),T.getSessionId())},this.clearUserData=function(){o.Cookie.deleteCookie(p),o.Cookie.deleteCookie(g)},this.ensureUserData=function(){if((0,u.getConfig)("enableTag")){E();var e=o.Cookie.getCookie(p),t=o.Cookie.getCookie(g);e&&t||T.initializeUser()}},this.getUserId=function(){if((0,u.getConfig)("enableTag")){var e=o.Cookie.getCookie(p);if(!e)throw new Error("user cookie is not initialized, is init called before: "+L+", current cookies in doc: "+document.cookie);return t(e)[0]}},this.getAptrinisId=function(e){if((0,u.getConfig)("enableTag")){var n=o.Cookie.getCookie(p),r=[];if(e&&!n)return null;if(!n)throw new Error("user cookie is not initialized, is init called before: "+L+", current cookies in doc: "+document.cookie);return r=t(n),r.length>3?r[3]:r[0]}},this.setAptrinsicId=function(e,n){if((0,u.getConfig)("enableTag")){var r=o.Cookie.getCookie(p),s=[];if(!r)throw new Error("user cookie is not initialized, is init called before: "+L+", current cookies in doc: "+document.cookie);s=t(r);var l=s.length<4||s.length>3&&s[3]!==e;return l&&x()&&C(n?1:2,!0,e),s[3]=e,i.eventTrackData[a.cacheSet](i.aptrinsicIdParam,s[3]),l}},this.changeUserType=function(e){(0,u.getConfig)("enableTag")&&(C(e),i.eventTrackData[a.cacheSet]("vt",b.getUserType()))},this.getUserType=function(e){if((0,u.getConfig)("enableTag")){var n=o.Cookie.getCookie(p),r=[];if(e&&!n)return S;if(!n)throw new Error("user cookie is not initialize");return r=t(n),r[2]||0}},this.getSessionId=function(){if((0,u.getConfig)("enableTag")){w();var e=o.Cookie.getCookie(g),t=!1;return!e||(0,u.getConfig)("multipleProductsPerDomain")&&(0,c.getProductKeyFromApiKey)(r.UUIDGenerator.getProductId(e))!==(0,c.getProductKeyFromApiKey)(O)?(t=A=!0,e=r.UUIDGenerator.generateUuid(O)):A=!1,I(e),t&&!(0,u.getConfig)("setSessionExternally")&&(i.eventTrackData[a.cacheSet]("ai",b.getAptrinisId()),i.eventTrackData[a.cacheSet]("vt",b.getUserType()),i.eventTrackData[a.cacheSet](i.sessionIdParam,e),(0,l.internalApt)("sessionInitialized",null,null,null,!1),(0,c.clearAptrinsicSessionStorage)()),e}},this.setSessionId=function(t){if((0,u.getConfig)("enableTag")){if(w(),o.Cookie.setCookie(g,t,e()),k(),!(t=o.Cookie.getCookie(g)))throw new Error("wan't able to create session cookie, not going to track this user");i.eventTrackData[a.cacheSet]("ai",b.getAptrinisId()),i.eventTrackData[a.cacheSet](i.sessionIdParam,t),i.eventTrackData[a.cacheSet]("vt",b.getUserType()),(0,c.clearAptrinsicSessionStorage)()}},this.getLeadType=function(){return 1},this.userType=function(){return 2},this.visitorType=function(){return S},this.isNewSession=function(){var e=A;return A=!1,e},this.isUser=function(){return 2==T.getUserType()}}},function(e,t,n){"use strict";function r(e,t){if(-1===t.indexOf(s))return t;if(t===l)return e;var n=document.createElement("a");n.href=e,0===t.indexOf(l)&&(t=n.protocol+"//"+t);var r=document.createElement("a");r.href=t,u(r.pathname,r.hash)&&(r.pathname=r.pathname+r.hash,r.hash=""),u(n.pathname,n.hash)&&(n.pathname=n.pathname+n.hash,n.hash="");var i=decodeURIComponent(n.host.endsWith(":80")||n.host.endsWith(":443")?n.hostname:n.host),a=decodeURIComponent(r.host.endsWith(":80")||r.host.endsWith(":443")?r.hostname:r.host),d=o(i,a,"."),f=o(decodeURIComponent(n.pathname),decodeURIComponent(r.pathname),"/"),p=o(n.hash,r.hash,"#"),g="",m="",h="";if(n.search||r.search&&r.search.substring(1)!==l)if(n.search){g=decodeURIComponent(n.search).substring(1).split("&"),m=decodeURIComponent(r.search).substring(1).split("&");for(var v=[],y=0;y<m.length;y++){var b=o(g[y],m[y],"=");v.push(b)}h=v.join("&")}else h=r.search.substring(1);return c(r.protocol,d,f,h,p)}function o(e,t,n){if(!t)return"";if(!e)return t;if(t===n)return t;var r=t.split(n),o=e.split(n);if(1===r.length&&r[0]===l||2===r.length&&""===r[0]&&r[1]===l)return e.charAt(0)===n?e.substring(1):e;for(var i=[],a=0;a<r.length;a++){var s=o[a],c=r[a];s&&c&&c===l?i.push(s):c&&i.push(c)}return i.join(n)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=a.documentRef.createElement("div");return n.innerHTML=e,n.querySelectorAll("a").forEach(function(e){var n=r(window.location.href,e.href);e.href=t(n)}),n.innerHTML}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUrlWithPlaceholders=r,t.resolveUrlsWithPlaceholdersInHTML=i;var a=n(4),s="px-auto-resolve",l="$px-auto-resolve",c=function(e,t,n,r,o){return e+"//"+t+(n&&"/"!==n?"/"+n:"/"===n?"/":"")+(r?"?"+r:"")+(o?"#"+o:"")},u=function(e,t){return t&&(0===t.indexOf("#/")||0===t.indexOf("#!/"))&&e&&-1!==e.indexOf("/",e.length-1)}},function(e,t,n){"use strict";var r,o,i,a,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){if("object"===s(t)&&void 0!==e)e.exports=n();else{o=[],r=n,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}}(function(){return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof a&&a;if(!l&&c)return a(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],o=0,i=n.length;o<i;o++)this.push(n[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(i.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",-1!==a(this,e)},l.add=function(){var e,t=arguments,n=0,r=t.length,o=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),o=!0)}while(++n<r);o&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,o=n.length,i=!1;do{for(e=n[r]+"",t=a(this,e);-1!==t;)this.splice(t,1),i=!0,t=a(this,e)}while(++r<o);i&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window.self))},{}],2:[function(e,t,n){function r(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var i=a[r]||a._default,s=i[0],l=i[1],c=i[2],o=t.createElement("div");for(o.innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var u=t.createDocumentFragment();o.firstChild;)u.appendChild(o.removeChild(o.firstChild));return u}t.exports=r;var o,i=!1;"undefined"!=typeof document&&(o=document.createElement("div"),o.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!o.getElementsByTagName("link").length,o=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(e,t,n){function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}t.exports={assign:r,polyfill:o}},{}],4:[function(e,t,n){e("classlist-polyfill"),e("es6-object-assign").polyfill();var r=e("domify"),o=function(e){if(void 0!==e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}return""},i=function(e,t){if("string"==typeof t&&0!==t.length)for(var n=t.split(" "),r=0;r<n.length;r++){var o=n[r];o.length&&e.classList.add(o)}},a=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}(),s={vex:"vex",content:"vex-content",overlay:"vex-overlay",close:"vex-close",closing:"vex-closing",open:"vex-open"},l={},c=1,u=!1,d={open:function(e){var t=function(e){console.warn('The "'+e+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};e.css&&t("css"),e.overlayCSS&&t("overlayCSS"),e.contentCSS&&t("contentCSS"),e.closeCSS&&t("closeCSS");var n={};n.id=c++,l[n.id]=n,n.isOpen=!0,n.close=function(){function e(e){return"none"!==n.getPropertyValue(e+"animation-name")&&"0s"!==n.getPropertyValue(e+"animation-duration")}if(!this.isOpen)return!0;var t=this.options;if(u&&!t.escapeButtonCloses)return!1;if(!1===function(){return!t.beforeClose||t.beforeClose.call(this)}.bind(this)())return!1;this.isOpen=!1;var n=window.getComputedStyle(this.contentEl),r=e("")||e("-webkit-")||e("-moz-")||e("-o-"),o=function e(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(a,e),delete l[this.id],this.rootEl.parentNode.removeChild(this.rootEl),t.afterClose&&t.afterClose.call(this),0===Object.keys(l).length&&document.body.classList.remove(s.open))}.bind(this);return a&&r?(this.rootEl.addEventListener(a,o),this.rootEl.classList.add(s.closing)):o(),!0},"string"==typeof e&&(e={content:e}),e.unsafeContent&&!e.content?e.content=e.unsafeContent:e.content&&(e.content=o(e.content));var f=n.options=Object.assign({},d.defaultOptions,e),p=n.rootEl=document.createElement("div");p.classList.add(s.vex),i(p,f.className);var g=n.overlayEl=document.createElement("div");g.classList.add(s.overlay),i(g,f.overlayClassName),f.overlayClosesOnClick&&g.addEventListener("click",function(e){e.target===g&&n.close()}),p.appendChild(g);var m=n.contentEl=document.createElement("div");if(m.classList.add(s.content),i(m,f.contentClassName),m.appendChild(f.content instanceof window.Node?f.content:r(f.content)),p.appendChild(m),f.showCloseButton){var h=n.closeEl=document.createElement("div");h.classList.add(s.close),i(h,f.closeClassName),h.addEventListener("click",n.close.bind(n)),m.appendChild(h)}return document.querySelector(f.appendLocation).appendChild(p),f.afterOpen&&f.afterOpen.call(n),document.body.classList.add(s.open),n},close:function(e){var t;if(e.id)t=e.id;else{if("string"!=typeof e)throw new TypeError("close requires a vex object or id string");t=e}return!!l[t]&&l[t].close()},closeTop:function(){var e=Object.keys(l);return!!e.length&&l[e[e.length-1]].close()},closeAll:function(){for(var e in l)this.close(e);return!0},getAll:function(){return l},getById:function(e){return l[e]}};window.addEventListener("keyup",function(e){27===e.keyCode&&(u=!0,d.closeTop(),u=!1)}),window.addEventListener("popstate",function(){d.defaultOptions.closeAllOnPopState&&d.closeAll()}),d.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(d,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:o}),d.registerPlugin=function(e,t){var n=e(d),r=t||n.name;if(d[r])throw new Error("Plugin "+t+" is already registered.");d[r]=n},t.exports=d},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},function(e,t,n){"use strict";function r(){if(P=d(),R=(0,m.getQueryParam)(O),D=v.windowRef.sessionStorage.getItem("apt.guideId"),_=R||D,R){var e=(0,m.removeFromQueryParam)(O);history.replaceState("",document.title,e)}}function o(e){S[e]=!0}function i(e){a(e),setTimeout(function(){x.KnowledgeCenterManager.fetchEntriesAndSendToWidget(v.eventTrackData.data[v.productIdParameter],v.eventTrackData.data[v.aptrinsicIdParam])},200)}function a(e){s(e)&&(S[e]=!1)}function s(e){return{}.hasOwnProperty.call(S,e)&&!0===S[e]}function l(){return _}function c(){return P}function u(e){try{var t={guideId:e,timestamp:Date.now()};v.windowRef.sessionStorage.setItem(A,JSON.stringify(t))}catch(e){y.logger.logInternalError("Error setting onDemand guide id",e)}}function d(e){var t=void 0;try{var n=v.windowRef.sessionStorage.getItem(A);if(n){var r=JSON.parse(n);r&&r.timestamp&&Date.now()<=r.timestamp+L&&(t=r.guideId),v.windowRef.sessionStorage.removeItem(A)}}catch(e){y.logger.logInternalError("Error reading onDemand guide id",e)}return t}function f(e){p(_,e)}function p(e,t){var n={};Object.assign(n,v.eventTrackData[b.cacheGetAll]()),(0,m.addCacheBuster)(n);var r=v.globalContextCache[b.cacheGet]("apt.gcx");r&&Object.assign(n,{gcx:JSON.stringify(r)});var o=(0,k.getEngagementSessionId)();n.s=o;var i=C.ongoingEngagementEndpoint+"/"+v.eventTrackData.data[v.productIdParameter]+"/"+e+"?"+(0,m.convert2Parameters)((0,m.addParameters)(n,[]));try{_&&!w.default.isEditorMode()&&h.AjaxUtil.getData(i,function(n){if(D){var r=JSON.parse(v.windowRef.sessionStorage.getItem("apt.prevStepMap")),o=v.windowRef.sessionStorage.getItem("apt.stepId");if(!r||!o)return void y.logger.logInternalError(new Error("guide ongoing cannot be processed due to missing parameters, prev step map: "+r+", current step: "+o));var i=n.content.steps,a=void 0;if(i.forEach(function(e){e.id===r[o].id&&(a=e)}),!a)return void y.logger.logInternalError(new Error("guide ongoing cannot be processed since previous step "+r[o].id+", does not exist in guide "+e));var s=(0,I.resolveUrlWithPlaceholders)(v.windowRef.location.href,a.navigation.nextStepUrl);if(!R&&D&&!(0,m.matchUrl)(s,(0,m.getPageUrl)()))return}t(n)})}catch(e){y.logger.logInternalError("Error during getting on demand engagement id "+_)}}function g(){if(!(0,C.isIframe)()){var e=window.self!==window.top.parent?window.document:window.top.document;Object.values(T.getAll()).forEach(function(e){e.rootEl.classList.contains("apt-vex")&&e.close()});e.querySelectorAll(".apt-hotspot-element").forEach(function(t){t&&e.body.removeChild(t)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getGuideRefreshData=t.hideAnyActiveEngagement=t.handleEngagementFinish=t.saveOnDemandGuideId=t.isOndemandState=t.startOverEngagement=t.isStartOverState=t.isLocked=t.unlockEngagementType=t.lockEngagementType=void 0,t.getOngoingEngagement=p;var m=n(1),h=n(8),v=n(4),y=n(3),b=n(6),E=n(10),w=function(e){return e&&e.__esModule?e:{default:e}}(E),C=n(2),x=n(22),I=n(19),k=n(37),T=n(24),S={},O="aptGuideId",A="apt.aptOdGuideId",L=3e4,P=void 0,R=void 0,D=void 0,_=void 0;r(),t.lockEngagementType=o,t.unlockEngagementType=a,t.isLocked=s,t.isStartOverState=l,t.startOverEngagement=f,t.isOndemandState=c,t.saveOnDemandGuideId=u,t.handleEngagementFinish=i,t.hideAnyActiveEngagement=g,t.getGuideRefreshData=r},function(e,t,n){"use strict";function r(){var e=p.windowRef.sessionStorage;return{kcId:_.getKcId(),categoryId:e.getItem("apt.kcCatId")}}function o(){var e=(0,y.isOndemandState)();if(e){var t=r();i(e,!1,t.kcId,t.categoryId)}}function i(e,t,n,r){if((0,y.hideAnyActiveEngagement)(),t)v.AjaxUtil.getData(x.previewEndpoint+"/kc/"+e,function(e){k.EngagementDrawer.draw(e)},{Authorization:"Bearer "+I.default.getToken()},function(e){try{403===e?((0,T.showMessage)("error","Not authorized to preview this engagement"),I.default.exit()):401==e&&((0,T.showMessage)("error","Token expired, try to preview again"),I.default.exit())}catch(e){m.logger.logInternalError(e)}});else{var o=(0,S.getTrackingPayload)();o.at="kc",o.kcid=n,o.catid=r;var i=o.s;(0,b.setEngagementSessionId)(i);var a=g.ondemandEndpoint+"/"+p.eventTrackData.data[p.productIdParameter]+"/"+e+"?"+(0,E.convert2Parameters)((0,E.addParameters)(o,[]));try{v.AjaxUtil.getData(a,function(e){k.EngagementDrawer.draw([e],!0)})}catch(e){m.logger.logInternalError("Error during getting on demand engagement id "+startOverGuideId)}}}function a(e,t,n,r){return v.AjaxUtil.getData(g.getKnowledceCenterConfigEndpoint+"/"+e+"/"+t,n,"",r)}function s(e,t,n,r){var o=p.eventTrackData[O.cacheGet](p.sessionIdParam),i=(0,S.getUrl)(g.getKnowledceCenterConfigEndpoint,{s:o,p:e});return e&&o||m.logger.logInternalError(new Error("Trying to fetch kc with product id "+e+" and session id "+o)),t?a(e,t,n,r):v.AjaxUtil.getData(i,n,"",r)}function l(e){return"MIDDLE"===e||"CENTER"===e}function c(e,t,n,r){try{var o=document.querySelector("#apt-widget");if(!e||e&&!e.element||!t||!n||!o)return!o&&m.logger.logInternalError(new Error("Could not calculate position for embedded bot, widget container does not exist")),e&&!e.element&&m.logger.logInternalError(new Error("Could not calculate position for embedded bot, mapped element does not exist")),(!r||!t||!n)&&m.logger.logInternalError(new Error("Could not calculate position for embedded bot"+JSON.stringify({positionSettings:t,alignments:n,positionType:r}))),{};var i=t.positionHorizontal.toUpperCase(),a=t.positionVertical.toUpperCase(),s=n.horizontalAlignment.toUpperCase(),c=n.verticalAlignment.toUpperCase(),u="fixed"===r,d=e.element.getBoundingClientRect(),f=o.getBoundingClientRect(),p=d.height/2,g=d.width/2,h="0px",v="0px",y=0,b=u?d.top:f.top-d.top;"TOP"===a?y=u?b:0-b:"BOTTOM"===a?y=u?d.height+b:d.height-b:l(a)&&(y=u?p+b:p-b),y+=t.positionTopDelta,"BOTTOM"===c&&(v="-100%");var E=0,w=u?d.left:f.left-d.left;return"LEFT"===i?E=u?w:0-w:"RIGHT"===i?E=u?d.width+w:d.width-w:l(i)&&(E=u?g+w:g-w),E+=t.positionLeftDelta,"RIGHT"===s&&(h="-100%"),{left:E,top:y,transform:"translate("+h+", "+v+")"}}catch(e){return m.logger.logInternalError(e,"Could not calculate position for embedded bot with element"),{}}}function u(e,t){try{var n=(0,g.getConfig)("fetchKcType"),r=(0,g.getConfig)("kcPositionType"),o="embedded"===(0,g.getConfig)("kcDisplayType"),i=o?c(t,e.windowSettings.embedKCSettings.positionSettings,{horizontalAlignment:e.windowSettings.embedKCSettings.horizontalAlignment,verticalAlignment:e.windowSettings.embedKCSettings.verticalAlignment},r):{};return e.windowSettings.embedKCSettings.calculatedPosition=i,Object.assign(e,{showIcon:"automatic"===n&&!o,isEmbedded:o,kcPositionType:r})}catch(e){return m.logger.logInternalError(e,"Could not merge sdk configuration for bot"),{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.KnowledgeCenterManager=t.KcSessionStorage=void 0;var d=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getKcDataFromSessionStorage=r,t.loadOnDemandEngagement=o,t.getKcEngagement=i,t.fetchKnowledgeCenterConfig=s;var f=n(18),p=n(4),g=n(2),m=n(3),h=n(11),v=n(8),y=n(21),b=n(37),E=n(1),w=n(31),C=n(19),x=n(10),I=function(e){return e&&e.__esModule?e:{default:e}}(x),k=n(34),T=n(28),S=n(106),O=n(6),A=n(60),L=n(25),P="apt_track_external_article",R="apt_log",D=["apt_get_engagement","APT_WIDGET_LOADED","apt_get_user_data","apt_send_feedback","apt_search_articles","apt_get_article","apt_track_internal_article","apt_tracking_toggle_widget",P,R],_=t.KcSessionStorage={setKcId:function(e){p.windowRef.sessionStorage.setItem("apt.kcId",e)},setIsDefaultKc:function(e){p.windowRef.sessionStorage.setItem("apt.isDefaultKc",e)},getIsDefaultKc:function(e){return p.windowRef.sessionStorage.getItem("apt.isDefaultKc")},getKcId:function(){return p.windowRef.sessionStorage.getItem("apt.kcId")}},N=t.KnowledgeCenterManager=new function(){function e(e,t){if(!document.querySelector(".apt-widget-frame")){m.logger.log("SDK Creating KC iframe"),V=!1,F=f.UserData.getUserId();var n=document.createElement("iframe");n.className="apt-widget-frame",n.style.display="none",n.style.visibility="hidden",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);var r=JSON.stringify(t);n.setAttribute("data-sdkconfig",r);var o='<head><script type="text/javascript" charset="utf-8" src='+e+"><\/script></head><body></body>";n.contentWindow.document.open(),n.contentWindow.document.write(o),n.contentWindow.document.close(),T=n.contentWindow,U=!0,H=!1,m.logger.log("SDK KC iframe creation done")}}function t(){return(0,g.getConfig)("enableTag")&&!(0,g.isIframe)()&&(0,g.getConfig)("widgetEnabled")&&(0,g.getKcConfig)()&&(0,g.getKcConfig)().enabled&&f.UserData.isUser()}function n(){if(t()){var e=(0,g.getKcConfig)(),n=e.includePatterns,o=e.excludePatterns,i=window.location.href;return o&&o.length>0&&(0,E.matchUrl)(o,i)?void r():n&&0!==n.length?void(n&&n.length>0&&((0,E.matchUrl)(n,i)?a():r())):void a()}}function r(){if(t()){var e=document.getElementById("apt-widget");if(!e)return void m.logger.log("Couldn't find KC element when attempting to hide it.");e.style.display="none"}}function a(){if(t()){var e=document.getElementById("apt-widget");if(!e)return void m.logger.log("Couldn't find KC element when attempting to show it.");e.style.display=""}}function s(){M.forEach(function(e){e.call()})}function l(){(0,y.getGuideRefreshData)(),o(),h.internalEventListener.removeListener("pageview",l)}function b(e){T.postMessage(JSON.stringify(e),p.windowRef.location.href)}function x(e,t){return{articleId:e.articleId,categoryId:e.categoryId,articleUrl:e.articleUrl,kcId:t,articleLink:e.articleLink}}function I(e){if(e.origin===p.windowRef.location.origin&&!(D.indexOf(e.data.name)<0)){if(!e.data.messageId)return void m.logger.log("Web SDK skipping event without message id "+JSON.stringify(e.data));if(B[e.data.messageId])return void m.logger.log("Web SDK skipping handled message with id "+e.data.messageId);switch(B[e.data.messageId]=!0,e.data.name){case"apt_get_engagement":var t=e.data.categoryId;if(p.windowRef.sessionStorage.setItem("apt.kcCatId",t),m.logger.log("SDK received activate engagement message"),e.data.absoluteTargetUrl){var n=(0,C.resolveUrlWithPlaceholders)(p.windowRef.location.href,e.data.absoluteTargetUrl);n!==p.windowRef.location.href?((0,y.saveOnDemandGuideId)(e.data.engId),h.internalEventListener.addListener("pageview",l),p.windowRef.location.href=n):i(e.data.engId,e.data.isPreview,j,t)}else i(e.data.engId,e.data.isPreview,j,t);return;case"APT_WIDGET_LOADED":return m.logger.log("SDK received KC loaded"),void(e.data.error?m.logger.logInternalError(new Error("KC failed to load due to error"),e.data.error):s());case"apt_send_feedback":return m.logger.log("SDK received send feedback message"),void(e.data.feedbackObj&&w.api.feedback(Object.assign(e.data.feedbackObj,{kcId:j})));case"apt_search_articles":return m.logger.log("SDK received search articles"),void((e.data.searchTerms||""===e.data.searchTerms)&&N.searchArticles(p.eventTrackData.data[p.productIdParameter],p.eventTrackData.data[p.aptrinsicIdParam],e.data.searchTerms,e.data.labels,e.data.url,j));case"apt_get_article":m.logger.log("SDK get article by id");var r=e.data,o=r.id,a=r.title,c=r.propertyGroupId;return void(e.data.id&&N.getArticleById(p.eventTrackData.data[p.productIdParameter],p.eventTrackData.data[p.aptrinsicIdParam],o,c,a));case"apt_get_user_data":return void m.logger.log("SDK received get user data message");case"apt_track_internal_article":return m.logger.log("SDK received track internal article message"),(0,S.trackArticleClick)(e.data.articleId,e.data.categoryId,e.data.articleUrl,j),void h.internalEventListener.dispatchEvent("articleView",x(e.data,j));case P:var u=e.data,d=u.articleId,f=u.articleUrl,g=u.articleTitle,v=u.articleProvider,b=u.propertyGroupId,E={articleId:d,articleUrl:f,articleProvider:v,articleTitle:g,propertyGroupId:b};m.logger.log("SDK received track external article message"),(0,S.trackExternalArticleClick)(j,b,E),h.internalEventListener.dispatchEvent("articleView",x(e.data,j));case R:var I=e.data.message;m.logger.log("Widget log: "+I);case"apt_tracking_toggle_widget":m.logger.log("SDK received track toggle widget");var k=e.data,T=k.isOpen,O=k.shouldTrack,A=V!==T;return O&&A&&(0,S.trackToggleWidget)(j,T),void(V=T)}}}var k=this,T=void 0,M=[],B={},j=void 0,U=!1,H=!1,q=!1,V=!1,W=null,F="";this.initWidget=function(r,o,i,a){try{if(!t())return;if(H=!0,m.logger.log("SDK Initializing KC with config "+JSON.stringify(r,null,2)),j!==r.initialConfig.kcId&&(V=!1),j=r.initialConfig.kcId,_.setIsDefaultKc(!i),_.setKcId(j),p.windowRef.addEventListener("message",I,!1),!document.querySelector("#apt-widget")){U=!1,W=null;var s=document.createElement("div");s.setAttribute("id","apt-widget"),document.body.appendChild(s),m.logger.log("SDK Created KC container")}var l=r.initialConfig.windowSettings.embedKCSettings.elementSelector.cssSelector;if(r.initialConfig=u(r.initialConfig,W),r.contentProxyDomain=(0,g.getConfig)("contentProxyDomain"),r.initialConfig.isEmbedded&&l){var c=(0,g.getConfig)("kcPositionType");(0,A.injectWidgetToTargetElement)(l,a,{positionType:c,fetchKcType:(0,g.getConfig)("fetchKcType"),kcId:r.initialConfig.kcId},{onClick:N.toggleBot,onFailed:function(){U=!1,H=!1,W=null},onFound:function(){U=!0},onDone:function(t){W=t,r.initialConfig=u(r.initialConfig,W),e((0,g.getAssetEndpoint)("widget"),r)}})}else e((0,g.getAssetEndpoint)("widget"),r);o||(n(),h.internalEventListener.addListener("pageview",function(){n()}))}catch(e){m.logger.logInternalError(e,"cannot start kc widget")}},this.clearWidgetLoadQueue=function(){M=[]},this.checkIsInProgress=function(){return H},this.checkIsInitialized=function(){return U&&!!document.querySelector("#apt-widget")},this.cleanWidget=function(){k.clearWidgetLoadQueue(),U=!1,H=!1,W=null},this.removeWidget=function(){B={},k.cleanWidget();var e=document.querySelector(".apt-widget-frame");e&&e.parentNode.removeChild(e);var t=document.getElementById("apt-widget");t&&(t.parentNode.removeChild(t),clearInterval(void 0),p.windowRef.removeEventListener("message",I))},this.updatePositionForEmbeddeBot=function(){var e=(0,g.getKcConfig)(),t=(0,g.getConfig)("kcPositionType");b({type:"APT_WIDGET_EMBEDDED_POSITIONS",calculatedPosition:c(W,e.windowSettings.embedKCSettings.positionSettings,{horizontalAlignment:e.windowSettings.embedKCSettings.horizontalAlignment,verticalAlignment:e.windowSettings.embedKCSettings.verticalAlignment},t)})},this.updateWidgetConfig=function(){if(t()){b({type:"APT_WIDGET_CONFIG",config:u((0,g.getKcConfig)(),W),shouldResetState:f.UserData.getUserId()!==F}),F=f.UserData.getUserId()}},this.fetchEntriesAndSendToWidget=function(e,n,r,o){if(t()){var i=(0,g.getKcConfig)(),a=i.kcId;m.logger.log("SDK Fetching KC entries");var s=(0,S.getUrl)(g.getWidgetContentEndpoint+"/"+e+"/"+a,{ai:n});v.AjaxUtil.getData(s,function(e){if(!e)return void(r&&"function"==typeof r&&r(e));var t={type:"APT_WIDGET_ENTRIES",entries:e.entries,userData:e.userData};m.logger.log("SDK Posting entries to KC"),b(t),r&&"function"==typeof r&&r(e)},null,function(){"function"==typeof o&&o("Error occurred while fetching knowledge center entries"),m.logger.logInternalError("Error occurred while fetching KC entries")})}},this.registerAfterWidgetLoad=function(e){"function"==typeof e&&M.push(e)},this.searchArticles=function(e,n,r,o,i,a){if(t()){var s=o&&Array.isArray(o)&&o.length>0?"&labels="+o.join():"";m.logger.log("SDK searching Articles");var l=(0,L.maskUrl)(i,null,null,null,null);i=d(l,1)[0],i=(0,g.getConfig)("overrideBotSearchContextUrl")||i;var c=(0,S.getTrackingPayload)();Object.assign(c,{searchTerm:r,labels:s,url:i,ai:n});var u=(0,S.getUrl)(g.getWidgetDocsEndpoint+"/"+e+"/"+a,c);v.AjaxUtil.getData(u,function(e){if(e){(0,E.isNotEmptyArr)(e)&&e[0].propertyGroupId&&(e[0].propertyGroupId,(0,E.getProduct)(p.eventTrackData[O.cacheGet](p.productIdParameter)));var t={type:"APT_WIDGET_SEARCH_RESULTS",articles:e};m.logger.log("SDK Posting articles to KC"),b(t)}},null,function(){m.logger.logInternalError("Error occurred while searching KC articles"),b({type:"APT_WIDGET_SEARCH_RESULTS_FAILED"})})}},this.getArticleById=function(e,n,r,o,i){if(t()){m.logger.log("SDK get Article by id");var a=(0,S.getTrackingPayload)();Object.assign(a,{propertyGroupId:o,articleId:r,ai:n,art:i});var s=(0,S.getUrl)(g.getWidgetSingleDocEndpoint+"/"+e+"/"+j,a);v.AjaxUtil.getData(s,function(t){if(t&&(!t.propertyGroupId||t.propertyGroupId===(0,E.getProduct)(e))){var n={type:"APT_GET_ARTICLE",article:t};m.logger.log("SDK Posting article to KC"),b(n)}},null,function(){m.logger.logInternalError("Error occurred while fetching article by id:"+r),b({type:"APT_GET_ARTICLE_FAILED"})})}},this.updateEmbeddedMappedElement=function(e){W=e},this.getEmbeddedMappedElement=function(){return W},this.toggleBot=function(){V?N.close(!0):N.open()},this.open=function(){if(k.checkIsInitialized()){"embedded"===(0,g.getConfig)("kcDisplayType")&&k.updatePositionForEmbeddeBot(),b({type:"APT_WIDGET_OPEN"}),q=!0}},this.close=function(e){e&&V&&(0,S.trackToggleWidget)(j,!1),b({type:"APT_WIDGET_CLOSE"}),q=!1},this.checkIsShown=function(){return q},this.addClickListenerToElement=function(e){(0,E.addEventListener)(e,"click",N.open)}}},function(e,t,n){"use strict";function r(e,t,n,r){var o={ei:e.engagementId,ecoi:e.content.id,evi:e.matchEventId,ett:t,exi:e.executionId,ext:e.executionTimestamp,ent:e.content.contentTypeId};n&&(o.cosi=n,(r||0===r)&&(o.cossn=r));var i=(0,c.addParameters)(o,[]),a=d.globalContextCache[u.cacheGet]("apt.gcx");return a&&(0,c.addParameters)({gcx:JSON.stringify(a)},i),i=(0,c.addParameters)(d.eventTrackData[u.cacheGetAll](),i)}function o(e){var t=void 0;switch(e){case"IN_APP_DIALOG":t="Dialog";break;case"IN_APP_CAROUSEL":t="Slider";break;case"IN_APP_GUIDE":t="Guide";break;case"IN_APP_SURVEY_NPS":t="NPS";break;case"IN_APP_CES_SURVEY":t="CES";break;case"IN_APP_RATING_SURVEY":t="Rating";break;case"IN_APP_BOOLEAN_SURVEY":t="Boolean";break;case"IN_APP_MULTIPLE_QUESTION_SURVEY":t="Multi Question";break;default:return}return t}function i(e){switch(e){case"a":return"Auto";case"kc":return"Bot";case"b":return"Badge";case"jo":return"Journey Orchestrator";default:throw"unknown activation type "+e}}function a(e,t){return{engagementId:e.engagementId,executionId:e.executionId,executionTimestamp:e.executionTimestamp,engagementType:o(e.content.contentType),activation:i(e.activationType),engagementName:e.engagementName,interaction:t,identifyId:e.ideId}}function s(e,t){return{engagementId:e.engagementId,executionId:e.executionId,executionTimestamp:e.executionTimestamp,engagementType:o(e.contentType),activation:i(e.activationType),engagementName:e.engagementName,interaction:t,identifyId:e.ideId}}function l(e,t,n,r){var a={engagementId:e.engagementId,executionId:e.executionId,executionTimestamp:e.executionTimestamp,engagementType:o(e.content.contentType),activation:i(e.activationType),engagementName:e.engagementName,interaction:t,identifyId:e.ideId};if(r)if("SCORE"===r.questionType){if(a.score=r.score,"IN_APP_SURVEY_NPS"===n)for(var s=0;s<f.length;s++)if(f[s].lowScore<=a.score&&f[s].maxScore>=a.score){a.scoreType=f[s].type;break}(0,c.isBlank)(r.comment)||(a.comment=r.comment)}else"OPEN_TEXT"!==r.questionType||(0,c.isBlank)(r.comment)||(a.comment=r.comment);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.toExternalEventSurvey=t.toExternalEventGuide=t.getExternalEvent=t.getEngagementTrackPayload=void 0;var c=n(1),u=n(6),d=n(4),f=[{type:"Promoter",lowScore:9,maxScore:10},{type:"Passive",lowScore:7,maxScore:8},{type:"Detractor",lowScore:0,maxScore:6}];t.getEngagementTrackPayload=r,t.getExternalEvent=a,t.toExternalEventGuide=s,t.toExternalEventSurvey=l},function(e,t,n){"use strict";var r,o,i,a,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){if("object"===s(t)&&void 0!==e)e.exports=n();else{o=[],r=n,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}}(function(){return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof a&&a;if(!l&&c)return a(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],o=0,i=n.length;o<i;o++)this.push(n[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(i.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",-1!==a(this,e)},l.add=function(){var e,t=arguments,n=0,r=t.length,o=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),o=!0)}while(++n<r);o&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,o=n.length,i=!1;do{for(e=n[r]+"",t=a(this,e);-1!==t;)this.splice(t,1),i=!0,t=a(this,e)}while(++r<o);i&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window.self))},{}],2:[function(e,t,n){function r(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var i=a[r]||a._default,s=i[0],l=i[1],c=i[2],o=t.createElement("div");for(o.innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var u=t.createDocumentFragment();o.firstChild;)u.appendChild(o.removeChild(o.firstChild));return u}t.exports=r;var o,i=!1;"undefined"!=typeof document&&(o=document.createElement("div"),o.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!o.getElementsByTagName("link").length,o=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(e,t,n){function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}t.exports={assign:r,polyfill:o}},{}],4:[function(e,t,n){e("classlist-polyfill"),e("es6-object-assign").polyfill();var r=e("domify"),o=function(e){if(void 0!==e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}return""},i=function(e,t){if("string"==typeof t&&0!==t.length)for(var n=t.split(" "),r=0;r<n.length;r++){var o=n[r];o.length&&e.classList.add(o)}},a=function(){for(var e=document.createElement("div"),t=[{styleName:"animation",eventName:"animationend"},{styleName:"WebkitAnimation",eventName:"webkitAnimationEnd"},{styleName:"MozAnimation",eventName:"animationend"},{styleName:"OAnimation",eventName:"oanimationend"},{styleName:"msAnimation",eventName:"MSAnimationEnd"}],n=0;n<t.length;n++)if(void 0!==e.style[t[n].styleName])return t[n].eventName;return!1}(),s={vex:"vex",content:"vex-content",overlay:"vex-overlay",close:"vex-close",closing:"vex-closing",open:"vex-open"},l={},c=1,u=!1,d={open:function(e){var t=function(e){console.warn('The "'+e+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};e.css&&t("css"),e.overlayCSS&&t("overlayCSS"),e.contentCSS&&t("contentCSS"),e.closeCSS&&t("closeCSS");var n={};n.id=c++,l[n.id]=n,n.isOpen=!0,n.close=function(){function e(e){return"none"!==n.getPropertyValue(e+"animation-name")&&"0s"!==n.getPropertyValue(e+"animation-duration")}if(!this.isOpen)return!0;var t=this.options;if(u&&!t.escapeButtonCloses)return!1;if(!1===function(){return!t.beforeClose||t.beforeClose.call(this)}.bind(this)())return!1;this.isOpen=!1;var n=window.getComputedStyle(this.contentEl),r=e("")||e("-webkit-")||e("-moz-")||e("-o-"),o=function e(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(a,e),delete l[this.id],this.rootEl.parentNode.removeChild(this.rootEl),t.afterClose&&t.afterClose.call(this),0===Object.keys(l).length&&document.body.classList.remove(s.open))}.bind(this);return a&&r?(this.rootEl.addEventListener(a,o),this.rootEl.classList.add(s.closing)):o(),!0},"string"==typeof e&&(e={content:e}),e.unsafeContent&&!e.content?e.content=e.unsafeContent:e.content&&(e.content=o(e.content));var f=n.options=Object.assign({},d.defaultOptions,e),p=n.rootEl=document.createElement("div");p.classList.add(s.vex),i(p,f.className);var g=n.overlayEl=document.createElement("div");g.classList.add(s.overlay),i(g,f.overlayClassName),f.overlayClosesOnClick&&g.addEventListener("click",function(e){e.target===g&&n.close()}),p.appendChild(g);var m=n.contentEl=document.createElement("div");if(m.classList.add(s.content),i(m,f.contentClassName),m.appendChild(f.content instanceof window.Node?f.content:r(f.content)),p.appendChild(m),f.showCloseButton){var h=n.closeEl=document.createElement("div");h.classList.add(s.close),i(h,f.closeClassName),h.addEventListener("click",n.close.bind(n)),m.appendChild(h)}return document.querySelector(f.appendLocation).appendChild(p),f.afterOpen&&f.afterOpen.call(n),document.body.classList.add(s.open),n},close:function(e){var t;if(e.id)t=e.id;else{if("string"!=typeof e)throw new TypeError("close requires a vex object or id string");t=e}return!!l[t]&&l[t].close()},closeTop:function(){var e=Object.keys(l);return!!e.length&&l[e[e.length-1]].close()},closeAll:function(){for(var e in l)this.close(e);return!0},getAll:function(){return l},getById:function(e){return l[e]}};window.addEventListener("keyup",function(e){27===e.keyCode&&(u=!0,d.closeTop(),u=!1)}),window.addEventListener("popstate",function(){d.defaultOptions.closeAllOnPopState&&d.closeAll()}),d.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(d,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:o}),d.registerPlugin=function(e,t){var n=e(d),r=t||n.name;if(d[r])throw new Error("Plugin "+t+" is already registered.");d[r]=n};var f=d;t.exports=f},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},function(e,t,n){"use strict";function r(e){var t=(0,d.getConfig)("filterUrls"),n=(0,d.getConfig)("filterType");if((0,f.isNotEmptyArr)(t)){var r=e||location.hostname+location.pathname+location.search+location.hash;if((0,f.matchUrl)(t,r))return n}return null}function o(e){return"exclude"===r(e)}function i(e){return"mask"===r(e)}function a(e){var t=(0,d.getConfig)("namedParamFilter"),n=(0,d.getConfig)("nameParamFilterType");if((0,f.isNotEmptyArr)(t)&&!(0,f.isBlank)(e)){var r=e.startsWith("?")?e.substring(1).split("&"):e.split("&"),o={},i=void 0,a=!0,s=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i=c.value.split("="),i.length>0&&i.length<2?o[i[0]]="":i.length>0&&i.length<3&&(o[i[0]]=i[1])}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}var p=!0,g=!1,m=void 0;try{for(var h,v=t[Symbol.iterator]();!(p=(h=v.next()).done);p=!0){var y=h.value;o.hasOwnProperty(y)&&("mask"===n?o[y]="apt-masked":"exclude"==n&&delete o[y])}}catch(e){g=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(g)throw m}}return"?"+(0,f.convert2Parameters)((0,f.addParameters)(o,[]))}return e}function s(){var e=location.protocol+"//",t=location.host,n=location.pathname,r=location.search,o=location.hash,i=l(n,r,o,null,null),a=u(i,3);return n=a[0],r=a[1],o=a[2],""+e+t+n+r+o}function l(e,t,n,r,s){t=a(t),i()&&(e="/apt-masked-url",t="",n="",s="");var l=null;if(r&&!o(r)){var c=p.documentRef.createElement("a");c.href=r;var u=i(r);l=c.host!==location.host?c.protocol+"//"+c.host+(u?"/apt-masked-url":c.pathname+a(c.search)+c.hash):""}return[e,t,n,l,s]}function c(){var e=location.protocol+"//",t=location.host,n=location.pathname,r=location.search,o=p.documentRef.title,i=location.hash,a=l(n,r,i,null,o),s=u(a,4);return n=s[0],r=s[1],i=s[2],o=s[3],{sc:e,ho:t,pa:decodeURIComponent(n),q:decodeURIComponent(r),ha:decodeURIComponent(i),sch:(0,g.getPageHeight)(),scw:(0,g.getPageWidth)(),pt:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFullUrlMasked=t.maskParameters=t.shouldBeMasked=t.isUrlFiltered=t.isExcluded=t.maskUrl=t.getWebContext=void 0;var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=n(2),f=n(1),p=n(4),g=n(5);t.getWebContext=c,t.maskUrl=l,t.isExcluded=o,t.isUrlFiltered=r,t.shouldBeMasked=i,t.maskParameters=a,t.getFullUrlMasked=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t){r(this,e),this.labelText=t&&t.labelText,this.secondaryText=t&&t.secondaryText}return o(e,[{key:"render",value:function(){return(0,i.createElement)("div","apt-setting-header-cnt",null,[this.labelText&&(0,i.createElement)("div","apt-header-text",{text:this.labelText}),(0,i.createElement)("div","apt-setting-line"),this.secondaryText&&(0,i.createElement)("div","apt-header-secondary-text",{text:this.secondaryText})])}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=window,i=function(e){function t(e,t,n,r,i){var s=[],l=o.getComputedStyle(e);switch(e.style.position="fixed",t.toLowerCase()){case"left":e.style.right="",e.style.left=10+i+"px",s.push("left");break;case"right":e.style.left=window.innerWidth-parseInt(l.width,10)-10+i+"px",e.style.right="",s.push("right");break;case"center":default:e.style.right="",e.style.left="calc(50% - "+(0-i+parseInt(l.width)/2)+"px)",s.push("center")}switch(n.toLowerCase()){case"top":e.style.bottom="",e.style.top=10+r+a+"px",s.push("top");break;case"bottom":e.style.top="auto",e.style.bottom="10px",s.push("bottom");break;case"center":default:e.style.bottom="",e.style.top="calc(50% - "+(0-r+parseInt(l.height)/2)+"px)",s.push("center")}return s}function n(e,t,n,o,i,s,l,c){if(!t||void 0===t)return null;var u=t.isDom?t.element.getBoundingClientRect():t.elementRect,d=e.getBoundingClientRect(),f=t&&u,p=t&&f.height,g=t&&f.width,m=d.height,h=d.width,v=(0,r.getPageWidth)(),y=(0,r.getFullPageHeight)(),b=null,E=null;switch(n.toLowerCase()){case"left":b=f.left,l||(b-=h+("center"==o?10:0));break;case"right":b=f.left+f.width,l||(b+="center"==o?10:0);break;case"center":b=Math.abs(f.left+g/2)-(l?0:h/2);break;default:throw new Error(" unsupported horizontal position "+n)}switch(o.toLowerCase()){case"top":E=f.top-(l?0:m+10);break;case"center":E=f.top+p/2-(l?0:m/2);break;case"bottom":E=f.top+p+(l?0:10);break;default:throw new Error(" unsupported vertical position "+o)}var w=b<0||b+h>v;if(!c&&w)return null;E+=window.pageYOffset;var C=E+m>y||E<a;return!c&&C?null:(e.style.left=b+s+"px",e.style.top=E+i+"px",[n,o])}var i=this,a=e||0;this.setDefaultTopOffset=function(e){a=e||0},this.positionElement=function(e,r,o,i,a,s,l,c){return a||0===a||(a=0),s||0===s||(s=0),r?n(e,r,o,i,a,s,l,c):t(e,o,i,a,s)},this.getElementPosition=function(e){var t=e.getBoundingClientRect();return[t.top,t.left,t.bottom,t.right]},this.getElementDataPosition=function(e){return e.isDom?i.getElementPosition(e.element):[e.elementRect.top,e.elementRect.left,e.elementRect.bottom,e.elementRect.right]}};t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){var a=r&&r.messageTime||3e3;switch(e){case"warning":i.dialog.alert({afterOpen:function(){document.body.classList.add("apt-vex"),this.rootEl.classList.add("apt-vex");var e=this;setTimeout(function(){e.close()},a),(0,o.addEventListener)(this.overlayEl,"click",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mousedown",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mouseup",function(e){e.stopImmediatePropagation()})},afterClose:function(){document.body.classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-warning",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'<div><div class="message-wrapper"><div class="apt-message-icon warning" ></div><div>'+t+"</div></div></div>"});break;case"success":i.dialog.alert({afterOpen:function(){document.body.classList.add("apt-vex"),this.rootEl.classList.add("apt-vex");var e=this;setTimeout(function(){e.close()},a),(0,o.addEventListener)(this.overlayEl,"click",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mousedown",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mouseup",function(e){e.stopImmediatePropagation()})},afterClose:function(){document.body.classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-success",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'<div><div class="message-wrapper"><div class="apt-message-icon success" ></div><div>'+t+"</div></div></div>"});break;case"error":i.dialog.alert({afterOpen:function(){document.body.classList.add("apt-vex"),this.rootEl.classList.add("apt-vex");var e=this;r&&r.autoHideFalse||setTimeout(function(){e.close(),n&&n()},a),(0,o.addEventListener)(this.overlayEl,"click",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mousedown",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mouseup",function(e){e.stopImmediatePropagation()})},afterClose:function(){document.body.classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-error",contentClassName:"apt-wrapper",callback:function(e){e&&n&&n()},closeClassName:"apt-wrapper",unsafeMessage:'<div><div class="message-wrapper"><div class="apt-message-icon alert" ></div><div>'+t+"</div></div></div>"});break;case"confirm":var s="apt-wrapper";r&&r.contentClass&&(s+=" "+r.contentClass),i.dialog.buttons.YES.text=r&&r.buttonText||"OK",i.dialog.buttons.NO.text=r&&r.buttonNoText||"Cancel",i.dialog.confirm({afterOpen:function(){document.body.classList.add("apt-vex"),this.rootEl.classList.add("apt-vex"),this.contentEl.querySelectorAll(".vex-dialog-button").forEach(function(e){(0,o.addEventListener)(e,"mousedown",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(e,"mouseup",function(e){e.stopImmediatePropagation()})}),(0,o.addEventListener)(this.overlayEl,"click",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mousedown",function(e){e.stopImmediatePropagation()}),(0,o.addEventListener)(this.overlayEl,"mouseup",function(e){e.stopImmediatePropagation()})},afterClose:function(){document.body.classList.remove("apt-vex")},callback:function(e){e&&n&&n()},overlayClassName:"apt-wrapper",contentClassName:s,closeClassName:"apt-wrapper",unsafeMessage:'<div><div class="message-wrapper"><div class="apt-message-icon alert" src="images/alert.png"></div><div class="apt-message-text">'+t+"</div></div></div>",className:"vex-theme-default vex-content-confirm"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.showMessage=void 0;var o=n(1),i=n(20);i.registerPlugin(n(87)),i.defaultOptions.className="vex-theme-os",t.showMessage=r},function(e,t,n){"use strict";function r(e){function t(e){s=e,s?c.classList.add("apt-disabled"):c.classList.remove("apt-disabled"),a.disabled=s}var n=e&&e.labelText,r=e&&e.checkCallback,i=e&&!!e.checked,a=null,s=e&&!!e.disabled,l=e&&!!e.stopPropagation,c=void 0;this.setChecked=function(e){a.checked=e},this.getChecked=function(){return a.checked},this.disable=function(){return t(!0)},this.enable=function(){return t(!1)},this.render=function(){a=(0,o.createInput)("checkbox","",null,null,s,i),(0,o.addEventListener)(a,"click",function(e){!s&&r&&r(a.checked)});var e=(0,o.createElement)("span",["apt-checkmark"]);return l&&(0,o.addStopClickListeners)([a,e]),c=(0,o.createElement)("label",["apt-checkbox "+(s?"apt-disabled":"")],{text:n},[a,e])},this.getElement=function(){return c}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},function(e,t,n){"use strict";function r(e,t){return e.length<t.minCommentLength?{valid:!1,message:t.minCharsValidationText?t.minCharsValidationText.replace("%minCommentLength%",t.minCommentLength):"Comment should be minimum "+t.minCommentLength+" characters"}:{valid:!0,message:""}}function o(e,t){return t.isCommentMandatory&&!e?{valid:!1,message:t.mandatoryValidationText||"Please insert your comment"}:{valid:!0,message:""}}function i(e,t){return e.length>t.maxCommentLength?{valid:!1,message:t.maxCharsValidationText?t.maxCharsValidationText.replace("%maxCommentLength%",t.maxCommentLength):"Comment can be at most "+t.maxCommentLength+" characters"}:{valid:!0,message:""}}function a(e,t,n){var a=t.value&&t.value.trim(),s=o(a,e),l=r(a,e),c=i(a,e);return n.innerText=s.message||l.message||c.message,s.valid&&l.valid&&c.valid?(t.classList.remove("error"),n.style.display="none",!0):(t.classList.add("error"),n.style.display="inline-block",!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.validateComment=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){try{var t=m.documentRef.createElement("img");t.width=1,t.hight=1,t.src=e}catch(e){w.logger.logInternalError(e)}}function a(e,t){var n={};if(e.id&&(n.ide=e.id.toString()),!(0,k.isBlank)(e.email)&&(n.usem=e.email),(0,k.isObject)(e)){var r={};for(var o in e)e.hasOwnProperty(o)&&(-1==J.indexOf(o)?r[o]=e[o]:n[o]=e[o]);n.customAttributes=r,(0,S.shouldInjectAccountId)(e,t)&&(n.accountId=t.id)}return delete n.id,delete n.email,n}function s(e){var t={};if((0,k.isObject)(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(-1==X.indexOf(r)?n[r]=e[r]:t[r]=e[r]);t.customAttributes=n}return t}function l(){(0,h.isIframe)()||(g.UserData.ensureUserData(),m.eventTrackData[v.cacheSet](m.userIdParameter,g.UserData.getUserId()),m.eventTrackData[v.cacheSet](m.sessionIdParam,g.UserData.getSessionId()),m.eventTrackData[v.cacheSet]("ai",g.UserData.getAptrinisId()),m.eventTrackData[v.cacheSet]("vt",g.UserData.getUserType()))}function c(e,t,n){var r={};r[m.productIdParameter]=e[m.productIdParameter],r[Q]=e[Q],delete e.ep;var o=(0,k.convert2Parameters)((0,k.addParameters)(r,[])),i=h.commandEndPointV2+"?"+o,a={};(0,k.isObjectEmpty)(t)||(a.ep=t),y.AjaxUtil.postData(i,Object.assign({},e,a),null,n)}function u(e){g.UserData.changeUserType(g.UserData.userType()),g.UserData.setAptrinsicId(e.ai)?te.trackEvent("sessionInitialized",null,function(){(0,L.identifyFinished)()}):(0,L.identifyFinished)()}function d(e){if(e){if(!(0,F.isExcluded)()&&!A.default.isEditorMode()&&(0,h.getConfig)("enableBadge")){var t=e.badgeData;try{t&&j.default.addBadges(t.badges)}catch(e){w.logger.logInternalError(e)}}var n=e.engagement;n&&n.length>0&&($=!0,z=!1);try{b.EngagementDrawer.draw(n)}catch(e){w.logger.logInternalError(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.identifyCallback=t.startEngagementBatch=t.externalApi=t.api=void 0;var f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(18),m=n(4),h=n(2),v=n(6),y=n(8),b=n(34),E=n(37),w=n(3),C=n(5),x=n(68),I=r(x),k=n(1),T=n(105),S=n(88),O=n(10),A=r(O),L=n(17),P=n(47),R=r(P),D=n(73),_=r(D),N=n(13),M=n(22),B=n(56),j=r(B),U=n(64),H=n(11),q=n(48),V=n(72),W=n(45),F=n(25),G=0,K=0,z=!1,Y=["click","linkClick"],J=["id","email","gender","firstName","lastName","signUpDate","title","role","subscriptionId","phone","countryCode","countryName","stateCode","stateName","city","street","continent","postalCode","regionName","timeZone","latitude","longitude","accountId","firstVisitDate","score","userHash","sfdcContactId"],X=["id","name","trackedSubscriptionId","industry","numberOfEmployees","sicCode","website","naicsCode","plan","countryCode","countryName","stateCode","stateName","city","street","continent","postalCode","regionName","timeZone","latitude","longitude","sfdcId","parentGroupId"],$=!1,Q="et",Z=function e(t,n,r){try{if(!(0,h.getConfig)("enableTag"))return;if($)return;n||($=!1);var o=(new Date).getTime(),i=(0,h.getConfig)("maxEngagementCalls");if(t>i)return w.logger.log("sent "+i+" engagement calls, not calling again"),void(z=!1);var a=(0,h.getConfig)("engagementCallDelay");if(o-K<a||o-G<a||(0,L.isInIdentify)()){var s=0==G?a:a-(o-G);return void setTimeout(function(){e(t,!0,r)},s)}ne.get("engagement",r),G=o,e(t+1,!0,r)}catch(e){w.logger.logInternalError(e)}},ee=function(e){try{if(!(0,h.getConfig)("enableTag"))return;if(!(0,h.featureEnabled)("engagementPull")||z)return void w.logger.log("we have another engagement batch already running");z=!0,$=!1,Z(1,null,e)}catch(e){w.logger.logInternalError(e)}},te=t.api=function(){function e(){o(this,e)}return p(e,null,[{key:"trackEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a={};try{if(!(0,h.getConfig)("enableTag"))return;if("identify"!==e&&(0,F.isExcluded)()||A.default.isEditorMode())return;var s="sessionInitialized"!==e&&!(0,h.isIframe)();Y.indexOf(e)>-1&&_.default.try2Match(),o&&l();if("signup"===e){if(arguments.length<2)throw new Error("sign up event must contain event properties");arguments[1].user_id}!(0,h.isIframe)()&&Object.assign(a,m.eventTrackData[v.cacheGetAll]()),(0,h.isIframe)()||0!==a[m.aptrinsicIdParam].indexOf("AP-")||a[m.aptrinsicIdParam]===a[m.userIdParameter]||w.logger.logInternalError(new Error("visitor id does not match aptrinsic id for command"),"current cookies: "+m.documentRef.cookie);var u=location.protocol+"//",d=location.host,p=location.pathname,b=location.search,E=m.documentRef.title,x=location.hash,I=m.documentRef.referrer;if("pageview"===e&&t){if(t.url){var T=(0,C.url2Location)(t.url);u=T.protocol,d=T.host,p=T.pathname,b=T.search,x=T.hash}E=t.title||E,I=t.referrer||I,p=t.path||p,!(0,h.isIframe)()&&(t=void 0)}var S=void 0,O=(0,F.maskUrl)(p,b,x,I,E),L=f(O,5);p=L[0],b=L[1],x=L[2],S=L[3],E=L[4],Object.assign(a,{et:e,rf:S,sc:u,ho:d,pa:decodeURIComponent(p),q:decodeURIComponent(b),ha:decodeURIComponent(x),sch:(0,C.getPageHeight)(),scw:(0,C.getPageWidth)(),pt:E}),r&&Object.assign(a,{cet:r});var P=m.globalContextCache[v.cacheGet]("apt.gcx");if((P||i)&&(t||(t={})),a=(0,U.addFullStoryInfo)(a),(0,k.isObject)(t)&&!(0,h.isIframe)()){"feature"==e?t=t.featureMatches?{fmf:t.featureMatches}:{fmf:[{id:t.id,femr:!0}]}:"custom"===e&&(t={epr:t});var D={};i&&Object.assign(D,i),P&&Object.assign(D,P),!(0,k.isObjectEmpty)(D)&&Object.assign(t,{gco:D}),Object.assign(a,{ep:JSON.stringify(t)})}if(s&&(K=(new Date).getTime()),(0,h.isIframe)())R.default.track(e,t,r,P);else if((0,k.addCacheBuster)(a),(0,h.getConfig)("usePOST"))c(a,t,n);else{var N=h.commandEndpoint+"?"+(0,k.convert2Parameters)((0,k.addParameters)(a,[]));N.length<=2083?y.AjaxUtil.getData(N,n):(delete a.ep,N=h.commandEndpoint+"?"+(0,k.convert2Parameters)((0,k.addParameters)(a,[])),y.AjaxUtil.postData(N,t,null,n))}s&&ee({s:g.UserData.getSessionId()}),H.internalEventListener.dispatchEvent(e)}catch(t){w.logger.logInternalError(t,"track: "+e+":"+a)}}},{key:"feedback",value:function(e){try{l();var t=Object.assign({},m.eventTrackData[v.cacheGetAll]());Object.assign(t,(0,F.getWebContext)()),t.et="feedback",!(0,k.isBlank)(e.category)&&(t.category=e.category.toLowerCase()),!(0,k.isBlank)(e.subject)&&(t.subject=e.subject),!(0,k.isBlank)(e.description)&&(t.description=e.description),(0,k.isNotEmptyArr)(e.labels)&&(t.labels=(0,N.arrayFrom)(e.labels,function(e){return e.toLowerCase()})),(0,k.addCacheBuster)(t);var n=h.serverEndpoint+"/feedback?"+m.productIdParameter+"="+m.eventTrackData[v.cacheGet](m.productIdParameter);(0,k.isBlank)(e.kcId)||(n+="&kcid="+e.kcId),y.AjaxUtil.postData(n,t,null,null,null,!0)}catch(t){w.logger.logInternalError(t,"failed to send feedback "+JSON.stringify(e))}}}]),e}(),ne=t.externalApi=function(){function e(){o(this,e)}return p(e,null,[{key:"track",value:function(e,t){try{if(!(0,h.getConfig)("enableTag"))return;var n="";if(!e||!(0,k.isString)(e)||""===e.trim())return void w.logger.logInternalError(new Error("cannot send custom event without event name: "+e+", properties: "+JSON.stringify(t)));"feature"!==e&&(n=e,e="custom"),(0,k.isObject)(t)&&Object.entries(t).forEach(function(e){var n=f(e,2),r=n[0],o=n[1];(0,k.isString)(o)&&o&&o.length>1024?t[r]=o.substr(0,1024):(0,k.isObject)(o)&&JSON.stringify(o).length>1024&&(t[r]=JSON.stringify(o).substr(0,1024))}),L.internalApt.call(null,e,t,null,n)}catch(n){w.logger.logInternalError(n,"custom event track: "+e+", properties: "+t)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!(0,h.getConfig)("enableTag"))return;if((0,F.isExcluded)()||A.default.isEditorMode())return;var n=null,r=void 0,o={};switch(Object.assign(o,m.eventTrackData[v.cacheGetAll](),t||{}),o=(0,U.addFullStoryInfo)(o),e){case"engagement":l(),n=h.getAllInAppEndpoint;var i=(0,k.getUrlParts)(),a=f(i,4),s=a[0],c=a[1],u=a[2],p=a[3],g=(0,F.maskUrl)(c,u,p,null,null),b=f(g,3);c=b[0],u=b[1],p=b[2],o.u=""+s+c+u+p;var C=o.s;(0,E.setEngagementSessionId)(C),r=d;break;default:return}(0,k.addCacheBuster)(o),n+="?"+(0,k.convert2Parameters)((0,k.addParameters)(o,[])),y.AjaxUtil.getData(n,function(e){try{r.call(this,e)}catch(e){w.logger.logInternalError(e)}})}catch(e){w.logger.logInternalError(e)}}},{key:"identify",value:function(t,n,r){try{if(!(0,h.getConfig)("enableTag"))return;if(!(0,h.featureEnabled)("identify"))return;if((0,k.isObject)(r)){var o=new T.IntegrationMapper(t,n,r);if(o.mapData()&&(t=o.getUserObj(),n=o.getAccountObj()),o.isSegmentGroupCall())return void e._waitForUserIdentify(t,n)}var i={};if((0,k.isBlank)(t.id&&t.id.toString()))throw new Error("cannot identify without user id. Current user data: "+JSON.stringify(t));i={},i.usf=a(t,n),(0,k.isObject)(n)&&(i.acf=s(n)),(0,L.internalApt)("identify",i,u),(0,L.identifyStart)()}catch(e){w.logger.logInternalError(e)}}},{key:"initWithExternalState",value:function(t,n){g.UserData.setAptrinsicId(n),g.UserData.setSessionId(t),e.get("engagement")}},{key:"_waitForUserIdentify",value:function(t,n,r){r=r||0;var o=!1;try{o=g.UserData.isUser()}catch(e){}!o&&r<1500?setTimeout(function(){e._waitForUserIdentify(t,n,r+250)},250):e.identify(t,n)}},{key:"account",value:function(e){try{if(!(0,h.getConfig)("enableTag"))return;if((0,F.isExcluded)()||A.default.isEditorMode())return;l();var t={};(0,k.isObject)(e)&&(t=s(e));var n=h.accountEndpoint+"?",r=[];r=(0,k.addParameters)(m.eventTrackData[v.cacheGetAll](),r),r=(0,k.addParameter)("acc",JSON.stringify(t),r),n+=(0,k.convert2Parameters)(r),K=(new Date).getTime(),y.AjaxUtil.getData(n)}catch(e){w.logger.logInternalError(e)}}},{key:"set",value:function(e){try{if(!(0,h.getConfig)("enableTag"))return;switch(e){case"notification":var t=arguments[1],n=[];n=(0,k.addParameters)(m.eventTrackData[v.cacheGetAll](),n),n=(0,k.addParameter)("ni",t,n),n=(0,k.addParameter)("ns",1,n),i(h.notificationStateEndpoint+"?"+(0,k.convert2Parameters)(n));break;case"user":var r={},o=arguments[1],s=g.UserData.getAptrinisId(),l=g.UserData.getUserId();if(!g.UserData.isUser())return void w.logger.log("not doing anything since not a user yet, visitor id: "+l+", user id: "+s);r.usf=a(o,null),(0,L.internalApt)("setAttribute",r);break;case"globalContext":var c=arguments[1];m.globalContextCache[v.cacheMerge]("apt.gcx",c);break;case"eventListener":var u=arguments[1],d=arguments[2];-1!==["ENGAGEMENT_DRAWN","SURVEY_CLOSED"].indexOf(u)&&null!==d&&"function"==typeof d&&(m.externalEventListeners[u]=d)}}catch(e){w.logger.logInternalError(e)}}},{key:"setOnce",value:function(e){try{if(!(0,h.getConfig)("enableTag"))return;switch(e){case"globalContext":var t=arguments[1];m.globalContextCache[v.cacheMerge]("apt.gcx",t,!0)}}catch(e){w.logger.logInternalError(e)}}},{key:"remove",value:function(e){try{if(!(0,h.getConfig)("enableTag"))return;switch(e){case"globalContext":var t=arguments[1],n=m.globalContextCache[v.cacheGet]("apt.gcx");(0,k.isNotEmptyArr)(t)&&(t.forEach(function(e){n.hasOwnProperty(e)&&delete n[e]}),m.globalContextCache[v.cacheSet]("apt.gcx",n))}}catch(e){w.logger.logInternalError(e)}}},{key:"lead",value:function(e,t){if((0,h.getConfig)("enableTag")){var n={};(0,k.isObject)(t)&&(n=a(t)),I.default.trackLead(e,n)}}},{key:"event",value:function(e,t){try{if(!(0,h.getConfig)("enableTag"))return;if(!e)return void w.logger.logInternalError(new Error("cannot track custom event from segment without event name: "+e+", event attributes: "+JSON.stringify(t)));this.track(e,t)}catch(t){w.logger.logInternalError(t,"SEGMENT_EVENT Unable to log "+e)}}},{key:"checklog",value:function(){w.logger.debugMode&&w.logger.logInternalError(new Error("Test log from web-sdk"))}},{key:"pageView",value:function(e){(0,L.internalApt)("pageview",e)}},{key:"send",value:function(e){switch(e){case"feedback":if(arguments.length<2||!(0,k.isObject)(arguments[1]))return;te.feedback(arguments[1]);break;case"click":if(arguments.length<2||!Array.isArray(arguments[1]))return;var t=arguments[1];(0,L.internalApt)("click",{elementTree:t})}}},{key:"bot",value:function(e,t){var n="API"===(0,h.getConfig)("fetchKcType"),r=t;switch((0,k.isObject)(r)||(r={}),e){case"search":if(!(0,k.isObject)(t)||t.labels.length<1)return;(0,h.setKcConfigByName)("labels",t.labels),M.KnowledgeCenterManager.updateWidgetConfig();break;case"get":try{(0,q.fetchKcByApi)(t,!1)}catch(e){w.logger.logInternalError(new Error("Bot API - get - "+e))}break;case"show":try{var o=r,i=o.onError,a=o.onDone;n&&(0,q.toggleKcBot)(!0,a,i)}catch(e){w.logger.logInternalError(new Error("Bot API - show - "+e))}break;case"start":try{(0,q.fetchKcByApi)(t,!0)}catch(e){w.logger.logInternalError(new Error("Bot API - start - "+e))}break;case"hide":try{var s=r,l=s.onError,c=s.onDone;n&&(0,q.toggleKcBot)(!1,c,l,!0)}catch(e){w.logger.logInternalError(new Error("Bot API - hide - "+e))}}}},{key:"reset",value:function(){g.UserData.clearUserData()}},{key:"addListener",value:function(e,t){H.internalEventListener.addListener(e,t,null,!0)}},{key:"config",value:function(e,t,n){if(void 0!==t&&"tagKey"===e&&t!==m.eventTrackData[v.cacheGet](m.productIdParameter)){var r={};n&&!(0,k.isObjectEmpty)(n.tagConfig)&&(r=n.tagConfig),(0,h.setCachedConfig)(V.tagConfigKeyName,r),m.windowRef[m.aptrinsicGlobalObjName]=W.aptNotReady,(0,L.appNotReady)(),m.eventTrackData[v.cacheSet](m.productIdParameter,t),g.UserData.clearUserData(),b.EngagementDrawer.clearEngagements(),j.default.removeAllBadges(),_.default.clearAll(),M.KnowledgeCenterManager.removeWidget(),(0,V.getServerConfiguration)(!1,t,null,(0,h.getCachedConfig)(V.tagConfigKeyName),null,function(){(0,h.isIframe)()||(g.UserData.initializeUser(t),m.eventTrackData[v.cacheSet](m.userIdParameter,g.UserData.getUserId()),m.eventTrackData[v.cacheSet]("vt",g.UserData.getUserType()),m.eventTrackData[v.cacheSet]("ai",g.UserData.getAptrinisId()),m.eventTrackData[v.cacheSet](m.sessionIdParam,g.UserData.getSessionId())),(0,L.appReady)(),(0,W.aptReady)()})}}}]),e}();t.startEngagementBatch=ee,t.identifyCallback=u},function(e,t,n){"use strict";function r(e){var t=e&&e.text,n=e&&e.unitsText,r=e&&e.additionalClassesArray||[],i=e&&e.initialValue,a=e&&e.placeholder,s=e&&!!e.disabled,l=e&&e.dataAtt,c=e&&e.changeCallback,u=e&&!!e.labelInline,d=e&&!!e.stopPropagation,f=null,p=null;(e&&e.min||0===e.min)&&(f=e.min),(e&&e.max||0===e.max)&&(p=e.max);var g=null;this.disable=function(){s=!0,g.disabled=!0,g.classList.add("apt-disabled")},this.enable=function(){s=!1,g.disabled=!1,g.classList.remove("apt-disabled")},this.toggle=function(){s=!s,g.disabled=s,g.classList.toggle("apt-disabled")},this.getValue=function(){return parseInt(g.value,10)},this.setValue=function(e){g.value=e},this.render=function(){g=(0,o.createInput)("number",["apt-setting-input","apt-number-input"],i,a,s,null,l,{min:f,max:p},null),(0,o.addEventListener)(g,"input",function(e){var t=e.target.value;(f||0===f)&&t<f?(t=f,g.value=t):(p||0===p)&&t>p&&(t=p,g.value=p),c&&c(t),d&&e.stopImmediatePropagation()});var e=(0,o.createElement)("div",["apt-inline","apt-input"].concat(r),void 0,[t&&(0,o.createElement)("div",["apt-setting-label",u?"apt-inline":""],{text:t}),(0,o.createElement)("div",["apt-inline"],void 0,[g,n&&(0,o.createElement)("div",["apt-setting-label","apt-unit-label"],{text:n})])]);return d&&(0,o.addStopClickListeners)([g,e]),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e,t,n,o,i){function a(e){var o=e.label,i=e.value,a=e.children,c={dataAtt:[{name:"data-value",value:i},{name:"data-name",value:i}]};o?c.text=o:a&&(a.setAttribute("data-value",i),a.setAttribute("data-name",i));var u=(0,r.createElement)("div","apt-dropdown-option",c,a);n.width&&(u.style.width=n.width),n.backgroundColor&&(u.style.backgroundColor=n.backgroundColor),n.color&&(u.style.color=n.color),e.selected&&s(e,!0),(0,r.addEventListener)(u,"click",function(e){var n=e.target,r=n.getAttribute("data-value");l(t.find(function(e){return e.value.toString()===r}))}),n.stopPropagation&&(0,r.addStopClickListeners)([u]),p.appendChild(u)}function s(e,t){var n=p.querySelector(".apt-dropdown-option-selected");n&&n.classList.remove("apt-dropdown-option-selected"),p.querySelectorAll(".apt-dropdown-option").forEach(function(t){t.getAttribute("data-value")===e.value&&t.classList.add("apt-dropdown-option-selected")}),d=e,g.innerHTML="";var o=e.label,i=e.children,a=void 0;a=i?i.cloneNode(!0):(0,r.createElement)("span",null,{text:o}),g.appendChild(a),!t&&c(null,!0)}function l(e){var t=d;s(e),t.value!=e.value&&o&&o(d,i)}function c(e,t){(t&&1==f||!t)&&(f=1-f,p.classList.toggle("apt-dropdown-content-show"),m.classList.toggle("apt-dropdown-show"))}var u=e,d=null,f=0,p=(0,r.createElement)("div","apt-dropdown-content"),g=(0,r.createElement)("div","apt-dropdown-label"),m=(0,r.createElement)("div","apt-dropdown",null,[g,p]);n=n||{},m.id=u,n.className&&m.classList.add(n.className),(0,r.addEventListener)(document,"click",function(e){(0,r.hasParentField)(e.target,"id",u)||c(null,!0)}),n.width&&(g.style.width=n.width,p.style.width=n.width,p.style.minWidth=n.width),n.backgroundColor&&(g.style.backgroundColor=n.backgroundColor,p.style.backgroundColor=n.backgroundColor),n.color&&(g.style.color=n.color,p.style.color=n.color),t.forEach(function(e){e&&a(e)}),!d&&s(t[0],!0),(0,r.addEventListener)(g,"click",c),n.stopPropagation&&(0,r.addStopClickListeners)([g]),this.getSelected=function(){return d},this.render=function(){return m},this.remove=function(){m.remove()},this.addOption=function(e){t.find(function(t){return t.value===e.value})||(t.push(e),a(e))},this.removeOption=function(e){t=t.filter(function(t){return t.value!==e});var n=m.querySelector('[data-value^="'+e+'"]');n&&(n.remove(),s(t[0],!0))}};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){try{var o=void 0,i=void 0;return i=(0,k.getEngagementTrackPayload)(e,q.CLICK,n,r),o=A.engagementTrackEndpoint+"?",(0,R.resolveUrlsWithPlaceholdersInHTML)(t,function(e){var t=i.concat((0,m.addParameter)("ru",e));return o+(0,m.convert2Parameters)(t)})}catch(e){y.logger.logInternalError(e)}}function a(e){return N.default.SanitizeHtml(e)}function s(e){return(0,E.isLocked)(e)?(y.logger.log("Not displaying engagement of type "+e+" because an engagement of this type already displayed"),!1):((0,E.lockEngagementType)(e),!0)}function l(e,t){y.logger.logInternalError(new Error("Engagement with id "+e.engagementId+" was dropped because of HTML sanitization errors "+t))}function c(e,t){if(Array.isArray(e)&&(e.length>1&&(e=e.sort(function(e,t){return H[e.content.contentType]-H[t.content.contentType]})),e=e[0]),e){var n={url:(0,m.getPageUrl)()};if(!(t||S.default.isPreview()||(0,m.isBlank)(e.rules)||(0,P.matchMultiTypeRules)(JSON.parse(e.rules),n)))return void y.logger.log("did not have client side match for engagement rules "+e.rules+", current URL: "+n);switch(e.content.contentType){case"IN_APP_DIALOG":if(s(e.content.contentType)){e.content.contentTypeId=1;var r=a(e.content.htmlElements);r.isValid?(e=V(e),j.drawDialog(e),D.internalEventListener.dispatchEvent("engagementView",(0,k.getExternalEvent)(e,"Viewed"))):l(e,r.errors)}break;case"IN_APP_GUIDE":if(s(e.content.contentType)){e.content.contentTypeId=2;for(var o=a(e.content.footer),c=o.errors||[],u=!0,d=0;d<e.content.steps.length;d++){var f=e.content.steps[d];if(f.total=e.content.steps.length,!(0,m.isBlank)(f.content)){var p=a(f.content+f.titleHtml);p.isValid&&u?e.content.steps[d].content=i(e,f.content,f.id,f.sequenceNumber):(u=!1,c.push(p.errors))}}if(c.length>0){l(e,c);break}var g=e.content;Object.assign(g,{engagementId:e.engagementId,contentId:e.content.id,matchEventId:e.matchEventId,accountId:e.accountId,executionId:e.executionId,executionTimestamp:e.executionTimestamp,coreStyling:e.content.coreStyling,engagementCoreStyling:e.content.engagementCoreStyling,overrideStyling:e.content.overrideStyling,activationType:e.activationType,contentLocale:e.contentLocale,ideId:e.ideId,engagementName:e.engagementName}),e.content.steps=e.content.steps.map(function(e){return Object.assign({},e,{elementSelector:{matchCssSelector:e.matchCssSelector,cssSelector:e.cssSelector,matchTextRule:e.matchTextRule,textRuleOperator:e.textRule&&e.textRule.operator,textRuleValues:e.textRule&&e.textRule.values}})}),M.playGuide(e.content.steps,g,function(){(0,E.handleEngagementFinish)(e.content.contentType)}),D.internalEventListener.dispatchEvent("engagementView",(0,k.getExternalEvent)(e,"Viewed"))}break;case"IN_APP_CAROUSEL":if(s(e.content.contentType)){e.content.contentTypeId=3;for(var h=[],b=!0,w=0;w<e.content.carouselSlideList.length;w++){var C=e.content.carouselSlideList[w];if(!(0,m.isBlank)(C.html)){var x=a(C.html);b&&x.isValid?e.content.carouselSlideList[w].html=i(e,C.html,C.id,C.sequence):(b=!1,h.push(x.errors))}}if(h.length>0){l(e,h);break}B.drawCarousel(e),D.internalEventListener.dispatchEvent("engagementView",(0,k.getExternalEvent)(e,"Viewed"))}break;case"IN_APP_BOOLEAN_SURVEY":case"IN_APP_SURVEY_NPS":case"IN_APP_CES_SURVEY":case"IN_APP_MULTIPLE_QUESTION_SURVEY":case"IN_APP_RATING_SURVEY":if(s(e.content.contentType)){var I=U.draw(e);if(!I.isValid){l(e,I.errors);break}D.internalEventListener.dispatchEvent("engagementView",(0,k.getExternalEvent)(e,"Viewed")),v.externalEventListeners.ENGAGEMENT_DRAWN&&window.setTimeout(function(){try{v.externalEventListeners.ENGAGEMENT_DRAWN(e.content.contentType,e.engagementId)}catch(e){y.logger.logInternalError(e,"Error calling ENGAGEMENT_DRAWN event listener")}},100)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.guideDrawer=t.EngagementDrawer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(43),f=r(d),p=n(94),g=r(p),m=n(1),h=n(5),v=n(4),y=n(3),b=n(8),E=n(21),w=n(95),C=r(w),x=n(100),I=r(x),k=n(23),T=n(10),S=r(T),O=n(28),A=n(2),L=n(22),P=n(61),R=n(19),D=n(11),_=n(58),N=r(_),M=new f.default(null,!0),B=new g.default,j=new C.default,U=new I.default,H={IN_APP_CAROUSEL:1,IN_APP_GUIDE:2,IN_APP_DIALOG:3},q={CLICK:"ENGAGEMENT_CLICK"},V=function(e){try{var t=void 0;if(e.content.htmlElements)if(Array.isArray(e.content.htmlElements))for(var n=0;n<e.content.htmlElements.length;n++)t=e.content.htmlElements[n],e.content.htmlElements[n]=i(e,t);else e.content.htmlElements=i(e,e.content.htmlElements);return e}catch(e){y.logger.logInternalError(e)}},W=t.EngagementDrawer=function(){function e(){o(this,e)}return u(e,null,[{key:"draw",value:function(e,t){(0,h.addDOMReadyListener)(c,e,t)}},{key:"clearEngagements",value:function(){M.close(),B.close(),j.close(),U.close(),M.clearStepRedirectData()}}]),e}();t.guideDrawer=M,!(0,A.isIframe)()&&S.default.isPreview()&&(S.default.getAdditionalDetails().kcId?(0,h.addDOMReadyListener)(function(){b.AjaxUtil.getData('https://app-be.aptrinsic.com'+"/api/knowledge/"+S.default.getProductKey().split("-")[1],function(e){L.KnowledgeCenterManager.removeWidget(),L.KnowledgeCenterManager.initWidget({apiKey:S.default.getProductKey(),initialConfig:Object.assign(e,{enabled:!0}),isPreview:!0},!0),history.replaceState("",document.title,S.default.cleanEngagementData())},{Authorization:"Bearer "+S.default.getToken()},function(e){try{403===e?((0,O.showMessage)("error","Not authorized to preview this knowledge center"),S.default.exit()):401==e&&((0,O.showMessage)("error","Token expired, try to preview again"),S.default.exit())}catch(e){y.logger.logInternalError(e)}})}):b.AjaxUtil.getData(S.default.getPreviewUrl(),function(e){(0,h.addDOMReadyListener)(function(){history.replaceState("",document.title,S.default.cleanEngagementData())}),W.draw(e)},{Authorization:"Bearer "+S.default.getToken()},function(e){try{403===e?((0,O.showMessage)("error","Not authorized to preview this engagement"),S.default.exit()):401==e&&((0,O.showMessage)("error","Token expired, try to preview again"),S.default.exit())}catch(e){y.logger.logInternalError(e)}}))},function(e,t,n){"use strict";(function(e){function n(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function r(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},fe))}}function o(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function i(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function s(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=i(e),n=t.overflow,r=t.overflowX;return/(auto|scroll|overlay)/.test(n+t.overflowY+r)?e:s(a(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}function c(e){return 11===e?me:10===e?he:me||he}function u(e){if(!e)return document.documentElement;for(var t=c(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===i(n,"position")?u(n):n:e?e.ownerDocument.documentElement:document.documentElement}function d(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||u(e.firstElementChild)===e)}function f(e){return null!==e.parentNode?f(e.parentNode):e}function p(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||r.contains(o))return d(a)?a:u(a);var s=f(e);return s.host?p(s.host,t):p(e,f(t).host)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[n]}return e[n]}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),o=g(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function h(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function v(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],c(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function y(e){var t=e.body,n=e.documentElement,r=c(10)&&getComputedStyle(n);return{height:v("Height",t,n,r),width:v("Width",t,n,r)}}function b(e){return Ee({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(c(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?y(e.ownerDocument):{},s=a.width||e.clientWidth||o.width,l=a.height||e.clientHeight||o.height,u=e.offsetWidth-s,d=e.offsetHeight-l;if(u||d){var f=i(e);u-=h(f,"x"),d-=h(f,"y"),o.width-=u,o.height-=d}return b(o)}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c(10),o="HTML"===t.nodeName,a=E(e),l=E(t),u=s(e),d=i(t),f=parseFloat(d.borderTopWidth,10),p=parseFloat(d.borderLeftWidth,10);n&&o&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var g=b({top:a.top-l.top-f,left:a.left-l.left-p,width:a.width,height:a.height});if(g.marginTop=0,g.marginLeft=0,!r&&o){var h=parseFloat(d.marginTop,10),v=parseFloat(d.marginLeft,10);g.top-=f-h,g.bottom-=f-h,g.left-=p-v,g.right-=p-v,g.marginTop=h,g.marginLeft=v}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(g=m(g,t)),g}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=w(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:g(n),s=t?0:g(n,"left");return b({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}function x(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===i(e,"position"))return!0;var n=a(e);return!!n&&x(n)}function I(e){if(!e||!e.parentElement||c())return document.documentElement;for(var t=e.parentElement;t&&"none"===i(t,"transform");)t=t.parentElement;return t||document.documentElement}function k(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},c=o?I(e):p(e,l(t));if("viewport"===r)i=C(c,o);else{var u=void 0;"scrollParent"===r?(u=s(a(t)),"BODY"===u.nodeName&&(u=e.ownerDocument.documentElement)):u="window"===r?e.ownerDocument.documentElement:r;var d=w(u,c,o);if("HTML"!==u.nodeName||x(c))i=d;else{var f=y(e.ownerDocument),g=f.height,m=f.width;i.top+=d.top-d.marginTop,i.bottom=g+d.top,i.left+=d.left-d.marginLeft,i.right=m+d.left}}n=n||0;var h="number"==typeof n;return i.left+=h?n:n.left||0,i.top+=h?n:n.top||0,i.right-=h?n:n.right||0,i.bottom-=h?n:n.bottom||0,i}function T(e){return e.width*e.height}function S(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=k(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return Ee({key:e},s[e],{area:T(s[e])})}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(n,r?I(t):p(t,l(n)),r)}function A(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),o=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+r}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function P(e,t,n){n=n.split("-")[0];var r=A(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[c]:t[L(s)],o}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function D(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=R(e,function(e){return e[t]===n});return e.indexOf(r)}function _(e,t,n){return(void 0===n?e:e.slice(0,D(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=b(t.offsets.popper),t.offsets.reference=b(t.offsets.reference),t=n(t,e))}),t}function N(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=S(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=_(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function M(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function j(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||H(s(i.parentNode),t,n,r),r.push(i)}function q(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var o=s(e);return H(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function V(){this.state.eventsEnabled||(this.state=q(this.reference,this.options,this.state,this.scheduleUpdate))}function W(e,t){return U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function F(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=W(this.reference,this.state))}function G(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function K(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&G(t[n])&&(r="px"),e.style[n]=t[n]+r})}function z(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function Y(e){return K(e.instance.popper,e.styles),z(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&K(e.arrowElement,e.arrowStyles),e}function J(e,t,n,r,o){var i=O(o,t,e,n.positionFixed),a=S(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),K(t,{position:n.positionFixed?"fixed":"absolute"}),n}function X(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=l%2==c%2,p=l%2==1&&c%2==1,g=t?u||d||f?i:a:s,m=t?i:s;return{left:g(p&&!d&&t?r.left-1:r.left),top:m(r.top),bottom:m(r.bottom),right:g(r.right)}}function $(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=u(e.instance.popper),l=E(s),c={position:o.position},d=X(e,window.devicePixelRatio<2||!we),f="bottom"===n?"top":"bottom",p="right"===r?"left":"right",g=B("transform"),m=void 0,h=void 0;if(h="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+d.bottom:-l.height+d.bottom:d.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+d.right:-l.width+d.right:d.left,a&&g)c[g]="translate3d("+m+"px, "+h+"px, 0)",c[f]=0,c[p]=0,c.willChange="transform";else{var v="bottom"===f?-1:1,y="right"===p?-1:1;c[f]=h*v,c[p]=m*y,c.willChange=f+", "+p}var b={"x-placement":e.placement};return e.attributes=Ee({},b,e.attributes),e.styles=Ee({},c,e.styles),e.arrowStyles=Ee({},e.offsets.arrow,e.arrowStyles),e}function Q(e,t,n){var r=R(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function Z(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),p=c?"left":"top",g=c?"bottom":"right",m=A(r)[u];l[g]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(l[g]-m)),l[f]+m>s[g]&&(e.offsets.popper[f]+=l[f]+m-s[g]),e.offsets.popper=b(e.offsets.popper);var h=l[f]+l[u]/2-m/2,v=i(e.instance.popper),y=parseFloat(v["margin"+d],10),E=parseFloat(v["border"+d+"Width"],10),w=h-e.offsets.popper[f]-y-E;return w=Math.max(Math.min(s[u]-m,w),0),e.arrowElement=r,e.offsets.arrow=(n={},be(n,f,Math.round(w)),be(n,p,""),n),e}function ee(e){return"end"===e?"start":"start"===e?"end":e}function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=xe.indexOf(e),r=xe.slice(n+1).concat(xe.slice(0,n));return t?r.reverse():r}function ne(e,t){if(M(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=k(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=L(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Ie.FLIP:a=[r,o];break;case Ie.CLOCKWISE:a=te(r);break;case Ie.COUNTERCLOCKWISE:a=te(r,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=L(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),g=d(c.right)>d(n.right),m=d(c.top)<d(n.top),h=d(c.bottom)>d(n.bottom),v="left"===r&&p||"right"===r&&g||"top"===r&&m||"bottom"===r&&h,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&p||y&&"end"===i&&g||!y&&"start"===i&&m||!y&&"end"===i&&h),E=!!t.flipVariationsByContent&&(y&&"start"===i&&g||y&&"end"===i&&p||!y&&"start"===i&&h||!y&&"end"===i&&m),w=b||E;(f||v||w)&&(e.flipped=!0,(f||v)&&(r=a[l+1]),w&&(i=ee(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Ee({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=_(e.instance.modifiers,e,"flip"))}),e}function re(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}function oe(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return b(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}function ie(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(R(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return c=c.map(function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return oe(e,o,t,n)})}),c.forEach(function(e,t){e.forEach(function(n,r){G(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))})}),o}function ae(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=G(+n)?[+n,0]:ie(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e}function se(e,t){var n=t.boundariesElement||u(e.instance.popper);e.instance.reference===n&&(n=u(n));var r=B("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=k(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var c=t.priority,d=e.offsets.popper,f={primary:function(e){var n=d[e];return d[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(d[e],l[e])),be({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=d[n];return d[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(d[n],l[e]-("right"===e?d.width:d.height))),be({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=Ee({},d,f[t](e))}),e.offsets.popper=d,e}function le(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:be({},l,i[l]),end:be({},l,i[l]+i[c]-a[c])};e.offsets.popper=Ee({},a,u[r])}return e}function ce(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ue(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=L(t),e.offsets.popper=b(o),e}Object.defineProperty(t,"__esModule",{value:!0});/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var de="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,fe=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(de&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),pe=de&&window.Promise,ge=pe?n:r,me=de&&!(!window.MSInputMethodContext||!document.documentMode),he=de&&/MSIE 10/.test(navigator.userAgent),ve=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),be=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we=de&&/Firefox/i.test(navigator.userAgent),Ce=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],xe=Ce.slice(3),Ie={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},ke={shift:{order:100,enabled:!0,fn:le},offset:{order:200,enabled:!0,fn:ae,offset:0},preventOverflow:{order:300,enabled:!0,fn:se,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:re},arrow:{order:500,enabled:!0,fn:Z,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ne,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:ue},hide:{order:800,enabled:!0,fn:ce},computeStyle:{order:850,enabled:!0,fn:$,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Y,onLoad:J,gpuAcceleration:void 0}},Te={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ke},Se=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ve(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=ge(this.update.bind(this)),this.options=Ee({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ee({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=Ee({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Ee({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&o(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return ye(e,[{key:"update",value:function(){return N.call(this)}},{key:"destroy",value:function(){return j.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),e}();Se.Utils=("undefined"!=typeof window?window:e).PopperUtils,Se.placements=Ce,Se.Defaults=Te,t.default=Se}).call(t,n(41))},function(e,t,n){"use strict";function r(e){var t=e&&e.labelText,n=e&&e.initialValue,r=e&&e.colorChangeCallback,i=e&&!!e.labelInline,a=!!e.disabled,s=null,l=null,c=null,u=void 0;this.disable=function(){a=!0,u.destroy(),c.classList.add("apt-input-disabled"),c.disabled=!0,l.disabled=!0},this.enable=function(){a=!1,u.create(),l.disabled=!1,c.disabled=!1,c.classList.remove("apt-input-disabled")},this.toggle=function(){a=!a,a?u.destroy():u.create(),l.disabled=a,c.disabled=a,c.classList.toggle("apt-input-disabled")},this.getValue=function(){return l.value},this.render=function(){return s=(0,o.createElement)("div",["apt-color-sample"]),l=(0,o.createInput)("text",["apt-color-input-text"]),c=(0,o.createElement)("div",["apt-setting-input","apt-color-input","apt-inline",a?"apt-input-disabled":""],void 0,[s,l]),u=new CP(l),n&&u.set(n),u.on("change",function(e){s.style.backgroundColor="#"+e,c.setAttribute("apt-color-val","#"+e),l.value="#"+e,a||r&&r("#"+e)}),(0,o.addEventListener)(l,"input",function(e){var t=e.target.value;if(/^#([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/.test(t)){if(u.set(t),s.style.backgroundColor=t,c.setAttribute("apt-color-val",t),a)return;r&&r(t)}}),(0,o.createElement)("div",["apt-inline","apt-input"],void 0,[(0,o.createElement)("div",["apt-setting-label",i?"apt-inline":""],{text:t}),(0,o.createElement)("div",["apt-inline"],void 0,[c])])}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEngagementSessionId=t.getEngagementSessionId=void 0;var r=n(4),o=n(18),i=r.windowRef.sessionStorage;t.getEngagementSessionId=function(){var e=i.getItem("apt.engagementSessionId"),t=o.UserData.getSessionId();return e||t},t.setEngagementSessionId=function(e){i.setItem("apt.engagementSessionId",e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return(0,s.getConfig)("fullDomainCookie")?location.hostname:(0,l.getDomain)()}Object.defineProperty(t,"__esModule",{value:!0}),t.Cookie=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=n(2),l=n(5),c=encodeURIComponent,u=decodeURIComponent;t.Cookie=function(){function e(){r(this,e)}return i(e,null,[{key:"setCookie",value:function(e,t,n,r){if(!(0,s.isIframe)()){var i=void 0,u=r||o();if(n){var d=Date.now();i=new Date,i.setTime(d+n)}a.documentRef.cookie=e+"="+c(t)+(i?"; expires="+i.toUTCString():"")+"; path=/"+(u&&u.trim().length>0?"; domain="+u:"")+(0,l.getSameSiteCookieSuffix)()}}},{key:"getCookie",value:function(e){for(var t=a.documentRef.cookie.split(";"),n=void 0,r=[],o=void 0,i=0;i<t.length;i++)n=t[i],n=n.trim(),o=n.split("="),2==o.length&&o[0]==e&&r.push(o[1]);return 1==r.length?u(r[0].trim()):null}},{key:"getAllCookieVal",value:function(e){for(var t=a.documentRef.cookie.split(";"),n=void 0,r=[],o=void 0,i=0;i<t.length;i++)n=t[i],n=n.trim(),o=n.split("="),2==o.length&&o[0]==e&&r.push(o[1]);if(r.length>0)for(var s=0;s<r.length;s++)r[s]=u(r[s].trim());return r.length>0?r:null}},{key:"deleteCookie",value:function(e){this.setCookie(e,null,-1)}},{key:"getAllAsString",value:function(){return a.documentRef.cookie}}]),e}()},function(e,t,n){"use strict";function r(e,t){var n={zIndex:2147483647};return(0,s.default)(e,Object.assign(n,t))}function o(e){return e.map(function(e){var t=i(e,2);return r(t[0],t[1])})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.addTooltipToElement=r,t.addTooltipToElements=o;var a=n(54),s=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";(function(t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new t(JSON.stringify(e)).toString("base64")+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}}).call(t,n(77).Buffer)},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n="#06f263"!==t;return!a(e)&&n}function a(e){var t=document.createElement("div");return t.innerHTML=e,t.children.length>0}function s(e){var t=document.createElement("div");return t.innerHTML=e,1===t.children.length}function l(){var e=document.querySelector(".apt-hotspot-element"),t=document.querySelector(".apt-guide-popup");return!!e||!!t}function c(e){var t=e.positionVertical,n=e.positionHorizontal,r=e.positionLeftDelta,o=e.positionTopDelta,i="top"===t,a="left"===n;return M(t)&&a?r=0-r:i&&(o=0-o),M(t)?o+", "+r:r+", "+o}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.positionVertical,r=e.positionHorizontal,o=e.positionTopDelta,i=e.positionLeftDelta;n=n.toLowerCase(),r=r.toLowerCase(),"middle"===n&&(n="center");var a=void 0;if(M(n))a=r;else if(M(r))a=n;else{var s=r===(t?"left":"right"),l=s?"end":"start";a=n+"-"+l}return{position:a,offset:c({positionVertical:n,positionHorizontal:r,positionLeftDelta:i,positionTopDelta:o})}}function d(e,t,n){var r=e.matchCssSelector,o=e.selector,i=e.cssSelector,a=e.matchTextRule,s=e.textRule,l=e.htmlTextRule,c=l||JSON.parse(s),u=c.operator,d=c.values,f={matchCssSelector:r,cssSelector:o||i,matchTextRule:a,textRuleOperator:u,textRuleValues:d},p=void 0;try{p=document.contains(t)}catch(e){p=!1}p?n(t):(0,I.findInAll)(f,(0,k.getRegisteredIframes)(),function(t){var r=void 0;t?r=t.element:(x.logger.log(new Error("Could not find target element for badge with selector "+e.cssSelector)),r=void 0),n(r)})}function f(e,t){function n(){var n=this;this.badgeAttr=e,this.isRendered=!1,t?this.target=t:d(e.elementSelector,null,function(e){n.target=e})}function r(e){try{if(q){var t=q,n=t.state.isVisible;e&&!n?q.show():!e&&n&&(q.setProps({duration:[0,0]}),q.hide(),q.setProps({duration:[300,250]}))}}catch(e){x.logger.logInternalError(new Error("Error in change visibility of tooltip"+e))}}function o(e,t){if(!q&&t)f(e,t);else if(q){var n=q,o=n.state.isVisible;t!==o&&(f(e,t),t&&r(!0))}}function a(e){try{if(!e)return;var t=e.backgroundColor,n=e.height,r=e.autoHeight,o=e.width;if(q){var i=q,a=i.popper;a.classList.add("apt-badge-tippy");var s=a.firstChild,l=m(s.children,2),c=l[0],u=l[1];!r&&n&&(u.style.height=n+"px"),o&&(u.style.width=o+"px"),c.style.color=t,s.style.backgroundColor=t}}catch(e){x.logger.logInternalError(new Error("Error in update tooltip: "+e))}}function c(e){if(s(e))return e.trim();var t=document.createElement("div");return t.innerHTML=e.trim(),t}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.positionSettings,s=e.text,l=e.textColor;q&&q.destroy();var d=u(o,!0),f=d.position,p=d.offset,g=s;i(s,l)&&(g="<div style='color: "+l+"'>"+s+"</div>");(q=(0,T.addTooltipToElement)(H,{trigger:t?"manual":n?"click":"mouseenter focus",zIndex:O,showOnCreate:t,hideOnClick:!t,arrow:!0,theme:"badge",placement:f,offset:p,content:c(g),interactive:!0,allowHTML:!0,flip:!1,maxWidth:"none",sticky:!0,plugins:[S.sticky]}))&&(a(e),t&&r(!0))}function p(e){var t=u(e,!1),n=t.position,r=t.offset;return new v.default(this.target,H,{placement:n,modifiers:{offset:{offset:r},flip:{enabled:!1}},removeOnDestroy:!1,onUpdate:I.bind(this)})}function g(e){var t=e.engagementTrigger,n=e.altSettings,r=e.standalone,o=n&&n.enabled,i=t===R;return(r||i)&&o}function h(){if(this.target){var e=this.badgeAttr,t=e.positionSettings,n=e.altSettings,r=e.standalone,o=e.engagementTrigger;if(U=p.apply(this,[t]),g(this.badgeAttr)){f(n,!1,r&&o===R)}}}function b(e,t){N(e,function(e){H.innerHTML=e;var n=H.firstChild,r={height:"100%",width:"100%",padding:"7%",stroke:t};Object.assign(n.style,r)})}function E(e){var t=e.borderColor,n=e.borderWidth,r=e.badgeHotspotSettings.spotSize,o=r+"px";return{zIndex:O,height:o,width:o,borderColor:t,borderWidth:n+"px"}}function C(e){e?(H.classList.remove("apt-badge--hidden"),M||U&&U.scheduleUpdate()):(r(!1),H.classList.add("apt-badge--hidden")),M=e}function I(){var e=this;F||d(this.badgeAttr.elementSelector,this.target,function(t){if(e.target=t,t){var n=(0,y.isElementVisible)(e.target,!0,!0);U.reference=e.target,e.isRendered?C.call(e,n):e.render()}else e.destroy()})}function k(){q&&q.popperInstance&&q.popperInstance.scheduleUpdate()}function A(e){if(q){var t=u(e,!0),n=t.position,r=t.offset,o=q.props,i=o.placement,a=o.offset;return n!==i||r!==a}return!0}function L(e){H.children.length>0?H.replaceChild(e,H.children[0]):H.appendChild(e)}function P(t,n){var r=D[t];r&&(0,y.addEventListener)(H,r,function(){var r=l();e.standalone||r||(e.isPreview?e.clickCallback&&e.clickCallback(e.id):((0,w.default)(n,"b",function(e){var t=m(e.content.steps,1),n=t[0];"TOOLTIP"===n.type&&0===n.sequenceNumber&&n.stickToBadge&&(n.matchCssSelector=!0,n.cssSelector="#"+H.id)}),"ONCE"===e.qualificationScopeType&&t===R&&e.clickCallback&&e.clickCallback(e.id)))})}function _(e){var t=(e.id,e.engagementTrigger),n=e.badgeIcon,r=e.badgeIconColor,o=e.backgroundColor,i=e.useImage,a=e.imageUrl,s=e.onClick,l=e.engagementId,c=E(e);if(i&&a){var u=(0,y.createElement)("img");u.src=a,c.backgroundColor="transparent",L(u)}else n?(c.backgroundColor=o,b(n,r)):x.logger.log("No image nor icon were found for badge");Object.assign(H.style,c),H.id=V,P(t,l,s),M=B}var M=j,U=void 0,H=void 0,q=void 0,V="apt-"+e.id,W={},F=!1;n.apply(this),this.saveChanges=function(){this.badgeAttr=Object.assign(this.badgeAttr,W)},this.setEditMode=function(e){F=e},this.clear=function(){o(this.badgeAttr.altSettings,!0)},this.toggleTooltip=function(e){var t=this.badgeAttr.altSettings;(g(this.badgeAttr)&&e||!e)&&o(t,e)},this.repositionTooltip=function(){k()},this.updateTooltipContent=function(e){this.badgeAttr.altSettings.text=c(e)},this.update=function(e,t){var n=t.indexOf("all")>-1,r=t.indexOf("altSettings")>-1,i=e.altSettings;if(q&&(n||i&&r)){W=Object.assign(W,e);var s=W,l=s.altSettings;if(A(i.positionSettings)){var c=u(i.positionSettings,!0),d=c.position,f=c.offset;q.setProps({placement:d,offset:f}),q.popperInstance.scheduleUpdate()}else Object.keys(i).length>0&&a(l)}if(n||!r)if(W=Object.assign(W,e),k(),t.indexOf("positionSettings")>-1)p.apply(this,[W.positionSettings]);else if(t.indexOf("engagementTrigger")>-1){var m=W,h=m.altSettings,v=(m.engagementTrigger,g(W));o(h,v),v||q&&q.setProps({trigger:""})}else _.apply(this,[W])},this.scheduleUpdatePopper=function(){var e=this;d(this.badgeAttr.elementSelector,this.target,function(t){e.target=t,t&&(U.reference=e.target),U&&U.scheduleUpdate()})},this.checkTargetExist=function(e,t){d(e,this.target,function(e){return t(!!e)})},this.changePosition=function(e){if(this.target){var t=Object.assign(this.badgeAttr.positionSettings,e);p.apply(this,[t])}},this.getDomElement=function(){return H},this.destroy=function(){try{q&&q.destroy(),H=document.querySelector("#"+V),H&&H.parentNode.removeChild(H),U&&U.reference&&U.destroy(),this.isRendered=!1,H=null}catch(e){x.logger.logInternalError(new Error("Could not destroy badge: "+e))}},this.render=function(){this.target&&(H&&this.destroy(),H=(0,y.createElement)("div","apt-badge",{}),_.apply(this,[this.badgeAttr]),document.body.appendChild(H),h.apply(this),this.isRendered=!0,this.badgeAttr.isViewed||(this.badgeAttr.isViewed=!0))}}Object.defineProperty(t,"__esModule",{value:!0}),t.ICON_MAP=void 0;var p,g,m=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.findTarget=d,t.Badge=f;var h=n(35),v=r(h);n(111),n(112);var y=n(1),b=n(8),E=n(93),w=r(E),C=n(2),x=n(3),I=n(16),k=n(7),T=n(39),S=n(54),O="99998",A=function(e){return"BADGE_ICON_"+e},L=function(e){return C.staticContentHost+"/images/badge/types/"+e+".svg"},P=t.ICON_MAP=(p={},o(p,A(1),L("announce")),o(p,A(2),L("bulb")),o(p,A(3),L("cap")),o(p,A(4),L("exclam")),o(p,A(5),L("question")),o(p,A(6),L("flag")),o(p,A(7),L("guide")),o(p,A(8),L("arrow")),o(p,A(9),L("badge")),o(p,A(10),L("check")),o(p,A(11),L("cross")),o(p,A(12),L("dash")),o(p,A(13),L("feedback")),o(p,A(14),L("info")),o(p,A(15),L("nps")),o(p,A(16),L("star")),o(p,A(17),L("tooltip")),p),R="ON_CLICK",D=(g={},o(g,R,"click"),o(g,"ON_HOVER","mouseover"),g),_={},N=function(e,t){var n=_[e];if(n)return t(n);var r=P[e];b.AjaxUtil.getData(r,function(n){return _[e]=n,t(n)})},M=function(e){return"center"===e},B=!0,j=!1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={"apt-step-footer-buttons":"px-step-navigation-buttons","apt-step-footer-next":"px-step-navigation-next","apt-step-footer-button":"px-step-navigation-button","apt-step-footer":"px-step-navigation"};return e.querySelector(".px-step-navigation")?"."+n[t]:"."+t}Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectorByVersion=t.GuideDrawerIframe=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1),s=n(27),l=r(s),c=n(8),u=n(4),d=n(6),f=n(3),p=n(5),g=n(69),m=n(11),h=n(7),v=n(16),y=r(v),b=n(10),E=r(b),w=n(9),C=n(19),x=n(62),I=r(x),k=n(2),T=n(96),S=r(T),O=n(57),A=r(O),L=n(23),P=n(24);P.defaultOptions.className="vex-theme-os",P.defaultOptions.closeAllOnPopState=!1;var R="div",D="classList",_=2,N="aptCurrentGuideUrl",M=function(e,t){function n(e){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":i(e))&&1===e.nodeType&&"string"==typeof e.nodeName}function r(e){var t=k.trackMultiStepEndpoint;if(Te&&!0!==He){2===e&&(He=!0);var n=[];n=(0,a.addParameters)(u.eventTrackData[d.cacheGetAll](),n),(0,a.addParameters)({ei:Ne.engagementId||null,ecoi:Ne.contentId||null,ems:e||null,evi:Ne.matchEventId||null,ent:_,acci:Ne.accountId,exi:Ne.executionId,ext:Ne.executionTimestamp,cl:Ne.contentLocale,at:Ne.activationType||"a"},n);var r=u.globalContextCache[d.cacheGet]("apt.gcx");r&&(0,a.addParameters)({gcx:JSON.stringify(r)},n),t+="?"+(0,a.convert2Parameters)(n),c.AjaxUtil.getData(t),m.internalEventListener.dispatchEvent("engagementCompleted",(0,L.toExternalEventGuide)(Ne,"Completed"))}}function s(e,t){if(Te&&!(t<1)&&!I.default.wasStepTracked(Ne.executionId,e)){I.default.markStepTracked(Ne.executionId,e);var n=k.trackStepEndpoint,r=[];r=(0,a.addParameters)(u.eventTrackData[d.cacheGetAll](),r),(0,a.addParameters)({ei:Ne.engagementId,ecoi:Ne.contentId,cosi:e,evi:Ne.matchEventId,cossn:t,ent:_,acci:Ne.accountId,exi:Ne.executionId,ext:Ne.executionTimestamp,cl:Ne.contentLocale,at:Ne.activationType||"a"},r);var o=u.globalContextCache[d.cacheGet]("apt.gcx");o&&(0,a.addParameters)({gcx:JSON.stringify(o)},r),n+="?"+(0,a.convert2Parameters)(r),c.AjaxUtil.getData(n);var i=(0,L.toExternalEventGuide)(Ne,"Viewed Step");i.stepNumber=t+1,m.internalEventListener.dispatchEvent("engagementViewedStep",i)}}function b(e){return["TOOLTIP","HOTSPOT"].indexOf(e.type)>-1&&e.elementSelector||"DIALOG"===e.type&&("BAR"===e.dialogViewType&&e.barPosition||e.positionHorizontal&&e.positionVertical)}function x(e){_e.forEach(function(t,n){t.id===e&&(Re=n)}),B()}function T(e){Object.keys(Fe).forEach(function(e){var t=Fe[e],n=t.element,r=t.event,o=t.handler;(0,a.removeEventListener)(n,r,o),delete Fe[e]})}function O(e){We&&e&&e.isDom&&((0,a.removeEventListener)(e.element,"click",We),(0,a.removeEventListener)(e.element,"contextmenu",We),(0,a.removeEventListener)(e.element,"mouseenter",We),ue(e))}function M(e){T(),O(e)}function B(e){Pe=Re,De=Re,$(),Ge=!1,Le.length>0&&Le.pop().close(),Ge=!0,M();for(var t=_e[De];De<_e.length&&!b(t);)t=_e[++De];if(void 0===t){Le[0]&&Le.pop().close(),M();var n=document.querySelector(".apt-hotspot-element");return n&&document.body.removeChild(n),void(Me&&Me())}Re=De+1;for(var r=_e[Re];Re<_e.length&&!b(r);)r=_e[++Re];try{e&&e>0?setTimeout(function(){U(t.elementSelector,t.type,function(e,n){if(("TOOLTIP"===n||"HOTSPOT"===n)&&null===e)return Ie(),void(Me&&Me(t.elementSelector));Y(e,Ne.footer,t.content,Ne,t)})},e):["TOOLTIP","HOTSPOT"].indexOf(t.type)>-1?setTimeout(function(){U(t.elementSelector,t.type,function(e,n){if(["TOOLTIP","HOTSPOT"].indexOf(n)>-1&&null===e)return Ie(),void(Me&&Me(t.elementSelector));Y(e,Ne.footer,t.content,Ne,t)})},0):Y(null,Ne.footer,t.content,Ne,t)}catch(e){throw F(),e}}function j(e,t){try{var n=Ne.engagementId,r=e?e.cssSelector:"MISSING",o=n+"_"+r;Xe[o]||(Xe[o]=!0,f.logger.logInternalMessage({entityId:n,errorType:"ENGAGEMENT_MISSING_ELEMENT",engagementErrorData:{mappedElementId:r,engagementId:n,engagementType:"IN_APP_GUIDE",stepId:_e[De]&&_e[De].id||""},flowType:"ENGAGEMENT",exceptionDetails:"element is not found after: "+t}))}catch(e){f.logger.log("error sending element not found log.\n"+e.message)}}function U(e,t,n,r){if(-1===["TOOLTIP","HOTSPOT"].indexOf(t))return void n(null,t);var o=(new Date).getTime(),i=void 0;(0,v.findInAll)(e,(0,h.getRegisteredIframes)(),function(s){r=r||o;var l=o-r;if(l>Se)return Te&&j(e,l),void n(null,t);if(s||setTimeout(function(){U(e,t,n,r)},500),s&&s.element){if(i=s.element,(0,a.isElementVisible)(i,!1,null)&&l<=Se)return void n({isDom:!0,element:i},t);setTimeout(function(){U(e,t,n,r)},500)}else s&&s.iframeData&&y.default.getElementLocation(s.iframeData,e,function(e){n({isDom:!1,elementRect:e[0],iframeSource:s.iframeData,iframeOrigin:h.IframeData.iframeOrigin},t)})})}function H(){Re=De;for(var e=_e[--De];!b(e);)e=_e[--De];Pe=De-1;for(var t=_e[Pe];Pe>-1&&!b(t);)t=_e[--Pe];U(e.elementSelector,e.type,function(t){if(null===t&&"DIALOG"!==e.type)return void H();try{Y(t,Ne.footer,e.content,Ne,e)}catch(e){throw F(),e}})}function q(e){e.classList.contains("apt-guide-arrow-bottom")&&e.classList.remove("apt-guide-arrow-bottom"),e.classList.contains("apt-guide-arrow-top")&&e.classList.remove("apt-guide-arrow-top"),e.classList.contains("apt-guide-arrow-right")&&e.classList.remove("apt-guide-arrow-right"),e.classList.contains("apt-guide-arrow-left")&&e.classList.remove("apt-guide-arrow-left"),e.classList.remove("apt-guide-arrow-top-left"),e.classList.remove("apt-guide-arrow-top-right"),e.classList.remove("apt-guide-arrow-bottom-right"),e.classList.remove("apt-guide-arrow-bottom-left"),e.classList.remove("apt-guide-arrow-top-center"),e.classList.remove("apt-guide-arrow-center")}function V(e,t,n){if(q(t),(0,a.isNotEmptyArr)(e)){var r="",o="",i="";if("top"===e[1]?(r="apt-guide-arrow-bottom",n&&(o=n+" transparent transparent transparent"),"right"===e[0]?(t.style.borderBottomLeftRadius="0",i="apt-guide-arrow-bottom-left"):"left"===e[0]?(t.style.borderBottomRightRadius="0",i="apt-guide-arrow-bottom-right"):i="apt-guide-arrow-center"):"bottom"===e[1]?(r="apt-guide-arrow-top",n&&(o="transparent transparent "+n+" transparent"),"right"===e[0]?(t.style.borderTopLeftRadius="0",i="apt-guide-arrow-top-left"):"left"===e[0]?(t.style.borderTopRightRadius="0",i="apt-guide-arrow-top-right"):i="apt-guide-arrow-center"):"left"===e[0]?(r="apt-guide-arrow-right",n&&(o="transparent transparent transparent "+n)):(r="apt-guide-arrow-left",n&&(o="transparent "+n+" transparent transparent")),t[D].add(r),""!==i&&t[D].add(i),""!==o){var s="."+r+"::after{border-color: "+o+";",l=document.body,c=document.getElementById("apt-guide-arrow-style");s+="}",null===c?c=(0,a.createStyle)(s,"apt-guide-arrow-style"):c.styleSheet?c.styleSheet.cssText=s:(c.innerHTML="",c.appendChild(document.createTextNode(s))),l.appendChild(c)}}}function W(e,t,n,r,o,i){r||(r=0);var s=e.isDom?e.element.getBoundingClientRect():e.elementRect,l=(0,p.getPageWidth)(),c=(0,p.getPageHeight)(),u=s.height,d=s.width,f=s.left,g=s.top,m=s.bottom,h=s.right,v=f-r>=0?f-r:0;Ke.style.left=v+"px",Ke.style.top="0px",Ke.style.height=(0===g?0:g-r>0?g-r:0)+"px",t&&(Ke.style.background=(0,a.hexToRgba)(t,n?n/100:0)),ze.style.top=g+r+u+"px",ze.style.height=(0===m?0:c-parseInt(ze.style.top))+"px",t&&(ze.style.background=(0,a.hexToRgba)(t,n?n/100:0)),Ye.style.left="0px",Ye.style.top="0px",Ye.style.height=c+"px";var y=0===f?0:v;Ye.style.width=y+"px",t&&(Ye.style.background=(0,a.hexToRgba)(t,n?n/100:0));var b=f+d+r;if(Je.style.left=b+"px",Je.style.top="0px",Je.style.height=c+"px",Je.style.width=(0===h?0:l-f-s.width-r)+"px",t&&(Je.style.background=(0,a.hexToRgba)(t,n?n/100:0)),Ke.style.width=b-y+"px",ze.style.width=b-y+"px",Ke.style.left=y+"px",ze.style.left=y+"px",Ke.style.display="block",Ke.style.visibility="visible",ze.style.display="block",ze.style.visibility="visible",Ye.style.display="block",Ye.style.visibility="visible",Je.style.display="block",Je.style.visibility="visible",i){var E=(0,a.createElement)("div","apt-guide-target-block");E.style.left=f-r+"px",E.style.width=d+2*r+"px",E.style.height=u+2*r+"px",E.style.top=g-r+"px",o.appendChild(E)}}function F(){Ke.style.display="none",Ke.style.visibility="hidden",ze.style.display="none",ze.style.visibility="hidden",Ye.style.display="none",Ye.style.visibility="hidden",Je.style.display="none",Je.style.visibility="hidden"}function G(e,t){var n=u.windowRef.sessionStorage,r=JSON.parse(n.getItem("apt.prevStepMap"));r||(r={}),r[t.id]={id:e.id,url:u.windowRef.location.href},n.setItem("apt.prevStepMap",JSON.stringify(r)),n.setItem("apt.stepId",t.id),(Ne.engagementId||!1===Te)&&n.setItem("apt.guideId",Ne.engagementId)}function K(e){var t=u.windowRef.sessionStorage;t.getItem(e)&&t.removeItem(e)}function z(){K("apt.currentGuideId"),K("apt.stepId"),K("apt.guideId")}function Y(e,t,n,r,o,i,a,s,l){switch(!0!==i&&($(),Ge=!1,Le.length>0&&Le.pop().close(),M(e),A.default.removeAllHandlers(),Ge=!0,Ve=e),o.type){case"TOOLTIP":case"DIALOG":return be(e,t,n,r,o,i,a,s,l);case"HOTSPOT":return ne(e,r,o,i,a,s,l);default:f.logger.logInternalError(new Error("Unsupported step type "+o.type))}}function J(e){var t=e.hotspotSettings,n=".apt-hotspot-dynamic {",r=".apt-hotspot-dynamic:before {";u.eventTrackData.data[u.productIdParameter]&&u.eventTrackData.data[u.productIdParameter].startsWith("AP-WVMZ1DVKRDJD")&&(t.zIndex=9e3,n+="z-index: "+(t.zIndex||2147483647)+";"),n+="background-color: "+t.spotColor+";",r+="box-shadow: 0px 0px 2px 2px "+t.animationColor+";",n+="height: "+t.spotSize+"px; width: "+t.spotSize+"px;",r+="height: "+t.spotSize+"px; width: "+t.spotSize+"px;",r+="animation:apt-hotspot-active "+t.animationDuration+"ms "+(t.animationCount?t.animationCount:"infinite")+" linear; animation-delay: "+(t.animationDelay?t.animationDelay:"0")+"ms;",n+="}",r+="}";var o=n+" "+r,i=document.getElementById("apt-hotspot-style");i?i.styleSheet?i.styleSheet.cssText=o:(i.innerHTML="",i.appendChild(document.createTextNode(o))):i=(0,a.createStyle)(o,"apt-hotspot-style"),document.body.appendChild(i)}function X(e,t,n,r){(0,a.addEventListener)(e,"click",function(){if(document.body.removeChild(e),Z(),"REDIRECT"===t.navigation.nextButtonAction&&t.navigation.nextStepUrl&&t.navigation.nextStepUrl!==u.windowRef.location.href){var o=r>-1?r:De,i=(0,C.resolveUrlWithPlaceholders)(u.windowRef.location.href,t.navigation.nextStepUrl);o<t.total-1?(G(t,_e[De+1]),u.windowRef.location.href=(0,a.addParameterToUrl)(i,n.preview?"aptShowGuide":"aptGuideId",n.preview?"1":n.engagementId)):u.windowRef.location.href=i}else B(null,!0)})}function $(){var e=document.querySelector(".apt-hotspot-element");e&&document.body.removeChild(e)}function Q(e,t,n){var r=function r(){setTimeout(function(){(0,v.findInAll)(e.elementSelector,(0,h.getRegisteredIframes)(),function(e){e&&(e.element||e.iframeData)&&!1!==e.isVisible||(document.body.contains(t)&&document.body.removeChild(t),!n.preview&&Me&&Me()),m.internalEventListener.removeListener("pageview",r),Z()})},500)};m.internalEventListener.addListener("pageview",r);var o=setInterval(function(){try{(0,v.findInAll)(e.elementSelector,(0,h.getRegisteredIframes)(),function(e){e&&(e.element||e.iframeData)&&t.parentElement&&!1!==e.isVisible||(t.parentElement&&document.body.removeChild(t),clearInterval(o),Z(),!n.preview&&Me&&Me())})}catch(e){clearInterval(o),Z(),f.logger.logInternalError(e)}},500)}function Z(){try{qe&&clearInterval(qe)}catch(e){}}function ee(e,t,n,r,o,i,s){var l=e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3];return r.isDom&&(n.style.display=(0,a.isElementVisible)(r.element,!0,!0)?"block":"none"),l&&(t=e,ke.positionElement(n,r,o.positionHorizontal,o.positionVertical,o.positionTopDelta,o.positionLeftDelta,"HOTSPOT"===o.type,Te),"TOOLTIP"===o.type&&re(i,s,o,r)),t}function te(e,t,n,r,o,i){var a=function(r){if(r.element){var a=ke.getElementPosition(r.element);r.isDom=!0,t=ee(a,t,n,r,e,o,i)}else y.default.getElementLocation(r.iframeData,e.elementSelector,function(a){var s={isDom:!1,elementRect:a[0],iframeSource:r.iframeData,iframeOrigin:h.IframeData.iframeOrigin},l=ke.getElementDataPosition(s);t=ee(l,t,n,s,e,o,i)})},s=setInterval(function(){try{if(r&&r.isDom&&r.element&&!document.body.contains(r.element)){var t=JSON.stringify(e.elementSelector);f.logger.logInternalError(new Error("Guide "+i.id+" on step "+e.id+" with selector "+t+" was closed, mapped element was there and then removed")),ye(e,i)}else r?a(r):(0,v.findInAll)(e.elementSelector,(0,h.getRegisteredIframes)(),a)}catch(e){clearInterval(s),f.logger.logInternalError(e)}},1e3);return s}function ne(e,t,n,o,i,l,c){var u=!c&&n.autoScroll&&e&&e.element&&(0,a.needToScroll)(e.element);u&&(0,a.scrollElementToCenter)(e.element,function(e){return f.logger.logInternalError(e)}),J(n);var d=(0,a.createElement)("span",["apt-hotspot-element","apt-hotspot-dynamic"]);d.setAttribute("data-apt-disable-selector",!0),(0,a.appendElements)(document.body,[d]);var p=function(){var o=null;if(n&&n.positionHorizontal&&n.positionVertical){o=ke.positionElement(d,e,n.positionHorizontal,n.positionVertical,n.positionTopDelta,n.positionLeftDelta,!0,Te);var a=ke.getElementDataPosition(e);qe=te(n,a,d,e)}null===o&&(o=Ee(d,e,n.positionTopDelta,n.positionLeftDelta,!0)),l||(X(d,n,t,i),Q(n,d,t),_e&&(Re>=_e.length||1===_e.length)&&r(2),n&&s(n.id,n.sequenceNumber)),je&&je(o)};u?setTimeout(p,800):p()}function re(e,t,n,r){var o=e.querySelector(".apt-vex.apt-popup-disable-overlay .vex-overlay"),i=void 0,s=void 0,l=void 0,c=n.overlay&&n.overlay.modal||t.modal;if(!(n.overlay&&n.overlay.fill<1)||n.showOverlay){if(c&&(document.documentElement.classList.add("apt-non-scroll"),document.body.classList.add("apt-non-scroll"),i=n.overlay&&n.overlay.modal&&n.overlay.color||t.overlayColor,s=n.overlay&&n.overlay.modal&&!isNaN(n.overlay.fill)?n.overlay.fill:t.overlayFill,l=n.overlay&&n.overlay.modal&&(n.overlay.padding||0===n.overlay.padding)?n.overlay.padding:t.overlayPadding),t&&"TOOLTIP"===n.type){W(r,i,s,l,e,n.overlay&&n.overlay.modal&&n.overlay.blockElement&&!ae(n.navigation.nextStepTrigger)),c||F()}t&&"DIALOG"===n.type&&c&&(o.style.background=(0,a.hexToRgba)(i,s?s/100:0),o.style.display="block")}}function oe(e,t){if("REDIRECT"===e.navigation.nextButtonAction&&e.navigation.nextStepUrl&&e.navigation.nextStepUrl!==u.windowRef.location.href){e.sequenceNumber<e.total-1&&G(e,_e[De+1]);var n=(0,C.resolveUrlWithPlaceholders)(u.windowRef.location.href,e.navigation.nextStepUrl);u.windowRef.location.href=(0,a.addParameterToUrl)(n,t.preview?"aptShowGuide":"aptGuideId",t.preview?"1":t.engagementId)}else B(null,!0)}function ie(e){return e&&"INPUT"===e.nodeName&&"text"===e.type}function ae(e){return["ELEMENT_CLICK","ELEMENT_HOVER","INPUT_TEXT_COMPLETION"].indexOf(e)>-1}function se(e){return["ELEMENT_CLICK","INPUT_TEXT_COMPLETION"].indexOf(e)>-1}function le(e,t){if(De>=e.total-1&&"REDIRECT"===t.completionClosingAction&&t.completionClosingRedirectUrl){var n=(0,C.resolveUrlWithPlaceholders)(u.windowRef.location.href,t.completionClosingRedirectUrl);n!==u.windowRef.location.href&&(u.windowRef.location.href=n)}else if(De<e.total&&"REDIRECT"===t.interruptClosingAction&&t.interruptClosingRedirectUrl){var r=(0,C.resolveUrlWithPlaceholders)(u.windowRef.location.href,t.interruptClosingRedirectUrl);r!==u.windowRef.location.href&&(u.windowRef.location.href=r)}}function ce(e){(0,k.getConfig)("guideAdvanceOnHover")&&((0,a.addEventListener)(e.element,"mouseleave",$e,!1),(0,a.addEventListener)(e.element,"mouseout",$e,!1),e.element.nextElementSibling&&((0,a.addEventListener)(e.element.nextElementSibling,"mouseleave",$e,!1),(0,a.addEventListener)(e.element.nextElementSibling,"mouseout",$e,!1)))}function ue(e){(0,k.getConfig)("guideAdvanceOnHover")&&((0,a.removeEventListener)(e.element,"mouseleave",$e),(0,a.removeEventListener)(e.element,"mouseout",$e),e.element.nextElementSibling&&((0,a.removeEventListener)(e.element.nextElementSibling,"mouseleave",$e,!1),(0,a.removeEventListener)(e.element.nextElementSibling,"mouseout",$e,!1)))}function de(e,t){var n=ge(t);return e.sequenceNumber===n}function fe(e,t){var n=pe(t);return e.sequenceNumber===n}function pe(e){return e&&e.reduce(function(e,t){return Math.max(e,t.sequenceNumber)},e[0].sequenceNumber)}function ge(e){return e&&e.reduce(function(e,t){return Math.min(e,t.sequenceNumber)},e[0].sequenceNumber)}function me(e){var t=_e&&_e.filter(function(e){return"DIALOG"===e.type});return t&&t.length&&de(e,t)}function he(e){var t=_e&&_e.filter(function(e){return"DIALOG"===e.type});return t&&t.length&&fe(e,t)}function ve(e,t,n){var r=this.contentEl.querySelector(".apt-step-new-index")||this.contentEl.querySelector(".px-step-new-index");if(r&&e.total>1){r[D].add("px-step-numbers");var o=n?" "+n+" ":" of ";r.appendChild((0,a.createElement)("div",null,{text:t+1+o+e.total}))}}function ye(e,t){sessionStorage.removeItem(N),z(),Z(),sessionStorage.removeItem("apt.prevStepMap"),Me&&Me(),Le.length>0&&Le.pop().close(),M(),e&&t&&le(e,t),A.default.removeAllHandlers()}function be(e,t,i,l,c,d,g,m,h){var v=function(){try{F(),sessionStorage.removeItem(N),z(),u.windowRef.sessionStorage.removeItem("apt.prevStepMap"),Z(),Me&&Me(),le(c,l)}catch(e){f.logger.logInternalError(e,"Error on closing guide")}},b=(0,a.getEscHandlerCallback)(v);if(Ue=c,!n(i)){var E=document.createElement("div");E.innerHTML=i,i=E,i[D].add("apt-step-wrapper")}if(Ue.titleHtml&&!n(Ue.titleHtml)){var x=document.createElement("div");x.innerHTML=Ue.titleHtml,Ue.titleHtml=x}if(!n(t)){var I=document.createElement("div");I.innerHTML=t,t=I.firstChild}var k=(0,a.createElement)(R,["apt-step-content","apt-sdk"]),T=(0,a.createElement)(R,["apt-guide-content-wrapper"]);k[D].toggle("px-dialog-container","DIALOG"===c.type),k[D].toggle("px-tooltip-container","TOOLTIP"===c.type),k[D].toggle("px-start-guide-dialog",me(c)),k[D].toggle("px-end-guide-dialog",he(c)),k[D].toggle("px-first-step",de(c,_e)),k[D].toggle("px-last-step",fe(c,_e)),Ue.titleHtml&&Ue.showTitle&&T.insertBefore(Ue.titleHtml,T.firstChild),"TOOLTIP"!==c.type||Ue.titleHtml||(Ue.navigation.useElementListener&&ae(Ue.navigation.nextStepTrigger)?T[D].add("apt-guide-tooltip-content"):T[D].add("apt-guide-tooltip-content-navigation")),i&&t&&(T.appendChild(i),(0,a.appendElements)(k,[T,t]));var O=null,L=!h&&c.autoScroll&&e&&e.element&&(0,a.needToScroll)(e.element);L&&(0,a.scrollElementToCenter)(e.element,function(e){return f.logger.logInternalError(e)});var _=void 0,j=e&&e.isDom?e.element:null,q={closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:k.outerHTML,overlayClosesOnClick:!1,closeAllOnPopState:!1,showCloseButton:!0,afterOpen:function(){function t(e){-1!==[13,9].indexOf(e.keyCode)&&e.currentTarget===j&&(oe(c,l),(0,a.removeEventListener)(j,"keydown",t))}this.rootEl.style.display="none",document.body.classList.add("apt-vex"),this.rootEl[D].add("apt-vex"),this.rootEl.setAttribute("data-apt-ignore-visible",!0),this.contentEl.setAttribute("data-apt-disable-selector",!0),this.rootEl[D].add("apt-popup-disable-overlay"),this.contentEl[D].add("apt-guide-popup"),this.contentEl[D].add("guide-initial-position"),this.contentEl[D].add("apt-popup-content-disable-overlay"),this.contentEl[D].add("px-engagement-wrapper-guide"),this.contentEl[D].add("px-engagement-wrapper");var n=l.zIndex||Ae;n&&(this.contentEl.style.zIndex=n),(0,w.addStyleTag)(this.contentEl,l.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,w.addStyleTag)(this.contentEl,l.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),(0,w.addStyleTag)(this.contentEl,l.overrideStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");var i=g>-1?g:De;l.showStepCounter&&c.showCounter&&ve.call(this,c,i,l.stepCounterLabelText),m&&!l.preview||(A.default.removeAllHandlers(),A.default.addNavigationHandler(e,c,l,function(e,t){ye(e,t)})),c&&c.backgroundColor&&(this.contentEl.style.backgroundColor=c.backgroundColor),c&&c.backgroundColor&&c.backgroundFill&&(this.contentEl.style.backgroundColor=(0,a.hexToRgba)(c.backgroundColor,c.backgroundFill/100),(0,a.checkDarkColor)(c.backgroundColor)&&this.contentEl.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright")),c.autoHeight||(c&&c.height&&(this.contentEl.style.height=c.height+"px"),c&&c.height&&(this.contentEl.querySelector(".apt-step-content").style.height=c.height+"px")),c&&c.width&&(this.contentEl.style.width=c.width+"px"),l&&l.borderRadius&&(this.contentEl.style.borderRadius=l.borderRadius+"px");var d=this.contentEl.querySelectorAll(o(this.contentEl,"apt-step-footer-buttons")),h=d[d.length-1],E=this.closeEl;(0,a.addEventListener)(E,"click",v),(0,a.addEventListener)(document,"keydown",b),c.shadow&&we(this.contentEl,c.shadowSettings);var x=this.contentEl.querySelector(o(this.contentEl,"apt-step-footer-next")),I=this.contentEl.querySelector(o(this.contentEl,"apt-step-footer-button")),k=this.contentEl.querySelector(o(this.contentEl,"apt-step-footer"));if(c.showSkip&&S.default.addSkipButton(k,l.skipButton,c.navigation.backgroundRadius,!m,function(e,t){return function(){ye(e,t)}}(c,l),l.skipButtonText),I.innerText=l.backButtonText||"Previous",x.innerText=l.nextButtonText||"Next",I.classList.add("apt-step-footer-prev"),"TOOLTIP"===c.type&&ie(j)&&(Fe[c.id]={element:j,event:"keydown",handler:t},(0,a.addEventListener)(j,"keydown",t)),c&&!c.navigation.useElementListener||m||!ae(c.navigation.nextStepTrigger)){if(0===c.sequenceNumber&&"DIALOG"===c.type&&(x.innerText=l.getStartedButtonText||l.startButton&&l.startButton.text||"Get Started",x.style.width=""),0!==c.sequenceNumber&&c.showPreviousButton||(m?I.style.display="none":I.parentNode===h&&h.removeChild(I)),i>=c.total-1&&(x.innerText=l.endButtonText||"End Tour",c.total>1&&(I.innerText=l.restartButtonText||"Start Over")),!m&&l)if(_e&&(Re>=_e.length||1===_e.length)){var T=!1;(0,a.addEventListener)(x,"click",function(){T||(T=!0,ye(c,l))});var L=sessionStorage.getItem(N);(0,a.addEventListener)(I,"click",function(){if(u.windowRef.location.href===L){var e=_e[0];Re=1,Pe=-1,De=0,He=!1,["TOOLTIP","HOTSPOT"].indexOf(e.type)>-1?(U(e.elementSelector,e.type,function(t){Y(t,Ne.footer,e.content,Ne,_e[0],!1)}),Z()):Y(null,Ne.footer,e.content,Ne,_e[0],!1)}else u.windowRef.location.href=(0,a.addParameterToUrl)(L,l.preview?"aptShowGuide":"aptGuideId",l.preview?"1":l.engagementId)})}else{var P=!1;(0,a.addEventListener)(x,"click",function(){if(P)return void f.logger.log("next already clicked");P=!0,oe(c,l),Z()}),(0,a.addEventListener)(I,"click",function(){var e=!0;if(c&&c.navigation&&"HISTORY_BACK"==c.navigation.previousButtonAction)history.back();else{var t=JSON.parse(u.windowRef.sessionStorage.getItem("apt.prevStepMap")),n=null;if(t&&(n=t[c.id]),n){Z(),z(),u.windowRef.sessionStorage.setItem("apt.stepId",n.id);var r=n.url;r!==u.windowRef.location.href&&(e=!1,u.windowRef.location.href=(0,a.addParameterToUrl)(r,l.preview?"aptShowGuide":"aptGuideId",l.preview?"1":l.engagementId))}}e&&H()})}c&&c.navigation&&xe(c.navigation,I,x,c.backgroundColor&&c.backgroundColor),(m&&c.navigation.useElementListener||ae(c.navigation.nextStepTrigger))&&(k.style.display="none",x.style.display="none",I.style.display="none")}else k.style.display=x.style.display=I.style.display="none";if((ae(c.navigation.nextStepTrigger)||c.navigation.useElementListener)&&!m&&e){var R=!0;We=function(t){if(!ie(e.element)&&R)if(A.default.removeAllHandlers(),se(c.navigation.nextStepTrigger)&&c.navigation.nextStepUrl&&("REDIRECT"===c.navigation.nextButtonAction&&u.windowRef.location.href!==c.navigation.nextStepUrl||"SHOW_ON_NEXT_PAGE"===c.navigation.nextButtonAction)){var n=g>-1?g:De;if(n<c.total-1&&G(c,_e[De+1]),"REDIRECT"===c.navigation.nextButtonAction){var r=(0,C.resolveUrlWithPlaceholders)(u.windowRef.location.href,c.navigation.nextStepUrl);u.windowRef.location.href=n<c.total-1?(0,a.addParameterToUrl)(r,l.preview?"aptShowGuide":"aptGuideId",l.preview?"1":l.engagementId):r}}else B(1e3,!0),"ELEMENT_CLICK"===c.navigation.nextStepTrigger&&((0,a.removeEventListener)(e.element,"click",We),(0,a.removeEventListener)(e.element,"contextmenu",We)),R=!1,"ELEMENT_HOVER"===c.nextStepTrigger&&((0,a.removeEventListener)(e.element,"mouseenter",We),ue(e))},e.isDom?("ELEMENT_CLICK"===c.navigation.nextStepTrigger&&((0,a.addEventListener)(e.element,"click",We),(0,a.addEventListener)(e.element,"contextmenu",We)),"ELEMENT_HOVER"===c.navigation.nextStepTrigger&&((0,a.addEventListener)(e.element,"mouseenter",We,!1),ce(e))):y.default.addElementHandler(e.iframeSource,c.elementSelector,c.navigation.nextStepTrigger,We)}if(_e&&(Re>=_e.length||1===_e.length)&&r(2),"DIALOG"===c.type&&"BAR"===c.dialogViewType&&(this.contentEl.style.position="absolute",this.contentEl[D].add("apt-dialog-bar"),this.contentEl.style.width=(0,p.getPageWidth)()+"px"),this.rootEl.style.display="block","DIALOG"===c.type&&"BAR"===c.dialogViewType){var M="TOP"===c.barPosition?"top":"bottom";O=ke.positionElement(this.contentEl,e,"center",M,c.positionTopDelta,c.positionLeftDelta)}else c&&c.positionHorizontal&&c.positionVertical&&(O=ke.positionElement(this.contentEl,e,c.positionHorizontal,c.positionVertical,c.positionTopDelta,c.positionLeftDelta,!1,Te));if(null===O&&(O=!e&&"DIALOG"===c.type&&ke.positionElement(this.contentEl,e,"center","center",c.positionTopDelta,c.positionLeftDelta,!1,Te)||Ee(this.contentEl,e,c.positionTopDelta,c.positionLeftDelta)),"TOOLTIP"===c.type)if(null===O)Te&&f.logger.logInternalError(new Error("Could not find linked element after attempting to position it, element might be not visible.\nLinked element css selector:"+c.elementSelector));else{this.contentEl[D].add("apt-guide-tooltip"),V(O,this.contentEl,c&&c.backgroundColor?c.backgroundColor:"#ffffff"),e&&e.isDom&&(_=Oe.getFollowScrollHandler(e.element,this.contentEl),Oe.handleScrollEvent(j,_));var q=ke.getElementDataPosition(e);qe=te(c,q,this.contentEl,e,this.rootEl,l)}re(this.rootEl,l,c,e),c&&s(c.id,c.sequenceNumber)}};q.beforeClose=function(){document.body.classList.remove("apt-vex"),document.body.classList.remove("apt-non-scroll"),document.documentElement.classList.remove("apt-non-scroll"),Z(),F(),Oe.clearScrollEventListenerFromParents(j),(0,a.removeEventListener)(document,"keydown",b),M(j),Be&&Be(),Ge&&!l.preview&&Me&&Me()};var W=function(){var e=P.open(q);Le.push(e),je&&je(O)};L?setTimeout(W,800):W()}function Ee(e,t,n,r,o){function i(i,a){return ke.positionElement(e,t,i,a,n,r,o,Te)}return i("right","top")||i("center","top")||i("right","center")||i("right","bottom")||i("center","bottom")||i("left","bottom")||i("left","center")||i("left","top")}function we(e,t){var n=Ce(t);e.style.setProperty("filter","drop-shadow("+n+")"),e.style.setProperty("-webkit-filter","drop-shadow("+n+")")}function Ce(e){var t="";return t+=(e.offsetX?e.offsetX:0)+"px ",t+=(e.offsetY?e.offsetY:0)+"px ",t+=(e.blur?e.blur:0)+"px ",e.fill&&e.color&&(t+=(0,a.hexToRgba)(e.color,e.fill/100)),t}function xe(e,t,n){e.backgroundColor&&(t.style.backgroundColor=e.backgroundColor)&&(n.style.backgroundColor=e.backgroundColor),e.backgroundFill&&(t.style.backgroundColor=(0,a.hexToRgba)(e.backgroundColor,e.backgroundFill/100))&&(n.style.backgroundColor=(0,a.hexToRgba)(e.backgroundColor,e.backgroundFill/100)),e.backgroundRadius&&(t.style.borderRadius=e.backgroundRadius+"px")&&(n.style.borderRadius=e.backgroundRadius+"px"),e.labelColor&&(t.style.color=e.labelColor)&&(n.style.color=e.labelColor)}function Ie(){Z(),F();for(var e=0;e<Le.length;e++)Le[e].close();document.querySelectorAll(".apt-hotspot-element").forEach(function(e){document.body.removeChild(e)}),Le=[],Ve&&ue(Ve),Ve=void 0}var ke=e||new l.default,Te=!E.default.isEditorMode(),Se=(E.default.isEditorMode(),15*a.MILLISEC),Oe=new g.ScrollEventBinder,Ae=t||void 0,Le=[],Pe=-1,Re=0,De=0,_e=null,Ne=null,Me=null,Be=null,je=null,Ue=null,He=!1,qe=void 0,Ve=void 0,We=null,Fe={},Ge=!0,Ke=void 0,ze=void 0,Ye=void 0,Je=void 0,Xe={};(0,p.addDOMReadyListener)(function(){document.querySelector(".apt-guide-overlay-top")?Ke=document.querySelector(".apt-guide-overlay-top"):(Ke=document.createElement("div"),Ke.className="apt-guide-overlay-top"),document.querySelector(".apt-guide-overlay-bottom")?ze=document.querySelector(".apt-guide-overlay-bottom"):(ze=document.createElement("div"),ze.className="apt-guide-overlay-bottom"),document.querySelector(".apt-guide-overlay-left")?Ye=document.querySelector(".apt-guide-overlay-left"):(Ye=document.createElement("div"),Ye.className="apt-guide-overlay-left"),document.querySelector(".apt-guide-overlay-right")?Je=document.querySelector(".apt-guide-overlay-right"):(Je=document.createElement("div"),Je.className="apt-guide-overlay-right"),document.body.appendChild(Ke),document.body.appendChild(ze),document.body.appendChild(Ye),document.body.appendChild(Je),(0,a.addEventListener)(Ke,"click",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(ze,"click",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Ye,"click",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Je,"click",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Ke,"mousedown",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(ze,"mousedown",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Ye,"mousedown",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Je,"mousedown",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Ke,"mouseup",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(ze,"mouseup",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Ye,"mouseup",function(e){e.stopImmediatePropagation()}),(0,a.addEventListener)(Je,"mouseup",function(e){e.stopImmediatePropagation()})}),this.showOverlay=W,this.showOverlayForStep=re,this.showStepById=x,this.findElementInPage=U;var $e=function(e){e.stopImmediatePropagation()};this.setHotspotStyle=function(e){J(e)},this.showStep=function(e,t,n,r,o,i,a,s,l,c,u){Me=i,a&&(Be=a),u&&(je=u),_e=l,l.sort(function(e,t){return e.sequenceNumber-t.sequenceNumber});var d=pe(l);l=S.default.populateNavigationFlags(l,d),l.forEach(function(e){e.sequenceNumber===o.sequenceNumber&&(o.showCounter=e.showCounter,o.showSkip=e.showSkip)});for(var f=-1,p=!1,g=0;g<l.length;g++)l[g].id===o.id&&(f=g),"BADGE"===l[g].type&&(p=!0);return p&&(f-=1,o.total-=1),Y(e,t,n,r,o,s,f,c)},this.changePosition=function(e,t,n,r,o){var i=null;if(Le[0]){if((i=ke.positionElement(Le[0].contentEl,e,t,n,r,o,!1,Te))&&i.length>0)return e&&V([t,n],Le[0].contentEl,Ue.backgroundColor),i}else{var a=document.querySelector(".apt-hotspot-element");if(a&&(i=ke.positionElement(a,e,t,n,r,o,!0,Te),i.length>0))return i}return null},this.playGuide=function(e,t,n){e.sort(function(e,t){return e.sequenceNumber-t.sequenceNumber});var r=pe(e);e=S.default.populateNavigationFlags(e,r);for(var o=0;o<Le.length;o++)Le[o].close();document.querySelectorAll(".apt-hotspot-element").forEach(function(e){document.body.removeChild(e)}),Le=[],Pe=-1,Re=0,Be=void 0,je=void 0,Me=n,_e=e,Ne=t,De=0,He=!1,Z();var i=u.windowRef.sessionStorage.getItem("apt.stepId");if(i){var a=e.findIndex(function(e){return e.id===i});Re=a,Pe=a-1}u.windowRef.sessionStorage.removeItem("apt.stepId"),u.windowRef.sessionStorage.removeItem("apt.guideId"),!i&&sessionStorage.setItem(N,u.windowRef.location.href),B(i?1e3:0)},this.toggleSkip=function(e){if(Le.length>0){var t=Le[0].contentEl,n=t.querySelector(o(t,"apt-step-footer"));S.default.toggle(n,e)}},this.showAll=function(e,t){e.sort(function(e,t){return e.sequenceNumber-t.sequenceNumber});for(var n=0;n<e.length;n++)!function(n){b(e[n])&&(0,v.findInAll)(e[n].elementSelector,(0,h.getRegisteredIframes)(),function(r){if(r){var o={};r.element?(o.isDom=!0,o.element=r.element,Y(o,t.footer,e[n].content,t,e[n],!0,n,!0,!1)):r.iframeData&&(o.isDom=!1,y.default.getElementLocation(r.iframeData,e[n].elementSelector,function(r){r&&1===r.length&&(o.elementRect=r[0],Y(o,t.footer,e[n].content,t,e[n],!0,n,!0,!1))}))}})}(n)},this.hideAll=function(){Ie()},this.setDefaultPaddingTop=function(t){e.setDefaultTopOffset(t)},this.clearStepRedirectData=function(){z()},this.close=function(){ye()}},B=new function(){this.getElementBoundingRect=function(e){try{var t=(0,w.findElementInWindow)(e,document),n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}catch(e){return f.logger.logInternalError(e),null}}};t.default=M,t.GuideDrawerIframe=B,t.getSelectorByVersion=o},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=g[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));g[r.id]={id:r.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],l=o[3],c={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(e,t){var n=h(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),i(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),i(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,o;if(t.singleton){var i=y++;n=v||(v=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=p.bind(null,n,t),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function d(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=E(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var g={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,y=0,b=[],E=n(82);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=g[s.id];l.refs--,i.push(l)}if(e){r(o(e),t)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete g[l.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(){(0,a.getConfig)("enableTag")&&f.push(arguments)}function o(){f&&f.length>0&&c.default.call(f),s.windowRef[s.aptrinsicGlobalObjName]=p}function i(e,t,n){if(!(0,a.isIframe)()){var r=(0,a.getConfig)("fetchKcType"),o="automatic"===r,i=null;o||u.KcSessionStorage.getIsDefaultKc()||(i=u.KcSessionStorage.getKcId());(o||!o&&!!i)&&(0,d.initKnowledgeCenter)(e,t,i,!1,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.initKnowledgeCenterWrapper=t.aptReady=t.aptNotReady=t.aptExternal=void 0;var a=n(2),s=n(4),l=n(71),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(22),d=n(48),f=[],p=function(){c.default.call([arguments])};t.aptExternal=p,t.aptNotReady=r,t.aptReady=o,t.initKnowledgeCenterWrapper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(12),i=n(7),a=n(1),s=new function(){var e=window.top;if((0,r.isIframe)()){var t=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"register");(0,a.retryFunction)(3,3e3,function(){(0,o.postRequest)(t,e,!0)}),(0,a.retryFunction)(3,3e3,function(){(0,o.postRequest)(t,window.parent,!0)}),this.associateParent=function(e){var t=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"associateParent",null,e);(0,o.postRequest)(t,window.parent,!0)},this.guideElementSelected=function(t,n){var r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"elementSelected",cssSelector:t,elementText:n});(0,o.postRequest)(r,e,!0)},this.getGuide=function(){var t=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"get"});(0,o.postRequest)(t,e,!0)},this.guideElementNotVisible=function(){},this.guideChangePosition=function(t,n,r){var a=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"changePosition",verticalPosition:t,horizontalPosition:n,positionDialog:r});(0,o.postRequest)(a,e,!0)},this.selectElementInProductMapper=function(t){(0,o.postRequest)(i.IframeRequest.getIframeRequest({aptrinsicEventType:"element_selector_document_click",content:{selector:t},aptrinsicIframeId:(0,o.getIframeId)()}),e)},this.showNextStep=function(t,n){var r=i.IframeRequest.getIframeRequest({aptrinsicEventType:"apt_msg_show_next_step",content:{stepId:t,stepSelector:n},aptrinsicIframeId:(0,o.getIframeId)()});(0,o.postRequest)(r,e,!0)},this.updateContent=function(t){var n=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"updateLastContent",content:t});(0,o.postRequest)(n,e,!0)},this.setSelectorState=function(t){var n=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"updateSelectorState",state:t});(0,o.postRequest)(n,e,!0)},this.selectorIconClicked=function(t,n){var r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"iconClicked",state:t,extraData:n});(0,o.postRequest)(r,e,!0)},this.broadcastElementRect=function(e,t){var n=Object.assign({},e),r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),window.parent===window.top?"apt-msg-element-rect-parent":"apt-msg-element-rect",{elementRect:n},t);(0,o.postRequest)(r,window.parent,!0)},this.sendElementResponse=function(t,n,r){var a=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"elementExistResult",{exist:!!t,isVisible:n},r);(0,o.postRequest)(a,e,!0)},this.guideLinkedElementClicked=function(t){var n=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"apt-msg-element-clicked",{},t);(0,o.postRequest)(n,e,!0)},this.guideExternalElementClicked=function(t){var n=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"apt-msg-external-element-clicked",{},t);(0,o.postRequest)(n,e,!0)},this.isElementVisibleResponse=function(t,n){var r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"isElementVisibleResponse",isVisible:n},t);(0,o.postRequest)(r,e,!0)},this.getMapperState=function(e){(0,o.iframeSubscribeCallback)("guide",{type:"getState"},e)},this.getAlternateSelectorResponse=function(t,n){var r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"alternateSelectorResponse",alternateSelector:n},t);(0,o.postRequest)(r,e,!0)},this.postDifferentSelectorResponse=function(t,n){var r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"guide",{type:"differentSelectorResponse",selectors:n},t);(0,o.postRequest)(r,e,!0)}}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(12),i=n(7),a=n(10),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(1),c=new function(){var e=window.top;if((0,r.isIframe)()&&!s.default.isEditorMode()){var t=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"register",void 0);(0,l.retryFunction)(3,1e3,function(){(0,o.postRequest)(t,e,!0)}),this.track=function(t,n,r,a){var s=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"track",{aptrinsicEventType:t,properties:n,customEventName:r,passedGlobalContext:a});(0,o.postRequest)(s,e,!0)},this.lead=function(t,n,r,a){var s=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"lead",{source:t,email:n,userData:r,formFields:a});(0,o.postRequest)(s,e,!0)},this.textElementResponse=function(t,n){var r=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"fetchElementTextResponse",{text:t},n);(0,o.postRequest)(r,e,!0)}}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,T.getKcConfig)();if(t){var n=t.kcId;q=n,a(function(){W=!1,j.botEventEmmiter.dispatchEvent("WIDGET_LOADED",e,{kcId:n})},function(t){W=!1,j.botEventEmmiter.dispatchEvent("WIDGET_FAILED",e,{kcId:n,code:500,message:t})})}}function i(e,t,n,r,i){var s=!1,l=V!==t.kcId;if((r||V)&&l&&(A.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,T.setKcConfig)({})),V=t.kcId,(0,T.setKcConfig)(t),e||l){var c={apiKey:I.eventTrackData.data[I.productIdParameter],aptId:I.eventTrackData.data[I.aptrinsicIdParam],initialConfig:t};A.KnowledgeCenterManager.initWidget(c,!1,F,i),q?(s=!0,o(i)):q!==V?(s=!1,A.KnowledgeCenterManager.registerAfterWidgetLoad(function(){return o(i)})):W=!1}else l?(s=!0,W=!1):(s=!0,a(function(){W=!1,j.botEventEmmiter.dispatchEvent("WIDGET_LOADED",i,{kcId:V})},function(e){W=!1,j.botEventEmmiter.dispatchEvent("WIDGET_FAILED",i,{kcId:V,code:500,message:e})}));s&&A.KnowledgeCenterManager.updateWidgetConfig()}function a(e,t){var n=I.eventTrackData.data[I.productIdParameter],r=I.eventTrackData.data[I.aptrinsicIdParam];A.KnowledgeCenterManager.fetchEntriesAndSendToWidget(n,r,e,t)}function s(){q="",A.KnowledgeCenterManager.removeWidget(V),(0,B.removeEmbeddedListeners)(),V="",(0,T.setKcConfig)({}),W=!1}function l(e,t,n,r){var o=r.shouldRemoveWidget,i=r.shouldJustClean,a=r.shouldDispatchEvent;r.shouldRemoveHandlers&&X.removeAllHandler(),o?s():i&&(V="",(0,T.setKcConfig)({}),A.KnowledgeCenterManager.cleanWidget()),W=!1,a&&j.botEventEmmiter.dispatchEvent("WIDGET_FAILED",n,{kcId:e,code:t,message:"Could not fetch knowledge center with provided id"})}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments[4],i=k.UserData.isUser(),a=H.UUIDGenerator.generateV4Id();if(r&&Y&&J&&(j.botEventEmmiter.addListener("WIDGET_LOADED",Y,a),j.botEventEmmiter.addListener("WIDGET_FAILED",J,a)),W&&(P.logger.log(n+" is in progress"),l(V,500,a,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),(0,T.getConfig)("widgetEnabled")&&i&&!(O.default.isPreview()&&O.default.getAdditionalDetails().kcId)&&!W){var s=function(i){i?(G=i.kcId,x(i,e,r,a)):t?W=!1:l(n,500,a,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),o&&o(i)},c=function(e){l(n,404,a,{shouldRemoveWidget:shouldRemoveWidget,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})};W=!0;var u=I.eventTrackData.data[I.productIdParameter];(0,A.fetchKnowledgeCenterConfig)(u,n,s,c)}}function u(e,t,n){var r=n.onDone,o=n.onError,i="API"===(0,T.getConfig)("fetchKcType");W&&P.logger.log(e+" is in progress"),i&&(Y=function(e){var n=e.kcId;t&&A.KnowledgeCenterManager.open(),W=!1,r&&"function"==typeof r&&r({id:n})},J=function(e){var t=e.kcId,n=e.code,r=e.message;W=!1,o&&"function"==typeof o&&o({id:t,code:n,message:r}),X.removeAllHandler()},c(!0,!0,e,!0))}function d(e,t){if((0,R.isObject)(e)){var n=function(){F=!1,u(null,t,{onDone:i,onError:o})},r=e.id,o=e.onError,i=e.onDone,a=e.fetchDefault;if(r){var s=function(e){!0===a?n():"function"==typeof o&&o(e)};F=!0,u(r,t,{onDone:i,onError:s})}else!0===a&&n()}}function f(e,t,n,r){var o=(0,T.getKcConfig)()||{},i=o.kcId;Object.keys(o).length>0&&i?(e?A.KnowledgeCenterManager.open():A.KnowledgeCenterManager.close(r),"function"==typeof t&&t({kcId:i})):"function"==typeof n&&n({kcId:i,code:404,message:"Not bot was found with id provided"})}function p(){var e=document.querySelector("#apt-widget");return e?e&&!e.classList.contains("apt-hidden"):null}function g(e){try{var t=document.querySelector("#apt-widget"),n=p();t&&e!==n&&(e?t.classList.remove("apt-hidden"):t.classList.add("apt-hidden"))}catch(e){P.logger.log("error in togglerBotContainer "+e)}}function m(){var e=document.querySelector("#apt-widget");if(e){return!e.querySelector(".apt-widget.apt-widget-window")}return!1}function h(){clearInterval(K),K=null,clearTimeout(z),z=null}function v(e,t){try{h(),m()&&(t(),h()),K=setInterval(function(){m()&&(t(),h())},200),z=setTimeout(function(){h(),l(V,500,e,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),P.logger.logInternalError(new Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3e3)}catch(t){h(),l(V,500,e,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),P.logger.log("onWidgetClosed - error"+t)}}function y(e,t,n,r,o){try{var a=(0,T.getConfig)("kcPositionType");(0,B.findWidgetContainer)(n.cssSelector,o,{positionType:a,fetchKcType:(0,T.getConfig)("fetchKcType"),kcId:t.kcId},{onClick:A.KnowledgeCenterManager.toggleBot,onDone:function(n){G===t.kcId&&(A.KnowledgeCenterManager.updateEmbeddedMappedElement(n),A.KnowledgeCenterManager.checkIsInitialized()||A.KnowledgeCenterManager.checkIsInProgress()?A.KnowledgeCenterManager.checkIsInitialized()&&!1===p()&&(f(!1),v(o,function(){g(!0)})):i(e,t,n,r,o))},onFailed:function(){G===t.kcId&&b()}})}catch(e){clearInterval(K),K=null,P.logger.log("error in updateWidget "+e)}}function b(){f(!1),g(!1)}function E(){if("injection"===(0,T.getConfig)("kcPositionType")){var e=A.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null},t=e.element;try{!t||t&&!document.body.contains(t)?s():g(!1)}catch(e){s()}}else b()}function w(){var e=void 0,t=void 0;this.removeAllHandler=function(){t&&(_.default.removeObserver(t),t=null),e&&L.internalEventListener.removeListener("pageview",e)},this.addHandlers=function(n,r){e=function(){E(),n([],!0)},L.internalEventListener.addListener("pageview",e),t=_.default.addObserver(function(){return!0},n,function(e,t){return C(e)||t})}}function C(e){var t=!1,n=!1;return e.some(function(e){return e.addedNodes.forEach(function(e){var t=3===e.nodeType;n||t||(n="apt-widget"===e.id||e.querySelector("#apt-widget"))}),n||e.removedNodes.forEach(function(e){var n=3===e.nodeType;t||n||(t="apt-widget"===e.id||e.querySelector("#apt-widget"))}),!n&&t})}function x(e,t,n,r){function o(){i(t,e,null,n,r)}var a=e.windowSettings.embedKCSettings.elementSelector,l=function(o,i){var l=C(o);l&&s(),(l||i)&&$(t,e,a,n,r)};if("embedded"===(0,T.getConfig)("kcDisplayType")){var c=(0,T.getConfig)("kcPositionType"),u="injection"===c;V!==e.kcId&&(W=!1,A.KnowledgeCenterManager.cleanWidget(),u&&(q="",A.KnowledgeCenterManager.removeWidget())),A.KnowledgeCenterManager.checkIsInitialized()||A.KnowledgeCenterManager.checkIsInProgress()?A.KnowledgeCenterManager.checkIsInitialized()&&o():((0,B.removeEmbeddedListeners)(),X.removeAllHandler(),(0,U.addDOMReadyListener)(function(){(0,N.findInAll)(a,(0,M.getRegisteredIframes)(),function(e){e&&o(),X.addHandlers(l,r)})}))}else o()}Object.defineProperty(t,"__esModule",{value:!0}),t.initKnowledgeCenter=c,t.fetchKcByApi=d,t.toggleKcBot=f;var I=n(4),k=n(18),T=n(2),S=n(10),O=r(S),A=n(22),L=n(11),P=n(3),R=n(1),D=n(65),_=r(D),N=n(16),M=n(7),B=n(60),j=n(59),U=n(5),H=n(14),q=void 0,V=void 0,W=!1,F=!1,G="",K=void 0,z=void 0,Y=void 0,J=void 0,X=new w,$=(0,R.debounce)(y,500)},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.className,n=e.onChange,r=e.options,o=e.selected,i=e.disabled,a=new h.default({name:"apt-trigger-radio",className:t,selectCallback:n,disabled:i,radioOptions:r.map(function(e){return{text:e.label,value:e.key,selected:e.key===o}})});this.render=function(){return a.render()}}function i(e){function t(){var e=r,t=e.badgeIcon;return Object.keys(k.ICON_MAP).map(function(e){var n=(0,a.createElement)("img","icon"),r=k.ICON_MAP[e];return n.src=r,n.style.width="100%",n.style.height="100%",{value:e,children:n,selected:e===t}})}function n(){var n=r,i=n.badgeIconColor,h=n.backgroundColor,v=n.badgeHotspotSettings.spotSize,b=n.useImage,w=n.imageUrl,x=n.borderColor,I=n.borderWidth,k=n.engagementTrigger,S=n.qualificationScope.qualificationScopeType;c=new y.default({text:"Image url is invalid"}),w?d(w,b):c.hide();var O="ONCE"===S,A=new o({className:"apt-triggers",selected:k,disabled:O,onChange:function(e){return p({engagementTrigger:e})},options:[{key:"ON_CLICK",label:"Click"},{key:"ON_HOVER",label:"Hover"}]}),L=(0,a.createElement)("div","apt-badge-triggers",void 0,[T("Trigger Types"),A.render()]),P=t(),R=new C.default("Icon",P,{className:"apt-badge-icon-dropdown",width:"40px"},function(e){var t=e.value;p({badgeIcon:t})}),D=new g.default({labelText:"Background Color",initialValue:h,disabled:b,colorChangeCallback:function(e){return p({backgroundColor:e})}}),_=new g.default({labelText:"Icon Color",initialValue:i,disabled:b,colorChangeCallback:function(e){return p({badgeIconColor:e})}}),N=new u.default({text:"Size",unitsText:"px",labelInline:!1,initialValue:v,changeCallback:function(t){var n=Object.assign({},e.badge.badgeHotspotSettings,{spotSize:t});p({badgeHotspotSettings:n})}}),M=new l.default({hasLine:!0,labelText:"Use Image",checkCallback:function(e){e?(_.disable(),D.disable(),B.enable(),s?c.hide():c.show()):(_.enable(),D.enable(),B.disable()),p({useImage:e})},checked:b}),B=new f.default({text:"Image Url",labelInline:!0,initialValue:w,disabled:!b,changeCallback:m}),j=(0,a.createElement)("div","apt-inline apt-image-url-section",null,[B.render(),c.render()]),U=new g.default({labelText:"Border Color",initialValue:x,colorChangeCallback:function(e){return p({borderColor:e})}}),H=new u.default({text:"Border Width",unitsText:"px",labelInline:!1,initialValue:I,changeCallback:function(e){p({borderWidth:e})}});return(0,a.createElement)("div","apt-badge-settings",null,[new E.default({labelText:"Icon Settings"}).render(),(0,a.createElement)("div","apt-badge-settings-section",null,[R.render(),D.render(),_.render(),N.render(),U.render(),H.render(),M.render(),j,L])])}var r=e.badge,i=void 0,s=!0,c=void 0,d=function(e,t,n){t?(i||(i=new Image),i.src=e,i.onerror=function(){c&&c.show(),s=!1,n&&n(!1)},i.onload=function(){s=!0,c&&c.hide(),n&&n(!0)}):(s=!0,n&&n(!0),c&&c.hide())},p=function(t){var n=e.update;r=Object.assign({},r,t),n(r,Object.keys(t))},m=(0,a.debounce)(function(e){d(e,r.useImage,function(t){t&&p({imageUrl:e})})},300);this.getValues=function(){return r},this.render=function(){var t=e.badge.positionSettings,r=n(),o=new I.default({positionSettings:t,update:function(e){return p({positionSettings:e})}});return(0,a.createElement)("div","apt-alt-settings",null,[r,o.render()])},this.getData=function(){return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(1),s=n(29),l=r(s),c=n(32),u=r(c),d=n(91),f=r(d),p=n(36),g=r(p),m=n(51),h=r(m),v=n(90),y=r(v),b=n(26),E=r(b),w=n(33),C=r(w),x=n(67),I=r(x),k=n(42),T=function(e){return(0,a.createElement)("div",["apt-setting-label"],{text:e})}},function(e,t,n){"use strict";function r(e){var t=e.radioOptions,n=!!e.optionsInline,r=e.name,i=e.selectCallback,a=e&&!!e.stopPropagation,s=null,l=e.disabled;this.getSelectedValue=function(){return s},this.render=function(){var c=[];return t&&t.forEach(function(e){var t=(0,o.createInput)("radio","",e.value,"",l,e.selected,null,{name:r});if(e.selected&&(s=e.value),e&&e.value||0===e.value){var u=e.children,d=e.text,f={},p=[t,(0,o.createElement)("span","apt-radio-override")];d&&(f.text=d),u&&p.unshift(u);var g=["apt-radio",l?"apt-disabled":"",n?"apt-inline":""],m=(0,o.createElement)("label",g,f,p);(0,o.addEventListener)(m,"click",function(e){l||(s=t.value,i&&i(t.value))}),a&&(0,o.addStopClickListeners)([m]),c.push(m)}}),(0,o.createElement)("div",e.className,null,c)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},,function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){h&&g&&(h=!1,g.length?m=g.concat(m):v=-1,m.length&&l())}function l(){if(!h){var e=i(s);h=!0;for(var t=m.length;t;){for(g=m,m=[];++v<t;)g&&g[v].run();v=-1,t=m.length}g=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,f,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var g,m=[],h=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||h||i(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){function r(t,n,r){function o(e){if(e.target){var t=e.target.closest(p);if(t){var r=t.getAttribute("data-tippy-trigger")||n.trigger||l.d.trigger;if((0,l.i)(r,u[e.type])){var o=(0,l.t)(t,h);o&&(f=f.concat(o))}}}}function i(e,t,n,r){void 0===r&&(r=!1),e.addEventListener(t,n,r),d.push({node:e,eventType:t,handler:n,options:r})}function a(e){var t=e.reference;i(t,"mouseover",o),i(t,"focusin",o),i(t,"click",o)}function s(){d.forEach(function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)}),d=[]}function c(e){var t=e.destroy;e.destroy=function(e){void 0===e&&(e=!0),e&&f.forEach(function(e){e.destroy()}),f=[],s(),t()},a(e)}void 0===r&&(r=[]),"production"!==e.env.NODE_ENV&&(0,l.e)(!(n&&n.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" ")),r=n.plugins||r;var d=[],f=[],p=n.target,g=(0,l.r)(n,["target"]),m=(0,l._)({},g,{plugins:r,trigger:"manual"}),h=(0,l._)({},g,{plugins:r,showOnCreate:!0}),v=(0,l.t)(t,m);return(0,l.n)(v).forEach(c),v}function o(){var e=(0,l.a)();return e.className=l.B,(0,l.s)([e],"hidden"),e}function i(e,t){var n=t?e.offsetWidth:e.offsetHeight;return{size:n,x:t?n:0,y:t?0:n}}function a(e,t,n){if(n.length<2||null===e)return t;switch(e){case"top":case"bottom":var r=n[0],o=n[n.length-1],i="top"===e,a=r.top,s=o.bottom,l=i?r.left:o.left,c=i?r.right:o.right;return{top:a,bottom:s,left:l,right:c,width:c-l,height:s-a};case"left":case"right":var u=Math.min.apply(Math,n.map(function(e){return e.left})),d=Math.max.apply(Math,n.map(function(e){return e.right})),f=n.filter(function(t){return"left"===e?t.left===u:t.right===d}),p=f[0].top,g=f[f.length-1].bottom,m=u,h=d;return{top:p,bottom:g,left:m,right:h,width:h-m,height:g-p};default:return t}}function s(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}Object.defineProperty(t,"__esModule",{value:!0}),t.sticky=t.inlinePositioning=t.followCursor=t.delegate=t.createSingleton=t.animateFill=t.roundArrow=t.hideAll=t.default=t.createTippyWithPlugins=void 0;var l=n(83);Object.defineProperty(t,"createTippyWithPlugins",{enumerable:!0,get:function(){return l.m}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.t}}),Object.defineProperty(t,"hideAll",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(t,"roundArrow",{enumerable:!0,get:function(){return l.R}}),n(35);var c=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=[]),"production"!==e.env.NODE_ENV&&(0,l.e)(!Array.isArray(t),["The first argument passed to createSingleton() must be an array of tippy","instances. The passed value was",String(t)].join(" ")),r=n.plugins||r,t.forEach(function(e){e.disable()});var o,i,a=(0,l._)({},l.d,{},n).aria,s=!1,c=t.map(function(e){return e.reference}),u={fn:function(e){function n(t){if(o){var n="aria-"+o;t&&!e.props.interactive?i.setAttribute(n,e.popperChildren.tooltip.id):i.removeAttribute(n)}}return{onAfterUpdate:function(t,n){var r=n.aria;void 0!==r&&r!==a&&(s?(s=!0,e.setProps({aria:null}),s=!1):a=r)},onDestroy:function(){t.forEach(function(e){e.enable()})},onMount:function(){n(!0)},onUntrigger:function(){n(!1)},onTrigger:function(r,s){var l=s.currentTarget,u=c.indexOf(l);l!==i&&(i=l,o=a,e.state.isVisible&&n(!0),e.popperInstance.reference=l,e.setContent(t[u].props.content))}}}};return(0,l.t)((0,l.a)(),(0,l._)({},n,{plugins:[u].concat(r),aria:null,triggerTarget:c}))},u={mouseover:"mouseenter",focusin:"focus",click:"click"},d={name:"animateFill",defaultValue:!1,fn:function(t){function n(){t.popperChildren.backdrop=s}var r=t.popperChildren,i=r.tooltip,a=r.content,s=t.props.animateFill&&!l.b?o():null;return{onCreate:function(){s&&(n(),i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",t.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(s){var t=i.style.transitionDuration,n=Number(t.replace("ms",""));a.style.transitionDelay=Math.round(n/10)+"ms",s.style.transitionDuration=t,(0,l.s)([s],"visible"),"production"!==e.env.NODE_ENV&&((0,l.w)("absolute"!==getComputedStyle(s).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),(0,l.w)("none"===getComputedStyle(i).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&(0,l.s)([s],"hidden")},onAfterUpdate:function(){n()}}}},f={name:"followCursor",defaultValue:!1,fn:function(e){function t(e){Object.keys(e).forEach(function(t){C[t]=(0,l.u)(e[t],C[t])})}function n(){return"manual"===e.props.trigger.trim()}function r(){var t=!!n()||null!==E&&!(0===E.clientX&&0===E.clientY);return e.props.followCursor&&t}function o(){return l.f.isTouch||"initial"===e.props.followCursor&&e.state.isVisible}function a(){e.popperInstance&&y&&(e.popperInstance.reference=y)}function s(){if(r()||e.props.placement!==C.placement){var t=C.placement,n=t.split("-")[1];w=!0,e.setProps({placement:r()&&n?t.replace(n,"start"===n?"end":"start"):t}),w=!1}}function c(){e.popperInstance&&r()&&(o()||!0!==e.props.followCursor)&&e.popperInstance.disableEventListeners()}function u(){r()?f():a()}function d(){r()&&g(m)}function f(){b.addEventListener("mousemove",g)}function p(){b.removeEventListener("mousemove",g)}function g(t){var n=m=t,r=n.clientX,a=n.clientY;if(e.popperInstance&&e.state.currentPlacement){var s=(0,l.h)(t.target,function(e){return e===h}),c=h.getBoundingClientRect(),u=e.props.followCursor,d="horizontal"===u,f="vertical"===u,g=(0,l.i)(["top","bottom"],(0,l.j)(e.state.currentPlacement)),b=i(v,g),E=b.size,w=b.x,C=b.y;!s&&e.props.interactive||(null===y&&(y=e.popperInstance.reference),e.popperInstance.reference={referenceNode:h,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:g?E:0,height:g?0:E,top:(d?c.top:a)-C,bottom:(d?c.bottom:a)+C,left:(f?c.left:r)-w,right:(f?c.right:r)+w}}},e.popperInstance.update()),o()&&p()}}var m,h=e.reference,v=e.popper,y=null,b=(0,l.g)(e.props.triggerTarget||h),E=null,w=!1,C=e.props;return{onAfterUpdate:function(e,n){w||(t(n),n.placement&&s()),n.placement&&c(),requestAnimationFrame(d)},onMount:function(){d(),c()},onShow:function(){n()&&(E={clientX:0,clientY:0},m=E,s(),u())},onTrigger:function(e,t){E||((0,l.c)(t)&&(E={clientX:t.clientX,clientY:t.clientY},m=t),s(),u())},onUntrigger:function(){e.state.isVisible||(p(),E=null)},onHidden:function(){p(),a(),E=null}}}},p={name:"inlinePositioning",defaultValue:!1,fn:function(e){function t(){return!!e.props.inlinePositioning}var n=e.reference;return{onHidden:function(){t()&&(e.popperInstance.reference=n)},onShow:function(){t()&&(e.popperInstance.reference={referenceNode:n,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return a(e.state.currentPlacement&&(0,l.j)(e.state.currentPlacement),n.getBoundingClientRect(),(0,l.k)(n.getClientRects()))}})}}}},g={name:"sticky",defaultValue:!1,fn:function(e){function t(){return e.popperInstance?e.popperInstance.reference:o}function n(t){return!0===e.props.sticky||e.props.sticky===t}function r(){var o=n("reference")?t().getBoundingClientRect():null,c=n("popper")?i.getBoundingClientRect():null;(o&&s(a,o)||c&&s(l,c))&&e.popperInstance.update(),a=o,l=c,e.state.isMounted&&requestAnimationFrame(r)}var o=e.reference,i=e.popper,a=null,l=null;return{onMount:function(){e.props.sticky&&r()}}}};t.animateFill=d,t.createSingleton=c,t.delegate=r,t.followCursor=f,t.inlinePositioning=p,t.sticky=g}).call(t,n(53))},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){(0,C.findTarget)(e.elementSelector,t.target,function(n){t.target=n,n&&j(e,t)})}function a(){var e=Object.values(R);N.forEach(function(e){var t=e.sdkRules,n=e.badgeSettings.id,r={url:(0,O.getPageUrl)()};if((0,O.isBlank)(t)||(0,A.matchMultiTypeRules)(JSON.parse(t),r)){if(!R[n]){var o=j(e.badgeSettings);R[n]=o}}else R[n]&&(R[n].destroy(),delete R[n])});var t=Object.values(R);_&&W?e.length>0&&0===t.length?_.disconnect():0===e.length&&t.length>0?(H(t),_.observe(document.body,V)):e.length>0&&t.length>0&&H(t):s()}function s(){B&&clearInterval(B);var e=0;B=setInterval(function(){var t=Object.values(R);H(t),10===++e&&(e=0,clearInterval(B))},1e3)}function l(){try{_=new M(function(e){var t=Object.values(R);if(t.length>0){e.some(function(e){var t=e.attributeName,n=e.target,r=e.type,o="attributes"===r&&("style"===t||"class"===t),i=n.getAttribute("class")||"",a=-1===i.indexOf("apt");return a&&"attributes"!==r||a&&o})&&q(t)}else _.disconnect()}),_.observe(document.body,V)}catch(e){x.logger.logInternalError(new Error("Mutation Observer",e))}}function c(){0===N.length&&S.internalEventListener.removeListener("pageview",a),Object.values(R).length>0&&(W?l():s(),S.internalEventListener.addListener("pageview",a))}function u(e,t,n){var r=void 0;if(t){r={};for(var o=0;o<t.length;o++)r[t[o].badgeSettings.id]={index:o,badge:t[o]}}var i=!1;return e.forEach(function(o,a){try{var s=o.badgeSettings,l=o.engagementId,u=o.sdkRules,f=s.id,g=R[f];g&&g.destroy(),r&&t.splice(r[o.badgeSettings.id].index,1,o);var m={url:(0,O.getPageUrl)()};if(!(0,O.isBlank)(u)&&!(0,A.matchMultiTypeRules)(JSON.parse(u),m))return void x.logger.log("SDK rules did not match, rules: "+u+", current URL: "+m);s.engagementId=l,s.clickCallback=n?s.clickCallback:p,s.executionId=o.executionId;var h=j(s,null,n);R[f]=h,i||e.length-1!==a||(d(e),c(),i=!0)}catch(e){x.logger.logInternalError(e)}}),Object.values(R)}function d(e){e.forEach(function(e){var t=e.badgeSettings.id;N.filter(function(e){return e.badgeSettings.id===t}).length>0||N.push(e)})}function f(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=R[e],r=0;r<t.length;r++)t[r].badgeSettings.id==e&&t.splice(r,1);for(var o=0;o<N.length;o++)N[o].badgeSettings.id==e&&N.splice(o,1);n&&(n.destroy(),delete R[e])}function p(e){var t=E.eventTrackData[w.cacheGet](E.sessionIdParam),n=b.default.fetchBadges(t);f(e,n),b.default.storeBadges(t,n,!0)}function g(e){var t=e.removed,n=e.updated,r=E.eventTrackData[w.cacheGet](E.sessionIdParam),o=b.default.fetchBadges(r);(0,O.isNotEmptyArr)(t)&&t.forEach(function(e){return f(e,o)}),(0,O.isNotEmptyArr)(n)&&u(n,o),b.default.storeBadges(r,o,!0)}function m(){var e=E.eventTrackData[w.cacheGet](E.sessionIdParam),t=b.default.fetchBadges(e),n=Object.assign({},R);if(!(0,O.isEmptyArr)(t)||!(0,O.isEmptyArr)(Object.keys(n))){var r=t.map(function(e){var t=e.badgeSettings,r=t.id,o=t.version;return delete n[r],{id:r,version:o}});r.concat((0,L.arrayFrom)(Object.values(n),function(e){var t=e.badgeAttr;return{id:t.id,version:t.version}}));var o=E.eventTrackData[w.cacheGet](E.aptrinsicIdParam),i={};Object.assign(i,E.eventTrackData[w.cacheGetAll]()),(0,O.addCacheBuster)(i);var a=k.refreshBadgeEndpoint+"?"+(0,O.convert2Parameters)((0,O.addParameters)(i,[]));T.AjaxUtil.postData(a,{sdkBadges:r,aptrinsicId:o},void 0,g,null,!0)}}function h(e,t){var n=k.badgeTrackEndpoint,r=[];r=(0,O.addParameters)(E.eventTrackData[w.cacheGetAll](),r),(0,O.addParameters)({ei:e.engagementId,ecoi:e.badgeSettings.deviceContentId||null,evi:e.badgeSettings.matchEventId||null,acci:t,exi:e.executionId,ext:(new Date).getTime(),at:"b",bi:e.badgeSettings.id},r);var o=E.globalContextCache[w.cacheGet]("apt.gcx");o&&(0,O.addParameters)({gcx:JSON.stringify(o)},r),n+="?"+(0,O.convert2Parameters)(r),T.AjaxUtil.getData(n)}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.drawBadges=u,t.removeBadge=f;var y=n(92),b=r(y),E=n(4),w=n(6),C=n(42),x=n(3),I=n(5),k=n(2),T=n(8),S=n(11),O=n(1),A=n(61),L=n(13),P=n(50),R=(r(P),{}),D=void 0,_=void 0,N=[],M=window.MutationObserver||window.WebKitMutationObserver,B=void 0,j=function(e,t,n){var r=E.eventTrackData[w.cacheGet](E.sessionIdParam),o=t||new C.Badge(e),i=void 0;if(!n){var a=e.id;if(!a)return void x.logger.log("renderBadge got wrong badge id: "+a);if(!(i=b.default.fetchBadges(r).filter(function(e){return e.badgeSettings.id===a})[0]))return void x.logger.log(new Error("No badge found in store while expecting to get badge id "+a))}if(o.render(),!n&&o.isRendered&&!i.wasViewed){i.wasViewed=!0,b.default.storeBadge(r,i);try{h(i)}catch(e){x.logger.logInternalError(e,"Error during tracking badge view "+o)}}return o},U=function(e){e.isRendered?e.scheduleUpdatePopper():i(e.badgeAttr,e)},H=function(e){return e.forEach(U)},q=(0,O.debounce)(function(e){H(e)},500),V={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},W=(0,I.detectIE)()>=11||M,F=function(){function e(){o(this,e)}return v(e,null,[{key:"init",value:function(){if((0,k.getConfig)("enableBadge")&&!(0,k.isIframe)()){D=setInterval(m,1e3*(0,k.getConfig)("badgeRefreshInterval")*60);var e=E.eventTrackData[w.cacheGet](E.sessionIdParam),t=b.default.fetchBadges(e);t.length<1||(N=t,c(),(0,I.addDOMReadyListener)(u,t))}}},{key:"addBadges",value:function(e){try{if(!Array.isArray(e)||e.length<1)return;d(e),c();var t=E.eventTrackData[w.cacheGet](E.sessionIdParam);b.default.storeBadges(t,e),u(e)}catch(e){x.logger.logInternalError(e)}}},{key:"removeAllBadges",value:function(){var e=E.eventTrackData[w.cacheGet](E.sessionIdParam),t=b.default.fetchBadges(e);if((0,O.isNotEmptyArr)(t)){(0,L.arrayFrom)(t).forEach(function(e){f(e.badgeSettings.id,t)})}b.default.storeBadges(e,t,!0),b.default.clearAll()}}]),e}();t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){var o=k[e];o||(o={},k[e]=o),o[t]=new O(t,r,n)}function a(e,t){var n=k[e];return n?n[t]:null}function s(e,t){var n=a(e,t);return n?n.handlerFunc:null}function l(e){var t=k[e];t&&Object.values(t).forEach(function(e){switch(e.type){case"CLICK":(0,v.removeEventListener)(document,"click",e.handlerFunc);break;case"PAGE":b.internalEventListener.removeListener("pageview",e.handlerFunc)}}),delete k[e];try{I.default.removeObserver(T[e])}catch(e){}delete T[e]}function c(e,t,n,r){try{(0,E.findInAll)(t.elementSelector,(0,C.getRegisteredIframes)(),function(e){e&&(e.element||e.iframeData)&&!1!==e.isVisible||(I.default.removeObserver(T[t.id]),l(t.id),r(t,n))})}catch(e){y.logger.logInternalError(e,"failure in mutation observer handler for guide tooltip on redirect"),r(t),I.default.removeObserver(T[t.id]),l(t.id)}}function u(e,t){var n=e.overlay&&e.overlay.modal,r=t.modal&&t.overlayFill>0;return n?e.overlay.fill>0:r}function d(e,t,n,r,o,i,a){try{if(!u(i,a))if("STEP"!==n||(0,v.hasParentClass)(e.target,"px-engagement-wrapper-guide")||(0,v.hasParentClass)(e.target,"apt-guide-target-block"))"ELEMENT"!==n||(0,v.hasParentClass)(e.target,"px-engagement-wrapper-guide")||(r.isDom?r.element&&!(0,v.hasElement)(r.element,e.target)&&(o(i,a),(0,v.removeEventListener)(document,"click",s(i.id,t)),l(i.id)):(S[r.iframeSource.iframeId]={handlerId:t,stepSettings:i,guideSettings:a,errorHandler:o},w.default.addOutsideEventHandler(r.iframeSource,i.elementSelector)));else{if(r.isDom&&r.element&&(0,v.hasElement)(r.element,e.target))return void setTimeout(function(){(0,v.isElementVisible)(r.element,!1,null)||(o(i,a),(0,v.removeEventListener)(document,"click",s(i.id,t)),l(i.id))},1500);o(i,a)}}catch(e){y.logger.logInternalError(e,"failed to handle tooltip action for show hide"),(0,v.removeEventListener)(document,"click",s(i.id,t)),l(i.id)}}function f(e,t,n,r){try{(0,E.findInAll)(t.elementSelector,(0,C.getRegisteredIframes)(),function(e){e&&(e.element||e.iframeData)&&!1!==e.isVisible||r(t)}),b.internalEventListener.removeListener("pageview",s(t.id,e)),l(t.id)}catch(n){y.logger.logInternalError(n,"failure in page change handler for guide tooltip on redirect"),r(t),b.internalEventListener.removeListener("pageview",s(t.id,e)),l(t.id)}}function p(e,t,n){var r=(0,v.getHandler)(!1,f,e,t,n),o=h(r,2),a=o[0],s=o[1];i(e.id,a,s),b.internalEventListener.addListener("pageview",s,"PAGE")}function g(e,t,n,r,o){var a=(0,v.getHandler)(!0,d,e,t,o,n,r),s=h(a,2),l=s[0],c=s[1];(0,v.addEventListener)(document,"click",c),i(n.id,l,c,"CLICK")}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=n(1),y=n(3),b=n(11),E=n(16),w=r(E),C=n(7),x=n(65),I=r(x),k={},T={},S={},O=function e(t,n,r){o(this,e),this.handlerId=t,this.type=n,this.handlerFunc=r},A=function(){function e(){o(this,e)}return m(e,[{key:"addNavigationHandler",value:function(e,t,n,r){if("TOOLTIP"===t.type){var o=(0,v.getHandler)(!1,c,t,n,r),i=h(o,2),a=(i[0],i[1]),s=I.default.addObserver(function(){return!0},a);T[t.id]=s;var l=t.navigation,u=l.nextStepTrigger,d=l.nextButtonAction;switch(u){case"NAVIGATION_CLICK":"REDIRECT"===d?(p(t,n,r),g("STEP",e,t,n,r)):"SHOW_NEXT"===d&&g("STEP",e,t,n,r);break;case"ELEMENT_CLICK":"SHOW_NEXT"===d?g("ELEMENT",e,t,n,r):"REDIRECT"===d?(g("ELEMENT",e,t,n,r),p(t,n,r)):"SHOW_ON_NEXT_PAGE"===d&&(g("ELEMENT",e,t,n,r),p(t,n,r));break;case"ELEMENT_HOVER":case"INPUT_TEXT_COMPLETION":g("ELEMENT",e,t,n,r)}}}},{key:"handleIframeExternalClick",value:function(e){var t=S[e];t&&((0,v.removeEventListener)(document,"click",s(t.stepSettings.id,t.handlerId)),l(t.stepSettings.id))}},{key:"removeAllHandlers",value:function(){try{Object.keys(k).forEach(function(e){l(e)})}catch(e){y.logger.logInternalError(e,"failed to remove all handlers")}}}]),e}(),L=new A;t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(2),i=n(1),a=new function(){function e(e,t){e.push(t),r.logger.log(t)}function t(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}var n={A:!0,ABBR:!0,AUDIO:!0,B:!0,BIG:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CAPTION:!0,CENTER:!0,CODE:!0,COL:!0,COLGROUP:!0,DEL:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IFRAME:!0,IMG:!0,INS:!0,LABEL:!0,LI:!0,O:!0,OL:!0,P:!0,PRE:!0,S:!0,SCRIPT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,TT:!0,U:!0,UL:!0,VIDEO:!0,META:!0},a={FORM:!0},s={accept:!0,"accept-charset":!0,accesskey:!0,action:!0,align:!0,alt:!0,allowfullscreen:!0,async:!0,autocomplete:!0,autofocus:!0,autoplay:!0,bgcolor:!0,border:!0,charset:!0,checked:!0,cite:!0,class:!0,color:!0,cols:!0,colspan:!0,content:!0,contenteditable:!0,controls:!0,coords:!0,data:!0,"data-aptr":!0,"data-apt-element":!0,datetime:!0,default:!0,defer:!0,dir:!0,dirname:!0,disabled:!0,download:!0,draggable:!0,enctype:!0,form:!0,formaction:!0,frameborder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hreflang:!0,"http-equiv":!0,id:!0,ismap:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,max:!0,maxlength:!0,media:!0,method:!0,min:!0,multiple:!0,muted:!0,name:!0,novalidate:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,readonly:!0,rel:!0,required:!0,reversed:!0,rows:!0,rowspan:!0,sandbox:!0,scope:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellcheck:!0,src:!0,srcdoc:!0,srclang:!0,srcset:!0,start:!0,step:!0,style:!0,tabindex:!0,target:!0,title:!0,translate:!0,type:!0,usemap:!0,value:!0,width:!0,wrap:!0},l=["http:","https:","data:"],c={href:!0,action:!0,src:!0},u=["https://storage.googleapis.com/aptrinsic-cloud-public-assets/*","https://storage.googleapis.com/froala-upload-default/*","https://storage.googleapis.com/froala-upload-prod/*","https://storage.googleapis.com/froala-upload-dev/*","https://storage.googleapis.com/app-demo-public-bucket/*"];this.SanitizeHtml=function(d){function f(r){var d=void 0;if(r.nodeType===Node.TEXT_NODE)d=r.cloneNode(!0);else if(r.nodeType===Node.ELEMENT_NODE&&(n[r.tagName]||a[r.tagName])){d=g.createElement(r.tagName);for(var p=0;p<r.attributes.length;p++){var h=r.attributes[p];if(!s[h.name]||"META"===r.tagName&&"charset"!==h.name){var v="Not allowed attribute '"+h.name+"' in tag <"+r.tagName+">";e(m,v)}else if(c[h.name]){var y=(0,o.getConfig)("htmlSanitizationAllowedDomains")||[],b=y.concat(u);if(h.value.indexOf(":")>-1&&!t(h.value,l)){var E="Not allowed attribute '"+h.name+"' with value '"+h.value+"' in tag '"+r.tagName+"' - schema is not allowed";e(m,E)}else if(!(0,i.matchEither)(b,h.value)){var w="Not allowed attribute '"+h.name+"' with value '"+h.value+"' in tag '"+r.tagName+"' - domain is not allowed";e(m,w)}}}for(var C=0;C<r.childNodes.length;C++)f(r.childNodes[C])}else{var x="tag <"+r.tagName+"> is not allowed";e(m,x),d=document.createDocumentFragment()}return d}if(!(0,o.getConfig)("htmlSanitization"))return{isValid:!0};if(""===(d=d.trim()))return{isValid:!0};if("<br>"===d)return{isValid:!0};var p=document.createElement("iframe");if(void 0===p.sandbox)return r.logger.logInternalError(new Error("Browser not supporting iframe sandbox")),{isValid:!1,errors:["Browser not supporting iframe sandbox, cannot perform sanitization"]};p.sandbox="allow-same-origin",p.style.display="none",document.body.appendChild(p);var g=p.contentDocument||p.contentWindow.document;null==g.body&&g.write("<body></body>"),g.body.innerHTML=d;var m=[];return f(g.body),document.body.removeChild(p),{isValid:0===m.length,errors:m===[]?null:m}}};t.default=a},function(e,t,n){"use strict";function r(e,t,n){return function(r){r.listenerId===e&&(n(r),i.removeListener(t))}}Object.defineProperty(t,"__esModule",{value:!0}),t.botEventEmmiter=void 0;var o=n(11),i=t.botEventEmmiter=new function(){var e={},t={};this.dispatchEvent=function(t,n,r){n===e[t]&&o.internalEventListener.dispatchEvent(t,Object.assign({listenerId:n},r))},this.addListener=function(n,a,s){i.removeListener(n),e[n]=s;var l=r(s,n,a);t[s]=l,o.internalEventListener.addListener(n,l)},this.removeListener=function(n){var r=e[n];o.internalEventListener.removeListener(n,t[r]),e[n]=null,delete e[n]}}},function(e,t,n){"use strict";function r(e,t,n,r){try{var o=r.onDone,a=r.onFailed,s=r.onClick,c=n.positionType,u={matchCssSelector:!0,cssSelector:e,matchTextRule:!1,textRuleOperator:null,textRuleValues:null};(0,d.findInAll)(u,(0,f.getRegisteredIframes)(),function(e){if(e&&e.element){var r=!("fixed"===c||"absolute"===c),u=e.element;v=u;!r&&(0,p.isElementVisible)(u)||r?(l(n,t,s),o&&o(e)):(i(),a&&a())}else a&&a()})}catch(e){g.logger.logInternalError(new Error("findWidgetContainer - error "+e)),onFailed&&onFailed()}}function o(e){if(e.target===v)return e.preventDefault(),e.stopImmediatePropagation(),!1}function i(){(0,p.removeEventListener)(document,"click",y),E.forEach(function(e){(0,p.removeEventListener)(document,e,o)})}function a(){E.forEach(function(e){(0,p.removeEventListener)(document,e,o),(0,p.addEventListener)(document,e,o)})}function s(e,t,n){try{var r=n.onDone,o=n.onFound,i=(n.onClick,n.onFailed,t.positionType),a=!("fixed"===i||"absolute"===i),s=e.element;o&&o(e);var l=document.querySelector("#apt-widget");if(l&&r){if(l.classList.remove("apt-hidden"),l.style.position=a?"relative":"absolute",l.style.width="0px",l.style.height="0px",l.style.left="0px",l.style.top="0px",l.style.zIndex=h,a){if(a){var c=s.tagName.toLowerCase();if(/br|input|img|select|textarea/.test(c)){var u=l.parentNode===s.parentNode;u||s.parentNode.appendChild(l)}else s!==l.parentNode&&s.appendChild(l)}}else l.parentNode!==document.body&&document.body.appendChild(l);r&&r(e)}}catch(e){g.logger.logInternalError(new Error("injectWidget - "+e))}}function l(e,t,n){var r="API"===e.fetchKcType,o=!("fixed"===e.positionType||"absolute"===e.positionType);r?i():(w=function(t){var o=t.kcId;o===e.kcId&&(b=o,u(n,r),m.botEventEmmiter.removeListener("WIDGET_LOADED"))},m.botEventEmmiter.addListener("WIDGET_LOADED",w,t),b!==e.kcId||o?b===e.kcId&&o||i():u(n,r))}function c(e,t,n,o){var a=o.onDone,l=o.onFound,c=o.onClick,u=o.onFailed;try{"string"!=typeof e&&g.logger.logInternalError(new Error("injectWidgetToTargetElement - cssSelector should be a string "+e)),m.botEventEmmiter.removeListener("WIDGET_FAILED"),C=function(e){e.kcId===n.kcId&&(b="",i())},m.botEventEmmiter.addListener("WIDGET_FAILED",C,t),r(e,t,n,{onClick:c,onDone:function(e){l&&l(e),s(e,n,{onDone:a})},onFailed:u})}catch(e){g.logger.logInternalError(new Error("injectWidgetToTargetElement - error "+e))}}function u(e,t){try{(0,p.removeEventListener)(document,"click",y),y=function(t){if(t.target===v)return t.preventDefault(),t.stopImmediatePropagation(),e(),!1},t||(a(),(0,p.addEventListener)(document,"click",y))}catch(e){g.logger.logInternalError(new Error("addClickListenerToMappedElement - error "+e))}}Object.defineProperty(t,"__esModule",{value:!0}),t.findWidgetContainer=r,t.removeEmbeddedListeners=i,t.injectWidgetToTargetElement=c,t.addClickListenerToMappedElement=u;var d=n(16),f=n(7),p=n(1),g=n(3),m=n(59),h="99998",v=null,y=null,b="",E=["dblclick","mousedown","mouseover"],w=void 0,C=void 0},function(e,t,n){"use strict";function r(e,t){var n=e.rules;return!!(0,s.isEmptyArr)(n)||("all"===e.operator?n.every(function(e){return o(e,t)}):n.some(function(e){return o(e,t)}))}function o(e,t){var n=l[e.type];return n.matchRules(e.rules,e.operator,t[n.getAttribute()])}Object.defineProperty(t,"__esModule",{value:!0}),t.matchMultiTypeRules=void 0;var i=n(107),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(1),l={URL:a.default};t.matchMultiTypeRules=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={markStepTracked:function(e,t){var n=sessionStorage.getItem(e)||"{}",r=JSON.parse(n);r[t]||(r[t]=!0,sessionStorage.setItem(e,JSON.stringify(r)))},wasStepTracked:function(e,t){var n=sessionStorage.getItem(e)||"{}";return!!JSON.parse(n)[t]}};t.default=r},function(e,t,n){"use strict";function r(e,t,n){var r=void 0;switch(t){case"is":r=e===n;break;case"isNot":r=e!==n;break;case"isEmpty":r=(0,o.isBlank)(e);break;case"isNotEmpty":r=!(0,o.isBlank)(e);break;case"startsWith":r=0===e.indexOf(n);break;case"notStartsWith":var i=e.indexOf(n);r=(0,o.isBlank)(e)||i<0||i>0;break;case"endsWith":r=e.indexOf(n)===e.length-n.length;break;case"contains":r=e.indexOf(n)>-1;break;case"notEndsWith":var a=e.indexOf(n);r=(0,o.isBlank)(e)||a<0||a+n.length<e.length;break;case"notContains":r=(0,o.isBlank)(e)||e.indexOf(n)<0;break;default:throw new Error("unsupported operator type "+t)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.matchExpression=r;var o=n(1)},function(e,t,n){"use strict";function r(e){if((0,o.getConfig)("enableFullStory"))try{var t=window._fs_namespace;if(t&&window[t]){var n=window[t].getCurrentSessionURL(!0);n&&(e.fs=n)}}catch(e){i.logger.logInternalError(e,"Unable to FullStory session")}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.addFullStoryInfo=void 0;var o=n(2),i=n(3);t.addFullStoryInfo=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){h.forEach(function(n){try{(n.validateBeforeChange&&n.validateBeforeChange(e,t)||t)&&n.onChangeCallback(e,t)}catch(e){c.logger.logInternalError(e,"failed to run on change for observer")}}),v=[]}function i(){return function(e){try{return e.beforeValidator()}catch(e){return c.logger.logInternalError(e,"failed to validate if need to run observer"),!1}}}function a(){if(!m)return!1;try{y=new p(function(e){if(h.some(i())){var t=e.some(function(e){var t=e.attributeName,n=e.target,r=e.type,o="attributes"===r&&("style"===t||"class"===t),i=n.getAttribute("class")||"",a=n.getAttribute("id")||"",s=-1===i.indexOf("apt")&&-1===a.indexOf("apt");return s&&"attributes"!==r||s&&o});v=v.concat(e),b(t)}}),y.observe(document.body,g)}catch(e){c.logger.logInternalMessage(e,"failed to observed mutation")}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),c=n(3),u=n(1),d=n(14),f=n(108),p=window.MutationObserver||window.WebKitMutationObserver,g={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},m=(0,l.detectIE)()>=11||p,h=[],v=[],y=void 0,b=(0,u.debounce)(function(e){o(v,e)},300),E=function e(t,n,o,i){r(this,e),this.id=t,this.beforeValidator=n,this.onChangeCallback=o,this.validateBeforeChange=i},w=function(){function e(){r(this,e)}return s(e,[{key:"addObserver",value:function(e,t,n){h.length<1&&a();var r=d.UUIDGenerator.generateV4Id();return h.push(new E(r,e,t,n)),r}},{key:"removeObserver",value:function(e){var t=(0,f.findIndex)(h,function(t){return t.id===e});t>-1&&h.splice(t,1),h.length<1&&y.disconnect()}}]),e}(),C=new w;t.default=C},function(e,t,n){"use strict";function r(e){function t(e,t){return s[e].replace("center","middle")+" "+l[t]}function n(e,t){return p&&p.find(function(n){return n[0]===e&&n[1]===t})}function r(e){c.forEach(function(t){return t.forEach(function(t){t&&t.disable&&t.enable&&(e?t.disable():t.enable())})})}var i=[[1,1,1],[1,1,1],[1,1,1]],s=["top","center","bottom"],l=["left","center","right"],c=[],u=null,d=null,f=e&&e.checkCallback,p=e&&e.disabledIndex,g=e&&e.value,m=g,h=function(e,t){for(var r=0;r<i.length;r++)for(var o=0;o<i[r].length;o++)r===e&&o===t||n(r,o)||c[r][o].setChecked(!1)};this.getValue=function(){return m},this.disable=function(){return r(!0)},this.enable=function(){return r(!1)},this.render=function(){var e=(0,o.createElement)("div","apt-position-grid"),r=(0,o.createElement)("div");u=(0,o.createElement)("div","",{text:g.length>=2?g[0].toLowerCase().replace("center","middle")+" "+g[1].toLowerCase():"not selected..."}),d=(0,o.createElement)("div","apt-position-error");for(var p=void 0,v=0;v<i.length;v++){c[v]=[];for(var y=(0,o.createElement)("div"),b=0;b<i[v].length;b++)!function(e){var r=null;n(v,e)||(r=new a.default({checkCallback:function(e,n){return function(){if(!r.getChecked())return void r.setChecked(!0);p&&clearTimeout(p);var o=void 0;if(f&&(o=f(s[e],l[n])),!o)return r.setChecked(!1),d.innerText="There is not enough space for step in "+t(e,n),void(p=setTimeout(function(){d.innerText=""},4e3));d.innerText="",u.innerText=t(e,n),h(e,n),m=[s[e],l[n]]}}(v,e),stopPropagation:!0,checked:g&&g.length>=2&&g[0].toLowerCase()===s[v]&&g[1].toLowerCase()===l[e]})),(0,o.appendElements)(y,[(0,o.createElement)("div","apt-inline",null,[r?r.render():(0,o.createElement)("div","apt-inline apt-blank")])]),c[v].push(r)}(b);(0,o.appendElements)(r,[y])}return(0,o.appendElements)(e,[r,u,d]),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),i=n(29),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(e){[r,o,a].forEach(function(t){e?t.disable():t.enable()})}var n=e.positionSettings,r=void 0,o=void 0,a=void 0,l=function(t){var r=e.update;n=Object.assign({},n,t),r(n)};this.disable=function(){t(!0)},this.enable=function(){t(!1)},this.render=function(){var t=e.positionSettings,n=t.positionTopDelta,u=t.positionLeftDelta,f=t.positionVertical,p=t.positionHorizontal,g=function(e){return e=e.toLowerCase(),"middle"===e&&(e="center"),e},m=g(f),h=g(p);r=new c.default({text:"Top",unitsText:"px",labelInline:!0,initialValue:n,changeCallback:function(e){return l({positionTopDelta:e})}}),o=new c.default({text:"Left",unitsText:"px",labelInline:!0,initialValue:u,changeCallback:function(e){return l({positionLeftDelta:e})}}),a=new s.default({disabledIndex:[[1,1]],value:[m,h],checkCallback:function(e,t){return l({positionVertical:e,positionHorizontal:t}),!0}});var v=new d.default({labelText:"Position"}).render(),y=(0,i.createElement)("div","apt-position-cnt",null,[(0,i.createElement)("div","apt-top-left-cnt apt-inline",null,[(0,i.createElement)("div","",null,[r.render()]),(0,i.createElement)("div","",null,[o.render()])]),(0,i.createElement)("div","apt-inline apt-position-grid-cnt",null,[a.render()])]);return(0,i.createElement)("div","apt-position-cnt-wrapper",null,[v,y])},this.getValues=function(){return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(1),a=n(66),s=r(a),l=n(32),c=r(l),u=n(26),d=r(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(3),i=n(18),a=n(2),s=n(17),l=n(47),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=new function(){function e(e){return void 0!==e&&null!=e}function t(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.indexOf(r)>-1)return!0}return!1}function l(r){if((0,a.getConfig)("enableTag")){var i=r.querySelectorAll("input[type=password]");if(e(i)&&i.length>0)return void o.logger.log("lead tracker does not collect forms with password fields");try{if(n(r.querySelectorAll("[type=submit]").item(0).textContent.toLowerCase(),["password","unsubscribe"]))return void o.logger.log("lead tracker does not collect forms with reserved words")}catch(e){o.logger.logInternalError(e)}var s={},l={},c=void 0,u=void 0,d=void 0,f=r.querySelectorAll("input");if(e(f)){for(var p=0;p<f.length;p++)c=f[p],"password"!==(d=c.getAttribute("type"))&&"button"!==d&&"submit"!==d&&(u=c.getAttribute("id")||c.getAttribute("name"))&&(l[u]=c.value)&&t(l[u])&&(s.email=l[u]);s.formFields=l}return s}}function u(e,t){(0,a.getConfig)("enableTag")&&(i.UserData.changeUserType(i.UserData.getLeadType()),(0,s.internalApt)("lead",{fof:t,usf:{usem:e,ls:"FORM"}},function(e){i.UserData.setAptrinsicId(e.ai,!0)}))}var d=this;this.init=function(){(0,a.getConfig)("enableTag")&&(0,a.featureEnabled)("form")&&(0,r.addEventListener)(document,"submit",function(e){try{if(i.UserData.getUserType()!=i.UserData.visitorType())return;if(location.href.toLowerCase().indexOf("unsubscribe")>-1)return;var t=l(e.target);t&&t.email&&((0,a.isIframe)()?c.default.lead("FORM",t.email,void 0,t.formFields):u(t.email,t.formFields))}catch(e){o.logger.logInternalError(e)}})},this.trackLead=function(e,t){try{if(!(0,a.getConfig)("enableTag"))return;var n={};Object.assign(n,t),n.usem=e,n.ls="API",(0,a.isIframe)()?c.default.lead("API",e,t):(0,s.internalApt)("lead",{usf:n},function(e){i.UserData.setAptrinsicId(e.ai,!0)})}catch(e){o.logger.logInternalError(e)}},this.track=function(e,t,n,r){if((0,a.getConfig)("enableTag")&&!(0,a.isIframe)())switch(e){case"API":d.trackLead(t,n);break;case"FORM":u(t,r);break;default:o.logger.logInternalError(new Error("got unknown lead source: "+e))}}};t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollEventBinder=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=n(1),s=n(3);t.ScrollEventBinder=function(){function e(){r(this,e),this.bindedElementsMap={}}return o(e,[{key:"getFollowScrollHandler",value:function(e,t,n){var r=void 0,o=void 0,i=void 0;return r=e.scrollTop,o=e.scrollLeft,n||(i={}),function(e){if(!e.target||"hidden"!==e.target.style.visibility){if(i[e.target])for(var n=e.target.scrollTop-r,a=e.target.scrollLeft-o,l=Array.isArray(t)?t:[t],c=0;c<l.length;c++)l[c].style.top=parseInt(l[c].style.top)-n+"px",l[c].style.left=parseInt(l[c].style.left)-a+"px";else i[e.target]=!0;r=e.target.scrollTop,o=e.target.scrollLeft,(r>99999||o>99999)&&s.logger.logInternalError(new Error("Warning: large values seen for lastSroll in scroll event handler"+r+"/"+o))}}}},{key:"clearScrollEventListenerFromParents",value:function(e){var t=this;try{this.bindedElementsMap[e]&&this.bindedElementsMap[e].elements.forEach(function(n){(0,a.removeEventListener)(n,t.bindedElementsMap[e].scrollHandler)})}catch(t){s.logger.logInternalError(t,"Error happened during clearing scroll handler of element "+e)}}},{key:"handleScrollEvent",value:function(t,n){try{for(var r=t.parentNode;r.tagName&&"BODY"!==r.tagName;){if(e.hasScrollbars(r)){var o=r;this.bindedElementsMap[t]||(this.bindedElementsMap[t]={}),this.bindedElementsMap[t].elements&&Array.isArray(this.bindedElementsMap[t].elements)||(this.bindedElementsMap[t].elements=[]),this.bindedElementsMap[t].scrollHandler||(this.bindedElementsMap[t].scrollHandler=n),this.bindedElementsMap[t].elements.push(o),(0,a.addEventListener)(o,"scroll",function(e){n(e)})}r=r.parentNode}}catch(e){s.logger.logInternalError(e,"Error during setting scroll event for element "+t)}}}],[{key:"hasScrollbars",value:function(e){var t=i.windowRef.getComputedStyle(e);return"auto"===t["overflow-x"]||"scroll"===t["overflow-x"]||"auto"===t["overflow-y"]||"scroll"===t["overflow-y"]}}]),e}()},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=n(4),s=n(31),l=n(3),c=function(){function e(){r(this,e)}return o(e,null,[{key:"call",value:function(){for(var t=arguments[0],n=0;n<t.length;n++)e.callCommand(t[n])}},{key:"callCommand",value:function(e){try{if(!(0,i.getConfig)("enableTag"))return;if(e.length<1)throw new Error("Cannot have command with less than one arguments");var t=Array.prototype.slice.call(e),n=t[0];if("reset"!==n&&e.length<2)throw new Error("Cannot have command with less than two arguments");a.apiMethods.indexOf(n)>-1&&s.externalApi[n].apply(s.externalApi,t.slice(1))}catch(e){l.logger.logInternalError(e)}}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t,n,r,f,p){var g=o.getConfigEndpoint+"/"+t,m=i.UserData.getAptrinisId(!0);i.UserData.getUserType(!0)>0&&m&&(g+="?ai="+m),a.AjaxUtil.getData(g,function(i){var a=i.sdkConfiguration;s.logger.log("Received new configuration: \n"+JSON.stringify(a,null,2)),(0,o.overrideConfig)(a,!e),s.logger.log("Applied configuration: \n"+JSON.stringify((0,o.getConfigObj)(),null,2));var g=(0,l.detectIE)();g&&g<10&&(s.logger.logInternalError(new Error("disabling tag since this is unsupported IE version "+g)),(0,o.disableTag)()),(0,o.overrideConfig)(r,!1,!0),e&&(0,o.getConfig)("enableTag")?f(t,n,e):(0,o.getConfig)("enableTag")?p&&p():c.windowRef[c.aptrinsicGlobalObjName]=d,(0,u.initKnowledgeCenterWrapper)(e,!e)},null,function(){e?((0,o.overrideConfig)((0,o.getConfigObj)(),!1),(0,o.overrideConfig)(r,!1,!0),f(t,n,e)):p&&p(),s.logger.log("Applied configuration: \n"+JSON.stringify((0,o.getConfigObj)(),null,2))})}Object.defineProperty(t,"__esModule",{value:!0}),t.getServerConfiguration=t.tagConfigKeyName=void 0;var o=n(2),i=n(18),a=n(8),s=n(3),l=n(5),c=n(4),u=n(45),d=function(){};t.tagConfigKeyName="tagConfig",t.getServerConfiguration=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){S.splice.apply(S,[0,S.length].concat(o(e)))}function a(){var e=Object.assign({},m.eventTrackData[h.cacheGetAll]());(0,f.addCacheBuster)(e),g.AjaxUtil.getData(T+"?"+(0,f.convert2Parameters)((0,f.addParameters)(e,[])),i)}function s(){if(O)return JSON.parse(localStorage.getItem(P))}function l(e,t){if(O){var n=s();n&&n[e]&&n[e][t]&&(delete n[e][t],localStorage.setItem(P,JSON.stringify(n)))}}function c(e,t){if(!O)return!0;var n=s();if(!n||!n[e]||!n[e][t])return!0;var r=n[e][t].timestamp;return Date.now()-r>=A&&(l(e,t),!0)}function u(e,t){if(O){var n=s()||{};n[e]=n[e]||{},n[e][t]={timestamp:Date.now()},localStorage.setItem(P,JSON.stringify(n))}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=n(2),g=n(8),m=n(4),h=n(6),v=n(17),y=n(89),b=function(e){return e&&e.__esModule?e:{default:e}}(y),E=n(7),w=n(14),C=n(5),x=n(63),I=n(13),k=n(3),T=p.serverEndpointBase+"/api/v1/feature/client",S=[],O=(0,C.localStorageEnabled)(),A=18e5,L=[],P="apt.fm",R=function(){function e(){r(this,e)}return d(e,[{key:"init",value:function(){!(0,p.isIframe)()&&(0,p.getConfig)("textMatchEnabled")&&(setInterval(a,3e5),a())}},{key:"sendRuleMatchResults",value:function(e){var t={featureMatches:e};(0,v.internalApt)("feature",t)}},{key:"matchFeatureRule",value:function(e,t){var n=e.textElementRules,r=e.scopeRules,o=e.urlLogicalOperator,i=w.UUIDGenerator.generateV4Id();(0,E.subscribe)(i,function(e,t){var n=(0,f.getPageUrl)(),i="AND"===o?r.every(function(e){return(0,f.matchUrl)(e.urlScope,n,"NOT"===e.urlCondition)}):r.some(function(e){return(0,f.matchUrl)(e.urlScope,n,"NOT"===e.urlCondition)}),a=i&&e.reduce(function(e,t){return e&&t});(0,E.decrementState)(t.callingFutureId,{id:t.rule.id,matched:a})},{rule:e,callingFutureId:t}),!(0,p.isIframe)()&&b.default.getElementText&&n.forEach(function(e){try{b.default.getElementText(e.cssSelector,i,function(t,n){t&&(0,f.isNotEmptyArr)(t)||(0,E.decrementState)(n,!1);for(var r=void 0,o=0;o<t.length;o++)if((0,f.isDefinedStr)(t[o])){r=t[o];break}if((0,f.isUndefinedStr)(r))(0,E.decrementState)(n,!1);else{var i=(0,x.matchExpression)(r,e.textOperator,e.text[0]);(0,E.decrementState)(n,i)}})}catch(e){(0,E.decrementState)(i,!1),k.logger.logInternalError(e)}})}},{key:"handleAllFeatureMatchResult",value:function(e){var t=!1,n=(0,I.arrayFrom)(e,function(e){var n=e.featureId;return(0,I.arrayFrom)(e.rulesResult,function(e){var r=e.matched;return!r&&l(n,e.ruleId),c(n,e.ruleId)||(r=!1),r&&(u(n,e.ruleId),t=!0),{id:n,feme:e.ruleId,femr:r}})});t&&this.sendRuleMatchResults([].concat.apply([],n))}},{key:"matchRules",value:function(){var e=this,t=w.UUIDGenerator.generateV4Id();(0,E.subscribe)(t,this.handleAllFeatureMatchResult.bind(this)),S.forEach(function(e){return(0,E.incrementState)(t)}),S.forEach(function(n){var r=n.mappedElements;if((0,f.isNotEmptyArr)(r)){var o=w.UUIDGenerator.generateV4Id();(0,E.subscribe)(o,function(e,t){var n=(0,I.arrayFrom)(e,function(e){return{ruleId:e.id,matched:e.matched}});(0,E.decrementState)(t.matchId,{featureId:t.featureId,rulesResult:n})},{matchId:t,featureId:n.featureId}),r.forEach(function(e){return(0,E.incrementState)(o)}),r.forEach(function(t){e.matchFeatureRule(t,o)})}})}},{key:"try2Match",value:function(){var e=this;if((0,p.getConfig)("textMatchEnabled")){try{L.forEach(function(e){return clearTimeout(e)})}catch(e){}for(var t=0;t<3;t++){var n=setTimeout(function(t){return function(){var t=L.indexOf(void 0);t>-1&&L.splice(t,1),e.matchRules()}}(),(0,p.getConfig)("delayClickEventTime")*(t+1));L.push(n)}}}},{key:"clearAll",value:function(){localStorage.removeItem(P)}}]),e}(),D=new R;t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,a.findElementInWindow)(e.content.elementSelector,document),n=e.aptrinsicRequestId,r=!0,o=function e(o){r&&((0,s.hasElement)(t,o.target)||(f.default.guideExternalElementClicked(n),(0,s.removeEventListener)(document,"click",e,!1),r=!1))};(0,s.addEventListener)(document,"click",o)}function i(e){if((0,c.isValidCallingDomain)(e.origin))try{var t=(0,c.parseEvent)(e);if(!t)return;if(v.indexOf(t.aptrinsicEventType)>-1)switch(t.aptrinsicEventType){case"redirect":m.default.getToken()||(window.location.href=(0,s.addParametersToUrl)(window.location.href,JSON.parse(t.content.params)));break;case"register":(0,p.registerIframe)(e.source,e.origin,t.aptrinsicIframeId);var n=document.getElementsByTagName("iframe");(0,c.associateChildIframes)(n);break;case"elementExist":var r=t.content,i=(0,a.findElementInWindow)(r.elementSelector,document);f.default.sendElementResponse(i,(0,s.isElementVisible)(i),t.aptrinsicRequestId);break;case"getChildAssociation":f.default.associateParent(t.aptrinsicRequestId);break;case"associateParent":(0,p.decrementState)(t.aptrinsicRequestId,{iframeId:t.aptrinsicIframeId});break;case"apt-msg-get-element-location":var d=u.GuideDrawerIframe.getElementBoundingRect(t.content.elementSelector);f.default.broadcastElementRect(d,t.aptrinsicRequestId);break;case"apt-msg-element-rect":var g=t.content.elementRect,h=t.aptrinsicRequestId,y=(0,p.getIframeData)(t.aptrinsicIframeId),b=y.domElement.getBoundingClientRect();g.top+=b.top,g.left+=b.left,g.bottom+=b.bottom,g.right+=b.right,f.default.broadcastElementRect(g,h);break;case"apt-msg-add-handler-show-next-step":var E=(0,a.findElementInWindow)(t.content.elementSelector,document),w=t.aptrinsicRequestId,C=!0,x=function e(){C&&(f.default.guideLinkedElementClicked(w),"ELEMENT_CLICK"===t.content.nextStepTrigger&&(0,s.removeEventListener)("click",e,!1),"ELEMENT_HOVER"===t.content.nextStepTrigger&&(0,s.removeEventListener)("mouseover",e,!1),C=!1)};switch(t.content.nextStepTrigger){case"ELEMENT_CLICK":(0,s.addEventListener)(E,"click",x);break;case"ELEMENT_HOVER":(0,s.addEventListener)(E,"mouseover",x)}break;case"aptGuideExternalClick":o(t);break;default:l.logger.logInternalError(new Error("child iframe script got unsupported event from master, data: "+JSON.stringify(t)))}}catch(e){l.logger.logInternalError(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleIncomingRequest=void 0;var a=n(9),s=n(1),l=n(3),c=n(12),u=n(43),d=n(46),f=r(d),p=n(7),g=n(10),m=r(g),h=n(2),v=["apt-msg-get-element-location","apt-msg-add-handler-show-next-step","register","getChildAssociation","apt-msg-element-rect","associateParent","elementExist","aptGuideExternalClick","redirect"],y=new function(){(0,h.isIframe)()&&!m.default.isEditorMode()&&(0,s.addEventListener)(window,"message",i)};t.default=y,t.handleIncomingRequest=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(0,d.postRequestDown)({origin:window.location.href,aptrinsicEventType:"redirect",content:{params:t}},(0,u.getIframeData)(e))}function i(e){var t=(0,h.getDomain)();return e.indexOf(t)<0}function a(e){if((0,d.isValidCallingDomain)(e.origin)){var t=(0,d.parseEvent)(e);try{if(null===t)return;if(v.indexOf(t.aptrinsicEventType)>-1)switch(t.aptrinsicEventType){case"register":(0,u.registerIframe)(e.source,e.origin,t.aptrinsicIframeId);var n=document.getElementsByTagName("iframe");(0,d.associateChildIframes)(n);if(i(e.origin)&&p.default.isEditorMode()){var r=p.default.getQueryParams();o(t.aptrinsicIframeId,JSON.stringify(r))}break;case"associateParent":(0,u.decrementState)(t.aptrinsicRequestId,{iframeId:t.aptrinsicIframeId});break;case"apt-msg-element-rect-parent":var a=t.content.elementRect,s=(0,u.getIframeData)(t.aptrinsicIframeId),l=s.domElement.getBoundingClientRect();a.top+=l.top,a.left+=l.left,a.bottom+=l.bottom,a.right+=l.right,(0,u.decrementState)(t.aptrinsicRequestId,a);break;case"apt-msg-element-clicked":(0,u.decrementState)(t.aptrinsicRequestId,{});break;case"elementExistResult":var f=t.content.exist;(0,u.decrementState)(t.aptrinsicRequestId,{exist:f,iframeData:(0,u.getIframeData)(t.aptrinsicIframeId)});break;case"apt-msg-external-element-clicked":(0,u.decrementState)(t.aptrinsicRequestId,{}),m.default.handleIframeExternalClick(t.aptrinsicIframeId);break;default:c.logger.logInternalError(new Error("master script got unsupported event from iframe, data: "+JSON.stringify(t)))}}catch(e){c.logger.logInternalError(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleIncomingRequest=void 0;var s=n(1),l=n(2),c=n(3),u=n(7),d=n(12),f=n(10),p=r(f),g=n(57),m=r(g),h=n(5),v=["register","apt-msg-element-rect-parent","apt-msg-element-clicked","associateParent","elementExistResult","apt-msg-external-element-clicked"],y=new function(){!(0,l.isIframe)()&&!p.default.isEditorMode()&&(0,s.addEventListener)(window,"message",a,!1)};t.default=y,t.handleIncomingRequest=a},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-r(e)}function i(e){var t,n,o,i,a,s=e.length;i=r(e),a=new d(3*s/4-i),n=i>0?s-4:s;var l=0;for(t=0;t<n;t+=4)o=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],a[l++]=o>>16&255,a[l++]=o>>8&255,a[l++]=255&o;return 2===i?(o=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,a[l++]=255&o):1===i&&(o=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,a[l++]=o>>8&255,a[l++]=255&o),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(a(r));return o.join("")}function l(e){for(var t,n=e.length,r=n%3,o="",i=[],a=0,l=n-r;a<l;a+=16383)i.push(s(e,a,a+16383>l?l:a+16383));return 1===r?(t=e[n-1],o+=c[t>>2],o+=c[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=c[t>>10],o+=c[t>>4&63],o+=c[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=o,t.toByteArray=i,t.fromByteArray=l;for(var c=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,g=f.length;p<g;++p)c[p]=f[p],u[f.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){"use strict";(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,r):"string"==typeof t?u(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(e,t){if(s(t),e=o(e,t<0?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n);e=o(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|g(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=d(e,t),e}function p(e,t){if(i.isBuffer(t)){var n=0|g(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||J(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),i.alloc(+e)}function h(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var c;if(o){var u=-1;for(c=n;c<s;c++)if(i(e,c)===i(t,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===l)return u*a}else-1!==u&&(c-=c-u),u=-1}else for(n+l>s&&(n=s-l),c=n;c>=0;c--){for(var d=!0,f=0;f<l;f++)if(i(e,c+f)!==i(t,f)){d=!1;break}if(d)return c}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function C(e,t,n,r){return Y(F(t,e.length-n),e,n,r)}function x(e,t,n,r){return Y(G(t),e,n,r)}function I(e,t,n,r){return x(e,t,n,r)}function k(e,t,n,r){return Y(z(t),e,n,r)}function T(e,t,n,r){return Y(K(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var l,c,u,d;switch(s){case 1:i<128&&(a=i);break;case 2:l=e[o+1],128==(192&l)&&(d=(31&i)<<6|63&l)>127&&(a=d);break;case 3:l=e[o+1],c=e[o+2],128==(192&l)&&128==(192&c)&&(d=(15&i)<<12|(63&l)<<6|63&c)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[o+1],c=e[o+2],u=e[o+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(d=(15&i)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return A(r)}function A(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=W(e[i]);return o}function D(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function _(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return o||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,o){return o||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,n,r,52,8),n+8}function q(e){if(e=V(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function z(e){return X.toByteArray(q(e))}function Y(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=n(76),$=n(79),Q=n(80);t.Buffer=i,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return l(null,e,t,n)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var a=o-r,s=n-t,l=Math.min(a,s),c=this.slice(r,o),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var o=t-e;r=new i(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||_(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||_(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||_(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||_(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||_(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||_(e,4,this.length),$.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||_(e,4,this.length),$.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||_(e,8,this.length),$.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||_(e,8,this.length),$.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:F(new i(e,r).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(41))},function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}e.exports={assign:r,polyfill:o}},function(e,t,n){"use strict";t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,g=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=g,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=g,a/=256,c-=8);e[n+p-g]|=128*m}},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=e.split("."),r=t.split("."),o=0;o<3;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,t,n){"use strict";(function(e){function r(){return t._=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){e.offsetHeight}function i(e,t){e.innerHTML=t}function a(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function s(e,t){return{}.hasOwnProperty.call(e,t)}function l(e){return f(e)?[e]:p(e)?x(e):Array.isArray(e)?e:x(document.querySelectorAll(e))}function c(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function u(e,t){return e&&e.modifiers&&e.modifiers[t]}function d(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function f(e){return d(e,"Element")}function p(e){return d(e,"NodeList")}function g(e){return d(e,"MouseEvent")}function m(e,t){return"function"==typeof e?e.apply(void 0,t):e}function h(e,t,n,r){e.filter(function(e){return e.name===t})[0][n]=r}function v(){return document.createElement("div")}function y(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function b(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function E(e,t){if(0===t)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function w(e,t,n){e&&e!==t&&e.apply(void 0,n)}function C(e,t){var n=r({},e);return t.forEach(function(e){delete n[e]}),n}function x(e){return[].slice.call(e)}function I(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function k(e,t){return e.indexOf(t)>-1}function T(e){return e.split(/\s+/).filter(Boolean)}function S(e,t){return void 0!==e?e:t}function O(e){return[].concat(e)}function A(e){var t=O(e),n=t[0];return n?n.ownerDocument||document:document}function L(e,t){-1===e.indexOf(t)&&e.push(t)}function P(e){return"number"==typeof e?e+"px":e}function R(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function D(e){return"number"==typeof e?e:parseFloat(e)}function _(e,t){var n="string"==typeof t&&k(t,"rem"),r=e.documentElement;return r&&n?parseFloat(getComputedStyle(r).fontSize||String(16))*D(t):D(t)}function N(e,t,n){void 0===t&&(t=5);var r={top:0,right:0,bottom:0,left:0};return Object.keys(r).reduce(function(r,o){return r[o]="number"==typeof t?t:t[o],e===o&&(r[o]="number"==typeof t?t+n:t[e]+n),r},r)}function M(e){return"\n    "+e+"() was called on a"+("destroy"===e?"n already-":" ")+"destroyed instance. This is a no-op but\n    indicates a potential memory leak.\n  "}function B(e){var t=/[ \t]{2,}/g,n=/^[ \t]*/gm;return e.replace(t," ").replace(n,"").trim()}function j(e){return B("\n  %ctippy.js\n\n  %c"+B(e)+"\n\n  %c This is a development-only message. It will be removed in production.\n  ")}function U(e){return[j(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function H(e,t){if(e){var n;(n=console).warn.apply(n,U(t))}}function q(e,t){if(e){var n;(n=console).error.apply(n,U(t))}}function V(e){var t=!e,n="[object Object]"===Object.prototype.toString.call(e)&&!e.addEventListener;q(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element, Element[],","or NodeList."].join(" ")),q(n,["tippy() was passed a plain object which is no longer supported as an argument.","See: https://atomiks.github.io/tippyjs/misc/#custom-position"].join(" "))}function W(e){var t=e.plugins||[],n=t.reduce(function(t,n){var r=n.name,o=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:o),t},{});return r({},e,{},n)}function F(e,t){return(t?Object.keys(W(r({},be,{plugins:t}))):Ee).reduce(function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t},{})}function G(e,t){var n=r({},t,{content:m(t.content,[e])},t.ignoreAttributes?{}:F(e,t.plugins));return n.interactive&&(n.aria=null),n}function K(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),Object.keys(e).forEach(function(n){var r=e[n],o="popperOptions"===n&&null!==r&&"object"===(void 0===r?"undefined":ge(r))&&s(r,"placement"),i=C(be,["animateFill","followCursor","inlinePositioning","sticky"]),a=["a11y","arrowType","showOnInit","size","target","touchHold"],l=!s(i,n)&&!k(a,n);l&&(l=0===t.filter(function(e){return e.name===n}).length),H("target"===n,["The `target` prop was removed in v5 and replaced with the delegate() addon","in order to conserve bundle size.","See: https://atomiks.github.io/tippyjs/addons/#event-delegation"].join(" ")),H("a11y"===n,["The `a11y` prop was removed in v5. Make sure the element you are giving a","tippy to is natively focusable, such as <button> or <input>, not <div>","or <span>."].join(" ")),H("showOnInit"===n,"The `showOnInit` prop was renamed to `showOnCreate` in v5."),H("arrowType"===n,["The `arrowType` prop was removed in v5 in favor of overloading the `arrow`","prop.","\n\n",'"round" string was replaced with importing the string from the package.',"\n\n","* import {roundArrow} from 'tippy.js'; (ESM version)\n","* const {roundArrow} = tippy; (IIFE CDN version)","\n\n",'Before: {arrow: true, arrowType: "round"}\n',"After: {arrow: roundArrow}`"].join(" ")),H("touchHold"===n,["The `touchHold` prop was removed in v5 in favor of overloading the `touch`","prop.","\n\n","Before: {touchHold: true}\n",'After: {touch: "hold"}'].join(" ")),H("size"===n,["The `size` prop was removed in v5. Instead, use a theme that specifies","CSS padding and font-size properties."].join(" ")),H("theme"===n&&"google"===r,'The included theme "google" was renamed to "material" in v5.'),H(o,["Specifying placement in `popperOptions` is not supported. Use the base-level","`placement` prop instead.","\n\n",'Before: {popperOptions: {placement: "bottom"}}\n','After: {placement: "bottom"}'].join(" ")),H(l,["`"+n+"`","is not a valid prop. You may have spelled it incorrectly, or if it's a","plugin, forgot to pass it in an array as props.plugins.","\n\n","In v5, the following props were turned into plugins:","\n\n","* animateFill\n","* followCursor\n","* sticky","\n\n","All props: https://atomiks.github.io/tippyjs/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/plugins/"].join(" "))})}function z(){Ne.isTouch||(Ne.isTouch=!0,window.performance&&document.addEventListener("mousemove",Y))}function Y(){var e=performance.now();e-Me<20&&(Ne.isTouch=!1,document.removeEventListener("mousemove",Y)),Me=e}function J(){var e=document.activeElement;if(a(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function X(){document.addEventListener("touchstart",z,r({},xe,{capture:!0})),window.addEventListener("blur",J)}function $(e){var t=e&&qe&&Ne.isTouch;document.body.classList[t?"add":"remove"](Ie)}function Q(e){return e.split("-")[0]}function Z(e){e.setAttribute("data-inertia","")}function ee(e){e.removeAttribute("data-inertia")}function te(e){e.setAttribute("data-interactive","")}function ne(e){e.removeAttribute("data-interactive")}function re(e,t){if(f(t.content))i(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){var n=t.allowHTML?"innerHTML":"textContent";e[n]=t.content}}function oe(e){return{tooltip:e.querySelector(Pe),content:e.querySelector(Re),arrow:e.querySelector(De)||e.querySelector(_e)}}function ie(e){var t=v();return!0===e?t.className=Oe:(t.className=Ae,f(e)?t.appendChild(e):i(t,e)),t}function ae(e,t){var n=v();n.className=ke,n.style.position="absolute",n.style.top="0",n.style.left="0";var r=v();r.className=Te,r.id="tippy-"+e,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1"),ce(r,"add",t.theme);var o=v();return o.className=Se,o.setAttribute("data-state","hidden"),t.interactive&&te(r),t.arrow&&(r.setAttribute("data-arrow",""),r.appendChild(ie(t.arrow))),t.inertia&&Z(r),re(o,t),r.appendChild(o),n.appendChild(r),se(n,t,t),n}function se(e,t,n){var r=oe(e),o=r.tooltip,i=r.content,a=r.arrow;e.style.zIndex=""+n.zIndex,o.setAttribute("data-animation",n.animation),o.style.maxWidth=P(n.maxWidth),n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),t.content!==n.content&&re(i,n),!t.arrow&&n.arrow?(o.appendChild(ie(n.arrow)),o.setAttribute("data-arrow","")):t.arrow&&!n.arrow?(o.removeChild(a),o.removeAttribute("data-arrow")):t.arrow!==n.arrow&&(o.removeChild(a),o.appendChild(ie(n.arrow))),!t.interactive&&n.interactive?te(o):t.interactive&&!n.interactive&&ne(o),!t.inertia&&n.inertia?Z(o):t.inertia&&!n.inertia&&ee(o),t.theme!==n.theme&&(ce(o,"remove",t.theme),ce(o,"add",n.theme))}function le(e,t,n){var r=He&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](r,n)}function ce(e,t,n){T(n).forEach(function(n){e.classList[t](n+"-theme")})}function ue(e,t){var n=t.clientX,r=t.clientY;return e.every(function(e){var t=e.popperRect,o=e.tooltipRect,i=e.interactiveBorder,a={top:Math.min(t.top,o.top),right:Math.max(t.right,o.right),bottom:Math.max(t.bottom,o.bottom),left:Math.min(t.left,o.left)},s=a.top-r>i,l=r-a.bottom>i,c=a.left-n>i,u=n-a.right>i;return s||l||c||u})}function de(t,n){function i(){var e=Qe.props.touch;return Array.isArray(e)?e:[e,0]}function a(){return"hold"===i()[0]}function l(){return Pe||t}function d(e){return Qe.state.isMounted&&!Qe.state.isVisible||Ne.isTouch||Se&&"focus"===Se.type?0:c(Qe.props.delay,e?0:1,be.delay)}function f(e,t,n){if(void 0===n&&(n=!0),Ze.forEach(function(n){s(n,e)&&n[e].apply(n,t)}),n){var r;(r=Qe.props)[e].apply(r,t)}}function p(){var e=Qe.props.aria;if(e){var n="aria-"+e,r=Ye.id;O(Qe.props.triggerTarget||t).forEach(function(e){var t=e.getAttribute(n);if(Qe.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}})}}function v(){O(Qe.props.triggerTarget||t).forEach(function(e){Qe.props.interactive?e.setAttribute("aria-expanded",Qe.state.isVisible&&e===l()?"true":"false"):e.removeAttribute("aria-expanded")})}function C(){He.body.removeEventListener("mouseleave",ce),He.removeEventListener("mousemove",je),We=We.filter(function(e){return e!==je})}function P(e){if(!Qe.props.interactive||!Ge.contains(e.target)){if(l().contains(e.target)){if(Ne.isTouch)return;if(Qe.state.isVisible&&k(Qe.props.trigger,"click"))return}!0===Qe.props.hideOnClick&&(De=!1,Qe.clearDelayTimeouts(),Qe.hide(),_e=!0,setTimeout(function(){_e=!1}),Qe.state.isMounted||B())}}function D(){He.addEventListener("mousedown",P,!0)}function B(){He.removeEventListener("mousedown",P,!0)}function j(e,t){q(e,function(){!Qe.state.isVisible&&Ge.parentNode&&Ge.parentNode.contains(Ge)&&t()})}function U(e,t){q(e,t)}function q(e,t){function n(e){e.target===Ye&&"visibility"===e.propertyName&&(le(Ye,"remove",n),t())}if(0===e)return t();le(Ye,"remove",Ae),le(Ye,"add",n),Ae=n}function V(e,n,r){void 0===r&&(r=!1),O(Qe.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,n,r),Be.push({node:t,eventType:e,handler:n,options:r})})}function F(){a()&&(V("touchstart",Y,xe),V("touchend",X,xe)),T(Qe.props.trigger).forEach(function(e){if("manual"!==e)switch(V(e,Y),e){case"mouseenter":V("mouseleave",X);break;case"focus":V(Ue?"focusout":"blur",Z)}})}function z(){Be.forEach(function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)}),Be=[]}function Y(e){var t=!1;if(Qe.state.isEnabled&&!ee(e)&&!_e){if(Se=e,Pe=e.currentTarget,v(),!Qe.state.isVisible&&g(e)&&We.forEach(function(t){return t(e)}),"click"!==e.type||k(Qe.props.trigger,"mouseenter")&&!De||!1===Qe.props.hideOnClick||!Qe.state.isVisible){var n=i(),r=n[0],o=n[1];Ne.isTouch&&"hold"===r&&o?Ie=setTimeout(function(){ie(e)},o):ie(e)}else t=!0;"click"===e.type&&(De=!t),t&&ce(e)}}function J(e){I(e.target,function(e){return e===t||e===Ge})||ue(x(Ge.querySelectorAll(Le)).concat(Ge).map(function(e){var t=e._tippy,n=t.popperChildren.tooltip,r=t.props.interactiveBorder;return{popperRect:e.getBoundingClientRect(),tooltipRect:n.getBoundingClientRect(),interactiveBorder:r}}),e)&&(C(),ce(e))}function X(e){if(!ee(e))return Qe.props.interactive?(He.body.addEventListener("mouseleave",ce),He.addEventListener("mousemove",je),void L(We,je)):void(k(Qe.props.trigger,"click")&&De||ce(e))}function Z(e){e.target===l()&&(Qe.props.interactive&&e.relatedTarget&&Ge.contains(e.relatedTarget)||ce(e))}function ee(e){var t="ontouchstart"in window,n=k(e.type,"touch"),r=a();return t&&Ne.isTouch&&r&&!n||Ne.isTouch&&!r&&n}function te(){function e(e){var t=Qe.state.currentPlacement;Qe.state.currentPlacement=e.placement,Qe.props.flip&&!Qe.props.flipOnUpdate&&(e.flipped&&(Qe.popperInstance.options.placement=e.placement),h(Qe.popperInstance.modifiers,"flip","enabled",!1)),Ye.setAttribute("data-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?Ye.setAttribute("data-out-of-boundaries",""):Ye.removeAttribute("data-out-of-boundaries");var r=Q(e.placement),o=k(["top","bottom"],r),i=k(["bottom","right"],r);Ye.style.top="0",Ye.style.left="0",Ye.style[o?"top":"left"]=(i?1:-1)*n+"px",t&&t!==e.placement&&Qe.popperInstance.update()}var n,o=Qe.props.popperOptions,i=Qe.popperChildren.arrow,a=u(o,"flip"),s=u(o,"preventOverflow"),l=r({eventsEnabled:!1,placement:Qe.props.placement},o,{modifiers:r({},o&&o.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(e){n=_(He,Qe.props.distance);var t=Q(e.placement),r=N(t,s&&s.padding,n),o=N(t,a&&a.padding,n),i=Qe.popperInstance.modifiers;return h(i,"preventOverflow","padding",r),h(i,"flip","padding",o),e}},preventOverflow:r({boundariesElement:Qe.props.boundary},s),flip:r({enabled:Qe.props.flip,behavior:Qe.props.flipBehavior},a),arrow:r({element:i,enabled:!!i},u(o,"arrow")),offset:r({offset:Qe.props.offset},u(o,"offset"))}),onCreate:function(t){e(t),w(o&&o.onCreate,l.onCreate,[t]),ne()},onUpdate:function(t){e(t),w(o&&o.onUpdate,l.onUpdate,[t]),ne()}});Qe.popperInstance=new he.default(t,Ge,l)}function ne(){0===Me?(Me++,Qe.popperInstance.update()):Oe&&1===Me&&(Me++,o(Ge),Oe())}function re(){Me=0;var t,n=Qe.props.appendTo,r=l();t=Qe.props.interactive&&n===be.appendTo||"parent"===n?r.parentNode:m(n,[r]),t.contains(Ge)||t.appendChild(Ge),"production"!==e.env.NODE_ENV&&H(Qe.props.interactive&&n===be.appendTo&&r.nextElementSibling!==Ge,["Interactive tippy element may not be accessible via keyboard navigation","because it is not directly after the reference element in the DOM source","order.","\n\n","Using a wrapper <div> or <span> tag around the reference element solves","this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle keyboard","navigation.","\n\n","See: https://atomiks.github.io/tippyjs/accessibility/#interactivity"].join(" ")),h(Qe.popperInstance.modifiers,"flip","enabled",Qe.props.flip),Qe.popperInstance.enableEventListeners(),Qe.popperInstance.update()}function ie(e){Qe.clearDelayTimeouts(),Qe.popperInstance||te(),e&&f("onTrigger",[Qe,e]),D();var t=d(!0);t?Ie=setTimeout(function(){Qe.show()},t):Qe.show()}function ce(e){if(Qe.clearDelayTimeouts(),f("onUntrigger",[Qe,e]),!Qe.state.isVisible)return void B();var t=d(!1);t?ke=setTimeout(function(){Qe.state.isVisible&&Qe.hide()},t):Te=requestAnimationFrame(function(){Qe.hide()})}function de(){Qe.state.isEnabled=!0}function fe(){Qe.hide(),Qe.state.isEnabled=!1}function pe(){clearTimeout(Ie),clearTimeout(ke),cancelAnimationFrame(Te)}function ge(n){if("production"!==e.env.NODE_ENV&&H(Qe.state.isDestroyed,M("setProps")),!Qe.state.isDestroyed){"production"!==e.env.NODE_ENV&&(K(n,ze),H(!!n.plugins&&(n.plugins.length!==ze.length||ze.some(function(e,t){return!n.plugins||!n.plugins[t]||e!==n.plugins[t]})),"Cannot update plugins")),f("onBeforeUpdate",[Qe,n]),z();var o=Qe.props,i=G(t,r({},Qe.props,{},n,{ignoreAttributes:!0}));if(i.ignoreAttributes=S(n.ignoreAttributes,o.ignoreAttributes),Qe.props=i,F(),o.interactiveDebounce!==i.interactiveDebounce&&(C(),je=E(J,i.interactiveDebounce)),se(Ge,o,i),Qe.popperChildren=oe(Ge),o.triggerTarget&&!i.triggerTarget?O(o.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&t.removeAttribute("aria-expanded"),v(),Qe.popperInstance)if(we.some(function(e){return s(n,e)&&n[e]!==o[e]})){var a=Qe.popperInstance.reference;Qe.popperInstance.destroy(),te(),Qe.popperInstance.reference=a,Qe.state.isVisible&&Qe.popperInstance.enableEventListeners()}else Qe.popperInstance.update();f("onAfterUpdate",[Qe,n])}}function me(e){Qe.setProps({content:e})}function ve(t){void 0===t&&(t=c(Qe.props.duration,0,be.duration)),"production"!==e.env.NODE_ENV&&H(Qe.state.isDestroyed,M("show"));var n=Qe.state.isVisible,r=Qe.state.isDestroyed,o=!Qe.state.isEnabled,i=Ne.isTouch&&!Qe.props.touch;n||r||o||i||l().hasAttribute("disabled")||(Qe.popperInstance||te(),f("onShow",[Qe],!1),!1!==Qe.props.onShow(Qe)&&(D(),Ge.style.visibility="visible",Qe.state.isVisible=!0,Qe.state.isMounted||y(Xe.concat(Ge),0),Oe=function(){Qe.state.isVisible&&(y([Ge],Qe.props.updateDuration),y(Xe,t),b(Xe,"visible"),p(),v(),L(Fe,Qe),$(!0),Qe.state.isMounted=!0,f("onMount",[Qe]),U(t,function(){Qe.state.isShown=!0,f("onShown",[Qe])}))},re()))}function ye(t){void 0===t&&(t=c(Qe.props.duration,1,be.duration)),"production"!==e.env.NODE_ENV&&H(Qe.state.isDestroyed,M("hide"));var n=!Qe.state.isVisible&&!Re,r=Qe.state.isDestroyed,o=!Qe.state.isEnabled&&!Re;n||r||o||(f("onHide",[Qe],!1),(!1!==Qe.props.onHide(Qe)||Re)&&(B(),Ge.style.visibility="hidden",Qe.state.isVisible=!1,Qe.state.isShown=!1,y(Xe,t),b(Xe,"hidden"),p(),v(),j(t,function(){Qe.popperInstance.disableEventListeners(),Qe.popperInstance.options.placement=Qe.props.placement,Ge.parentNode.removeChild(Ge),Fe=Fe.filter(function(e){return e!==Qe}),0===Fe.length&&$(!1),Qe.state.isMounted=!1,f("onHidden",[Qe])})))}function Ee(){"production"!==e.env.NODE_ENV&&H(Qe.state.isDestroyed,M("destroy")),Qe.state.isDestroyed||(Re=!0,Qe.clearDelayTimeouts(),Qe.hide(0),z(),delete t._tippy,Qe.popperInstance&&Qe.popperInstance.destroy(),Re=!1,Qe.state.isDestroyed=!0,f("onDestroy",[Qe]))}var Ce=G(t,r({},be,{},W(n)));if(!Ce.multiple&&t._tippy)return null;var Ie,ke,Te,Se,Oe,Ae,Pe,Re=!1,De=!1,_e=!1,Me=0,Be=[],je=E(J,Ce.interactiveDebounce),He=A(Ce.triggerTarget||t),qe=Ve++,Ge=ae(qe,Ce),Ke=oe(Ge),ze=R(Ce.plugins),Ye=Ke.tooltip,Je=Ke.content,Xe=[Ye,Je],$e={currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},Qe={id:qe,reference:t,popper:Ge,popperChildren:Ke,popperInstance:null,props:Ce,state:$e,plugins:ze,clearDelayTimeouts:pe,setProps:ge,setContent:me,show:ve,hide:ye,enable:de,disable:fe,destroy:Ee};t._tippy=Qe,Ge._tippy=Qe;var Ze=ze.map(function(e){return e.fn(Qe)});return F(),v(),Ce.lazy||te(),f("onCreate",[Qe]),Ce.showOnCreate&&ie(),Ge.addEventListener("mouseenter",function(){Qe.props.interactive&&Qe.state.isVisible&&Qe.clearDelayTimeouts()}),Ge.addEventListener("mouseleave",function(){Qe.props.interactive&&k(Qe.props.trigger,"mouseenter")&&He.addEventListener("mousemove",je)}),Qe}function fe(t,n,o){void 0===n&&(n={}),void 0===o&&(o=[]),o=be.plugins.concat(n.plugins||o),"production"!==e.env.NODE_ENV&&(V(t),K(n,o)),X();var i=r({},n,{plugins:o}),a=l(t);if("production"!==e.env.NODE_ENV){var s=f(i.content),c=a.length>1;H(s&&c,["tippy() was passed an Element as the `content` prop, but more than one tippy","instance was created by this invocation. This means the content element will","only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that returns a","cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "))}var u=a.reduce(function(e,t){var n=t&&de(t,i);return n&&e.push(n),e},[]);return f(t)?u[0]:u}function pe(t){"production"!==e.env.NODE_ENV&&H(!0,["createTippyWithPlugins([...]) has been deprecated.","\n\n","Use tippy.setDefaultProps({plugins: [...]}) instead."].join(" "));var n=function(e,n,o){return void 0===n&&(n={}),void 0===o&&(o=[]),o=n.plugins||o,fe(e,r({},n,{plugins:[].concat(t,o)}))};return n.version=ve,n.defaultProps=be,n.setDefaultProps=Ce,n.currentInput=Ne,n}Object.defineProperty(t,"__esModule",{value:!0}),t.w=t.u=t.t=t.s=t.r=t.o=t.n=t.m=t.l=t.k=t.j=t.i=t.h=t.g=t.f=t.e=t.d=t.c=t.b=t.a=t._=t.R=t.B=void 0;var ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me=n(35),he=function(e){return e&&e.__esModule?e:{default:e}}(me),ve="5.1.3",ye={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},be=r({allowHTML:!0,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},ye),Ee=Object.keys(be),we=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Ce=function(t){"production"!==e.env.NODE_ENV&&K(t,[]),Object.keys(t).forEach(function(e){be[e]=t[e]})},xe={passive:!0},Ie="tippy-iOS",ke="tippy-popper",Te="tippy-tooltip",Se="tippy-content",Oe="tippy-arrow",Ae="tippy-svg-arrow",Le="."+ke,Pe="."+Te,Re="."+Se,De="."+Oe,_e="."+Ae,Ne={isTouch:!1},Me=0,Be="undefined"!=typeof window&&"undefined"!=typeof document,je=Be?navigator.userAgent:"",Ue=/MSIE |Trident\//.test(je),He=/UCBrowser\//.test(je),qe=Be&&/iPhone|iPad|iPod/.test(navigator.platform),Ve=1,We=[],Fe=[];fe.version=ve,fe.defaultProps=be,fe.setDefaultProps=Ce,fe.currentInput=Ne;var Ge=function(e){var t=void 0===e?{}:e,n=t.exclude,r=t.duration;Fe.forEach(function(e){var t=!1;n&&(t=a(n)?e.reference===n:e.popper===n.popper),t||e.hide(r)})};t.B="tippy-backdrop",t.R='<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>',t._=r,t.a=v,t.b=He,t.c=g,t.d=be,t.e=q,t.f=Ne,t.g=A,t.h=I,t.i=k,t.j=Q,t.k=x,t.l=Ge,t.m=pe,t.n=O,t.o=Be,t.r=C,t.s=b,t.t=fe,t.u=S,t.w=H}).call(t,n(53))},function(e,t,n){"use strict";function r(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}for(var o=[],i=0;i<256;++i)o[i]=(i+256).toString(16).substr(1);e.exports=r},function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);e.exports=function(){return r(o),o}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t,n){"use strict";function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||i(a)}var o=n(85),i=n(84);e.exports=r},function(e,t,n){"use strict";var r,o,i,a,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){if("object"===s(t)&&void 0!==e)e.exports=n();else{o=[],r=n,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}}(function(){return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof a&&a;if(!l&&c)return a(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){function r(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var i=a[r]||a._default,s=i[0],l=i[1],c=i[2],o=t.createElement("div");for(o.innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var u=t.createDocumentFragment();o.firstChild;)u.appendChild(o.removeChild(o.firstChild));return u}t.exports=r;var o,i=!1;"undefined"!=typeof document&&(o=document.createElement("div"),o.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!o.getElementsByTagName("link").length,o=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],2:[function(e,t,n){function r(e,t){"object"!=(void 0===t?"undefined":s(t))?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var n=t.hash?{}:"",r=t.serializer||(t.hash?a:l),o=e&&e.elements?e.elements:[],i=Object.create(null),d=0;d<o.length;++d){var f=o[d];if((t.disabled||!f.disabled)&&f.name&&(u.test(f.nodeName)&&!c.test(f.type))){var p=f.name,g=f.value;if("checkbox"!==f.type&&"radio"!==f.type||f.checked||(g=void 0),t.empty){if("checkbox"!==f.type||f.checked||(g=""),"radio"===f.type&&(i[f.name]||f.checked?f.checked&&(i[f.name]=!0):i[f.name]=!1),!g&&"radio"==f.type)continue}else if(!g)continue;if("select-multiple"!==f.type)n=r(n,p,g);else{g=[];for(var m=f.options,h=!1,v=0;v<m.length;++v){var y=m[v],b=t.empty&&!y.value,E=y.value||b;y.selected&&E&&(h=!0,n=t.hash&&"[]"!==p.slice(p.length-2)?r(n,p+"[]",y.value):r(n,p,y.value))}!h&&t.empty&&(n=r(n,p,""))}}}if(t.empty)for(var p in i)i[p]||(n=r(n,p,""));return n}function o(e){var t=[],n=/^([^\[\]]*)/,r=new RegExp(d),o=n.exec(e);for(o[1]&&t.push(o[1]);null!==(o=r.exec(e));)t.push(o[1]);return t}function i(e,t,n){if(0===t.length)return e=n;var r=t.shift(),o=r.match(/^\[(.+?)\]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(i(null,t,n)):(e._values=e._values||[],e._values.push(i(null,t,n))),e;if(o){var a=o[1],s=+a;isNaN(s)?(e=e||{},e[a]=i(e[a],t,n)):(e=e||[],e[s]=i(e[s],t,n))}else e[r]=i(e[r],t,n);return e}function a(e,t,n){if(t.match(d))i(e,o(t),n);else{var r=e[t];r?(Array.isArray(r)||(e[t]=[r]),e[t].push(n)):e[t]=n}return e}function l(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=encodeURIComponent(n),n=n.replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}var c=/^(?:submit|button|image|reset|file)$/i,u=/^(?:input|select|textarea|keygen)/i,d=/(\[[^\[\]]*\])/g;t.exports=r},{}],3:[function(e,t,n){var r=e("domify"),o=e("form-serialize"),i=function(e){var t=document.createElement("form");t.classList.add("vex-dialog-form");var n=document.createElement("div");n.classList.add("vex-dialog-message"),n.appendChild(e.message instanceof window.Node?e.message:r(e.message));var o=document.createElement("div");return o.classList.add("vex-dialog-input"),o.appendChild(e.input instanceof window.Node?e.input:r(e.input)),t.appendChild(n),t.appendChild(o),t},a=function(e){var t=document.createElement("div");t.classList.add("vex-dialog-buttons");for(var n=0;n<e.length;n++){var r=e[n],o=document.createElement("button");o.type=r.type,o.textContent=r.text,o.className=r.className,o.classList.add("vex-dialog-button"),0===n?o.classList.add("vex-first"):n===e.length-1&&o.classList.add("vex-last"),function(e){o.addEventListener("click",function(t){e.click&&e.click.call(this,t)}.bind(this))}.bind(this)(r),t.appendChild(o)}return t},l=function(e){var t={name:"dialog",open:function(t){var n=Object.assign({},this.defaultOptions,t);n.unsafeMessage&&!n.message?n.message=n.unsafeMessage:n.message&&(n.message=e._escapeHtml(n.message));var r=n.unsafeContent=i(n),o=e.open(n),s=n.beforeClose&&n.beforeClose.bind(o);if(o.options.beforeClose=function(){var e=!s||s();return e&&n.callback(this.value||!1),e}.bind(o),r.appendChild(a.call(o,n.buttons)),o.form=r,r.addEventListener("submit",n.onSubmit.bind(o)),n.focusFirstInput){var l=o.contentEl.querySelector("button, input, select, textarea");l&&l.focus()}return o},alert:function(e){return"string"==typeof e&&(e={message:e}),e=Object.assign({},this.defaultOptions,this.defaultAlertOptions,e),this.open(e)},confirm:function(e){if("object"!==(void 0===e?"undefined":s(e))||"function"!=typeof e.callback)throw new Error("dialog.confirm(options) requires options.callback.");return e=Object.assign({},this.defaultOptions,this.defaultConfirmOptions,e),this.open(e)},prompt:function(t){if("object"!==(void 0===t?"undefined":s(t))||"function"!=typeof t.callback)throw new Error("dialog.prompt(options) requires options.callback.");var n=Object.assign({},this.defaultOptions,this.defaultPromptOptions),r={unsafeMessage:'<label for="vex">'+e._escapeHtml(t.label||n.label)+"</label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+e._escapeHtml(t.placeholder||n.placeholder)+'" value="'+e._escapeHtml(t.value||n.value)+'" />'};t=Object.assign(n,r,t);var o=t.callback;return t.callback=function(e){if("object"===(void 0===e?"undefined":s(e))){var t=Object.keys(e);e=t.length?e[t[0]]:""}o(e)},this.open(t)}};return t.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1,this.close()}}},t.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",buttons:[t.buttons.YES,t.buttons.NO],showCloseButton:!1,onSubmit:function(e){return e.preventDefault(),this.options.input&&(this.value=o(this.form,{hash:!0})),this.close()},focusFirstInput:!0},t.defaultAlertOptions={buttons:[t.buttons.YES]},t.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},t.defaultConfirmOptions={},t};t.exports=l},{domify:1,"form-serialize":2}]},{},[3])(3)})},function(e,t,n){"use strict";function r(e,t){return(0,o.isObject)(e)&&(0,o.isObject)(t)&&t.hasOwnProperty("id")&&t.id}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldInjectAccountId=r;var o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(12),i=n(7),a=n(10),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(14),c=n(1),u=n(2),d=new function(){function e(e,t,n){var r=i.IframeRequest.getMasterRequst("getElementText",{cssSelector:t},n);(0,o.postRequestDown)(r,e)}var t=window.top;(0,u.isIframe)()||s.default.isEditorMode()||(this.getElementText=function(t,n,o){t||o(void 0,n);var a=(0,r.getElementText)(t),s=void 0;if((0,c.isDefinedStr)(a))return void o([a],n);var u=l.UUIDGenerator.generateV4Id();(0,i.subscribe)(u,function(e,t){o(e,t)},n);try{var d=(0,i.getRegisteredIframes)();if((0,c.isNotEmptyArr)(d))for(var f=0;f<d.length;f++)s=d[f],e(s,t,u),(0,i.incrementState)(u);else o(void 0,n)}catch(e){}},this.lead=function(e,n,r,a){var s=i.IframeRequest.getIframeRequest((0,o.getIframeId)(),"lead",{source:e,email:n,userData:r,formFields:a});(0,o.postRequest)(s,t,!0)})};t.default=d},function(e,t,n){"use strict";function r(e){var t=e.text,n=(0,o.createElement)("span","apt-error",{text:t});this.show=function(){n.classList.remove("hide")},this.hide=function(){n.classList.add("hide")},this.render=function(){return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},function(e,t,n){"use strict";function r(e){var t=e&&e.text,n=e&&e.additionalClassesArray||[],r=e&&e.initialValue,i=e&&e.placeholder,a=e&&!!e.disabled,s=e&&e.dataAtt,l=e&&e.changeCallback,c=e&&!!e.labelInline,u=null;this.disable=function(){a=!0,u.disabled=!0,u.classList.add("apt-disabled")},this.enable=function(){a=!1,u.disabled=!1,u.classList.remove("apt-disabled")},this.getValue=function(){return u.value},this.setValue=function(e){u.value=e},this.render=function(){return u=(0,o.createInput)("text",["apt-setting-input","apt-text-input"],r,i,a,null,s),(0,o.addEventListener)(u,"input",function(e){var t=e.target.value;u.value=t,l&&l(t)}),(0,o.createElement)("div",["apt-inline","apt-text"].concat(n),void 0,[t&&(0,o.createElement)("div",["apt-setting-label",c?"apt-inline":""],{text:t}),(0,o.createElement)("div",["apt-inline"],void 0,[u])])}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=window.localStorage,a=function(){function e(){r(this,e)}return o(e,null,[{key:"storeBadges",value:function(e,t,n){var r=JSON.parse(i.getItem("px.badge"))||{};r.sid!==e&&(r={bgl:[]}),r.sid=e,r.bgl=n?t:r.bgl.concat(t),i.setItem("px.badge",JSON.stringify(r))}},{key:"fetchBadges",value:function(e){var t=JSON.parse(i.getItem("px.badge"))||{};return t.sid===e?t.bgl:[]}},{key:"storeBadge",value:function(e,t){var n=this.fetchBadges(e),r=t.badgeSettings.id,o=n.filter(function(e){return e.badgeSettings.id!==r});o.push(t),this.storeBadges(e,o,!0)}},{key:"clearAll",value:function(){i.removeItem("px.badge")}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t,n){var r={};Object.assign(r,o.eventTrackData[u.cacheGetAll]()),(0,l.addCacheBuster)(r);var d=o.globalContextCache[u.cacheGet]("apt.gcx");d&&Object.assign(r,{gcx:JSON.stringify(d)}),r.at=t||"a";var f=i.ondemandEndpoint+"/"+o.eventTrackData.data[o.productIdParameter]+"/"+e+"?"+(0,l.convert2Parameters)((0,l.addParameters)(r,[]));try{s.AjaxUtil.getData(f,function(e){n(e),c.EngagementDrawer.draw([e])})}catch(e){a.logger.logInternalError("Error during getting on demand engagement id "+startOverGuideId)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(4),i=n(2),a=n(3),s=n(8),l=n(1),c=n(34),u=n(6)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),a=n(21),s=n(8),l=n(4),c=n(6),u=n(10),d=r(u),f=n(27),p=r(f),g=n(9),m=n(62),h=r(m),v=n(17),y=n(2),b=n(11),E=n(23),w=n(24);w.defaultOptions.className="vex-theme-os";var C=n(113),x=n(124),I=n(125),k=n(126),T=n(127),S=n(128),O=n(129),A=n(130),L=n(131),P=n(114),R=n(115),D=n(116),_=n(117),N=n(118),M=n(119),B=n(120),j=n(121),U=n(122),H=n(123),q=n(132),V=n(136),W=n(137),F=n(138),G=n(139),K=n(140),z=n(141),Y=n(142),J=n(143),X=n(133),$=n(134),Q=n(135),Z="div",ee=3,te=new p.default,ne=function(){function e(){ae=1,se=[],le=[],ce=[],ue=0,de=[],fe=null,pe=null,ge=null,me=null,he=!1,ve={}}function t(e,t){if(!d.default.isEditorMode()){var n=y.trackMultiStepEndpoint,r=[];if(!0!==he){2===t&&(he=!0),r=(0,o.addParameters)(l.eventTrackData[c.cacheGetAll](),r),(0,o.addParameters)({ei:e.engagementId||null,ecoi:e.content.id||null,evi:e.matchEventId||null,ent:ee,ems:t||null,acci:e.accountId,exi:e.executionId,ext:e.executionTimestamp,at:e.activationType||"a",cl:e.contentLocale},r);var i=l.globalContextCache[c.cacheGet]("apt.gcx");i&&(0,o.addParameters)({gcx:JSON.stringify(i)},r),n+="?"+(0,o.convert2Parameters)(r),s.AjaxUtil.getData(n),b.internalEventListener.dispatchEvent("engagementCompleted",(0,E.getExternalEvent)(e,"Completed"))}}}function n(e,t,n){if(!d.default.isEditorMode()&&!h.default.wasStepTracked(e.executionId,t)){h.default.markStepTracked(e.executionId,t);var r=y.trackStepEndpoint,i=[];i=(0,o.addParameters)(l.eventTrackData[c.cacheGetAll](),i),(0,o.addParameters)({ei:e.engagementId,ecoi:e.content.id,cosi:t,evi:e.matchEventId,cossn:n,ent:ee,acci:e.accountId,exi:e.executionId,ext:e.executionTimestamp,at:e.activationType||"a",cl:e.contentLocale},i);var a=l.globalContextCache[c.cacheGet]("apt.gcx");a&&(0,o.addParameters)({gcx:JSON.stringify(a)},i),r+="?"+(0,o.convert2Parameters)(i),s.AjaxUtil.getData(r);var u=(0,E.getExternalEvent)(e,"Viewed Step");u.stepNumber=n+1,b.internalEventListener.dispatchEvent("engagementViewedStep",u)}}function r(e,a,s){try{var l,c=a.content;if(e>se.length&&!c.cyclic)return void fe.close();if(c.cyclic&&e>se.length&&(ae=1),c.cyclic&&e<1&&(ae=se.length),!c.cyclic&&e==se.length&&c.carouselNavigation&&c.carouselNavigation.lastSlideSettings&&u(s,c.carouselNavigation.lastSlideSettings),!c.cyclic){s.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=1==e?"none":""}if(le)for(l=0;l<le.length;l++)le[l].classList.remove("aptr-slideshow-active"),le[l].style.backgroundColor=c.carouselNavigation.backgroundColor?c.carouselNavigation.backgroundColor:"#ffffff";var d=s.querySelector(".aptr-slides-container"),f=c.carouselSlideList[ae-1],p=le[0].parentNode,g=parseInt(window.getComputedStyle(p).height);if(s.style.backgroundColor="transparent",(0,o.setCrossBrowserTransform)(d,"translateX("+-1*de[ae-1]+"px)"),f.width>0&&(s.style.width=f.width+"px"),f.width>0&&(s.style.width=f.width+"px"),f.autoHeight){var m=window.getComputedStyle(d.children[ae-1]),h=m.height;ve[ae-1]||(h=parseInt(h)+g+"px",d.children[ae-1].style.height=h,ve[ae-1]=!0),d.parentNode.style.height=h,s.style.height=h}else f.height>0&&(s.style.height=f.height+"px",d.parentNode.style.height=f.height+"px");le.length>0&&(le[ae-1].style.backgroundColor="transparent",le[ae-1].classList.add("aptr-slideshow-active"),le[ae-1].style.borderColor=c.carouselNavigation.backgroundColor?c.carouselNavigation.backgroundColor:"#ffffff"),n(a,f.id,f.sequence),ae==se.length&&t(a,2),c.interval&&(c.cyclic||e<se.length)&&(pe=setTimeout(function(){r(++ae,a,s)},c.interval*o.MILLISEC))}catch(e){i.logger.logInternalError(e)}}function u(e,t){var n=e.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");n.style.backgroundColor=t.backgroundColor,n.removeChild(n.querySelector(".aptr-arrow-icon"));var r=(0,o.createElement)(Z,[]);r.innerHTML=ie[t.checkmarkType];var i=r.firstChild;i.classList.add("aptr-arrow-icon"),i.style.stroke=t.color,i.style.fill=t.color,(0,o.appendElements)(n,[i])}function f(e,t){var n=e.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");n.style.backgroundColor=t.backgroundColor,n.removeChild(n.querySelector(".aptr-arrow-icon"));var r=(0,o.createElement)(Z,[]);r.innerHTML=oe[t.arrowType];var i=r.firstChild;i.classList.add("aptr-arrow-icon"),i.style.stroke=t.color,i.style.fill=t.color,(0,o.appendElements)(n,[i])}function p(e){if(e){var t=(0,o.createElement)(Z,["aptr-slides-container"]),n=re(e.carouselSlideList);(0,o.appendElements)(t,n),t.style.width=ue+"px";var r=(0,o.createElement)(Z,["aptr-arrows-container"]),i=ne(e.carouselNavigation);(0,o.appendElements)(r,i);var a=(0,o.createElement)(Z,["aptr-slideshow-dots-container"]);le=m(e.carouselNavigation,e.carouselSlideList.length),(0,o.appendElements)(a,le);var s=(0,o.createElement)(Z,["aptr-carousel-engagement"]);return(0,o.appendElements)(s,[t,r,a]),e.borderRadius&&(s.style.borderRadius=e.borderRadius+"px"),s}}function m(e,t){for(var n=[],r=0;r<t;r++){var i=(0,o.createElement)(Z,["aptr-slideshow-dot"]);i.style.borderColor=e.backgroundColor,n.push(i)}return n}function ne(e){if(!e)throw new Error("No navigation settings provided for carousel");var t=[],n=(0,o.createElement)("span",["aptr-nav-button","aptr-arrow-left"]);n.style.float="left",n.style.left="-20px",n.style.backgroundColor=e.backgroundColor,n.style.borderRadius=e.backgroundRadius?e.backgroundRadius+"%":"0px";var r=(0,o.createElement)(Z,[]);r.innerHTML=oe[e.arrowType];var i=r.firstChild;i.classList.add("aptr-arrow-icon"),i.style.stroke=e.color,i.style.fill=e.color,(0,o.appendElements)(n,[i]);var a=(0,o.createElement)("span",["aptr-nav-button"]);a.style.float="right",a.style.right="-20px",a.style.backgroundColor=e.backgroundColor,a.style.borderRadius=e.backgroundRadius?e.backgroundRadius+"%":"0px",r=(0,o.createElement)(Z,[]),r.innerHTML=oe[e.arrowType];var s=r.firstChild;return s.classList.add("aptr-arrow-icon"),s.style.stroke=e.color,s.style.fill=e.color,(0,o.appendElements)(a,[s]),t.push(n),t.push(a),t}function re(e){var t=[];if(!e.forEach)throw new Error("Cannot create slides for carousel because slides array was not sent correctly");return e.sort(function(e,t){return e.sequence-t.sequence}),e.forEach(function(e,n){de[n]=ue,ue+=e.width;var r=(0,o.createElement)(Z,["aptr-slide"]);e.backgroundType&&"IMAGE"===e.backgroundType?e.backgroundImage?r.style.background=e.backgroundImage:r.style.backgroundColor=(0,o.hexToRgba)("#ffffff",e.backgroundFill||0===e.backgroundFill?e.backgroundFill/100:1):r.style.backgroundColor=e.backgroundColor?(0,o.hexToRgba)(e.backgroundColor,e.backgroundFill||0===e.backgroundFill?e.backgroundFill/100:1):(0,o.hexToRgba)("#ffffff",e.backgroundFill||0===e.backgroundFill?e.backgroundFill/100:1),e.html&&(r.innerHTML=e.html),r.style.height=e.autoHeight?"auto":e.height+"px",r.style.width=e.width+"px",t.push(r)}),t}var oe={ARROW_1:C,ARROW_2:x,ARROW_3:I,ARROW_4:k,ARROW_5:T,ARROW_6:S,ARROW_7:O,ARROW_8:A,ARROW_9:L,ARROW_10:P,ARROW_11:R,ARROW_12:D,ARROW_13:_,ARROW_14:N,ARROW_15:M,ARROW_16:B,ARROW_17:j,ARROW_18:U,ARROW_19:H,EMPTY_ARROW_TYPE:C},ie={V_1:q,V_2:V,V_3:W,V_4:F,V_5:G,V_6:K,V_7:z,V_8:Y,V_9:J,V_10:X,V_11:$,V_12:Q,EMPTY_LAST_SLIDE_ICON_TYPE:q},ae=1,se=[],le=[],ce=[],ue=0,de=[],fe=null,pe=null,ge=null,me=null,he=!1,ve={};this.drawCarousel=function(t){e(),this.carousel=t;var n=p(t.content);me=me||0===me?me:(0,o.findHighestZIndex)("*"),fe=w.open({closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:n.outerHTML,showCloseButton:!0,overlayClosesOnClick:!1,afterOpen:function(){var e=this;document.body.classList.add("apt-vex"),this.rootEl.classList.add("apt-vex"),this.contentEl.classList.add("apt-carousel-popup"),this.contentEl.setAttribute("data-apt-disable-selector",!0),this.contentEl.classList.add("px-engagement-wrapper-slider"),this.contentEl.classList.add("px-engagement-wrapper"),this.contentEl.style.zIndex=me+5,(0,g.addStyleTag)(this.contentEl,t.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,g.addStyleTag)(this.contentEl,t.content.engagementCoreStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os"),(0,g.addStyleTag)(this.contentEl,t.content.overrideStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os"),this.rootEl.querySelector(".vex-overlay").style.zIndex=me+1,t.content.overlayColor&&(this.rootEl.querySelector(".vex-overlay").style.background=(0,o.hexToRgba)(t.content.overlayColor,t.content.overlayFill?t.content.overlayFill/100:0)),(!t.content.overlayFill||t.content.overlayFill<1)&&this.rootEl.classList.add("apt-popup-disable-overlay"),t.borderRadius&&(this.contentEl.style.borderRadius=t.borderRadius+"px");var n=this.contentEl.getElementsByClassName("aptr-nav-button");se=document.getElementsByClassName("aptr-slide"),le=document.getElementsByClassName("aptr-slideshow-dot"),(0,o.addEventListener)(n[0],"click",function(){r(--ae,t,e.contentEl),t.content.cyclic||ae!=se.length-1||f(e.contentEl,t.content.carouselNavigation)}),(0,o.addEventListener)(n[1],"click",function(){r(++ae,t,e.contentEl)}),r(ae,t,this.contentEl),te.positionElement(this.contentEl,null,"center","center")},afterClose:function(){document.body.classList.add("apt-vex"),clearTimeout(pe),he?(0,v.internalApt)("engagementCompletedClosed"):(0,v.internalApt)("engagementDroppedClosed")},beforeClose:function(){try{(0,a.handleEngagementFinish)("IN_APP_CAROUSEL")}catch(e){i.logger.logInternalError(e,"Error in before closing slider")}}})},this.close=function(){fe&&fe.close()},p=p.bind(this),r=r.bind(this)};t.default=ne},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(27),a=r(i),s=n(5),l=n(21),c=n(8),u=n(4),d=n(23),f=n(9),p=n(13),g=n(19),m=n(3),h=n(17),v=n(6),y=n(10),b=r(y),E=n(2),w=n(11),C=n(24);C.defaultOptions.className="vex-theme-os";var x=new a.default,I=null,k=function(){function e(e,n){if(!b.default.isEditorMode()){var r=E.trackMultiStepEndpoint,i=[];if(!0!==t){2===n&&(t=!0),i=(0,o.addParameters)(u.eventTrackData[v.cacheGetAll](),i),(0,o.addParameters)({ei:e.engagementId||null,ecoi:e.content.id||null,evi:e.matchEventId||null,ent:1,ems:n||null,acci:e.accountId,exi:e.executionId,ext:e.executionTimestamp,at:e.activationType||"a",cl:e.contentLocale},i);var a=u.globalContextCache[v.cacheGet]("apt.gcx");a&&(0,o.addParameters)({gcx:JSON.stringify(a)},i),r+="?"+(0,o.convert2Parameters)(i),c.AjaxUtil.getData(r),w.internalEventListener.dispatchEvent("engagementCompleted",(0,d.getExternalEvent)(e,"Completed"))}}}var t=!1;this.drawDialog=function(t){function n(e){a.borderRadius&&"DIALOG"===a.viewType&&(e.style.borderRadius=a.borderRadius+"px")}function r(){try{if(a.closingAction&&"REDIRECT"===a.closingAction&&a.closeUrl){var e=(0,g.resolveUrlWithPlaceholders)(document.location.href,a.closeUrl);e!==document.location.href&&(document.location.href=e)}}catch(e){m.logger.logInternalError(e,"Error in dialog close handler")}}var i=t.content.htmlElements,a=t.content.settings,u=(0,o.getEscHandlerCallback)(r),v=void 0,y=void 0,b=(0,o.createElement)("div","apt-dialog-content-wrapper");b.innerHTML=i,i=b;var w={closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:i.outerHTML,overlayClosesOnClick:!1,showCloseButton:!0,afterClose:function(){document.body.classList.remove("apt-vex"),clearTimeout(y),v&&clearTimeout(v),(0,h.internalApt)("engagementCompletedClosed")},beforeClose:function(){try{(0,o.removeEventListener)(document,"keydown",u),(0,l.handleEngagementFinish)("IN_APP_DIALOG")}catch(e){m.logger.logInternalError(e,"Error before close dialog")}},afterOpen:function(){if(document.body.classList.add("apt-vex"),this.rootEl.classList.add("apt-vex"),this.contentEl.classList.add("apt-dialog-popup"),this.contentEl.classList.add("px-engagement-wrapper-dialog"),this.contentEl.classList.add("px-engagement-wrapper"),(0,f.addStyleTag)(this.contentEl,t.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,f.addStyleTag)(this.contentEl,t.content.engagementCoreStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),(0,f.addStyleTag)(this.contentEl,t.content.overrideStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),this.contentEl.setAttribute("data-apt-disable-selector",!0),!a.isAutoHeight&&a.height&&(this.contentEl.style.height=a.height+"px",this.contentEl.querySelector(".apt-dialog-content-wrapper").style.height=a.height+"px"),"BAR"===a.viewType)this.contentEl.style.position="fixed",this.contentEl.classList.add("apt-dialog-bar"),this.contentEl.style.width=(0,s.getPageWidth)()+"px","TOP"===a.barPosition?this.contentEl.style.top=0:this.contentEl.style.bottom=0;else{a.width&&(this.contentEl.style.width=a.width+"px"),a.isFitToWidth&&(this.contentEl.style.height=(0,s.getPageHeight)(),this.contentEl.style.width=(0,s.getPageWidth)());var i=a.hPosition,l=a.vPosition;i||(i="center"),l&&"middle"!=l||(l="center"),this.contentEl.style.position="absolute",x.positionElement(this.contentEl,null,i,l),/^\d+$/.test(i)&&(this.contentEl.style.left=i+"px"),/^\d+$/.test(l)&&(this.contentEl.style.top=l+"px")}a.overlayColor&&(this.overlayEl.style.background=(0,o.hexToRgba)(a.overlayColor,a.overlayFill?a.overlayFill/100:0)),(!a.overlayFill||a.overlayFill<1)&&this.rootEl.classList.add("apt-popup-disable-overlay"),a&&a.contentBackground&&(this.contentEl.style.backgroundColor=a.contentBackground)&&a.contentBackground,a&&a.contentBackground&&a.backgroundFill&&(this.contentEl.style.backgroundColor=(0,o.hexToRgba)(a.contentBackground,a.backgroundFill/100),(0,o.checkDarkColor)(a.contentBackground)&&this.contentEl.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"));var g=(0,p.arrayFrom)(this.contentEl.querySelectorAll("a"));if((0,o.isNotEmptyArr)(g))for(var m=0;m<g.length;m++)"_blank"!==g[m].target&&(0,o.addEventListener)(g[m],"click",function(){I.close()});var h=(0,p.arrayFrom)(this.contentEl.querySelectorAll("button"));(0,o.isNotEmptyArr)(h)&&h.forEach(function(e){(0,o.addEventListener)(e,"click",function(){var e=(0,d.getEngagementTrackPayload)(t,"ENGAGEMENT_CLICK"),n=E.engagementTrackEndpoint+"?"+(0,o.convert2Parameters)(e);c.AjaxUtil.getData(n,null,null,null,!0)})}),(0,o.addEventListener)(document,"keydown",u),(0,o.addEventListener)(this.closeEl,"click",r),n(this.contentEl),e(t,2)}},k=a.timeout?a.timeout*o.MILLISEC:0,T=a.delay?a.delay*o.MILLISEC:0;y=setTimeout(function(){I=C.open(w),k>0&&(v=setTimeout(function(){C.close(I)},k))},T)},this.close=function(){I&&I.close()}};t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(5),i=n(13),a=["DIALOG","TOOLTIP"],s=new function(){function e(e,t){var n=t.backgroundColor,o=t.backgroundFill,i=t.textColor,a=t.cornerRadius,s=t.hoverBackgroundColor,l=t.hoverBackgroundFill,c=t.hoverTextColor,u=(t.hoverBorderColor,".px-step-navigation-skip {"),d=".px-step-navigation-skip:hover {";u+="background-color: "+(o>-1?(0,r.hexToRgba)(n,o/100):n)+";",d+="background-color: "+(l>-1?(0,r.hexToRgba)(s,l/100):s)+";",u+="color: "+i+";",d+="color: "+c+";",u+="borderRadius: "+a+"px;",u+="}",d+="}",(0,r.addStyle)(u+d,"px-step-navigation-skip",e)}this.addSkipButton=function(t,n,o,i,a,s){if(n.enabled){var l=(0,r.createElement)("div",["px-step-navigation-button","px-step-navigation-skip"],{text:s||n.text||"Skip Tour"});e(t,n);var c=t.querySelector(".apt-step-footer-buttons")||t.querySelector(".px-step-navigation-buttons");c.querySelector(".px-step-navigation-back")||c.querySelector(".apt-step-footer-prev");c.appendChild(l),i&&(0,r.addEventListener)(l,"click",a)}},this.toggle=function(e,t){var n=e.querySelector(".px-step-navigation-skip");n&&(0,o.applyStyle)(n,"display",t?"block":"none")},this.populateNavigationFlags=function(e,t){var n=!1;return(0,i.arrayFrom)(e,function(e){return"DIALOG"!==e.type||0!=e.sequenceNumber&&e.sequenceNumber!==t?e.showCounter=!0:e.showCounter=!1,!n&&a.indexOf(e.type)>-1?(n=!0,e.showSkip=!0):e.showSkip=!1,e})}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="";return t+=(e.offsetX?e.offsetX:0)+"px ",t+=(e.offsetY?e.offsetY:0)+"px ",t+=(e.blur?e.blur:0)+"px ",e.fill&&e.color&&(t+=(0,f.hexToRgba)(e.color,e.fill/100)),t}function i(e,t,n){this.id=e,this.type=t,this.step=n}function a(e,t,n){function r(e){"DIALOG"===O.viewType&&(e.style.borderRadius=O.borderRadius+"px")}function a(){if(G.indexOf(U[I].getSettings().type)>-1&&T++,U[I++].hide(),I>=U.length)return void X.close();X.contentEl.appendChild(U[I].render())}function l(e,t){var n=o(t);e.style.setProperty("filter","drop-shadow("+n+")"),e.style.setProperty("-webkit-filter","drop-shadow("+n+")")}function u(){if(!E.default.isEditorMode()){var n=!1,r=!1,o=(0,L.arrayFrom)(_,function(e){var t=e.step.getData();return void 0!==t.contactMeAllowed&&(n=t.contactMeAllowed),r=null!==t.selected,{stepId:e.id,score:t.selected,comment:t.comment,questionType:e.type}});if(r){var i=(0,f.addParameters)(h.eventTrackData[v.cacheGetAll](),[]);t.accountId&&(i=(0,f.addParameters)({acci:t.accountId},i)),i=(0,f.addParameters)({exi:t.executionId,ext:t.executionTimestamp,at:t.activationType||"a",cl:t.contentLocale},i),i=(0,f.addParameters)((0,j.getWebContext)(),i),i=(0,f.addParameters)((0,N.addFullStoryInfo)([]),i);var a={ei:t.engagementId,ecoi:t.content.id,ent:t.content.contentType,contactMeAllowed:n,questions:o},s=h.globalContextCache[v.cacheGet]("apt.gcx");s&&Object.assign(a,{gcx:s}),m.AjaxUtil.postData(K+"?"+(0,f.convert2Parameters)(i),a,null,null,null,!0),Y=!0,J=!0,o.forEach(function(n){return M.internalEventListener.dispatchEvent("surveyResponded",(0,B.toExternalEventSurvey)(t,"Responded",e,n))}),M.internalEventListener.dispatchEvent("engagementCompleted",(0,B.toExternalEventSurvey)(t,"Completed"))}}}function d(){a(),u(),Y=!0,J=!0}function p(){var e=_[T],n=_.length===T+1;if(J=n,a(),!E.default.isEditorMode()){var r=!1,o={stepId:e.id,questionType:e.type},i=e.step.getData();switch(void 0!==i.contactMeAllowed&&(r=i.contactMeAllowed),e.type){case"MULTIPLE_CHOICE_QUESTION":o.selectionIds=i.choices;break;case"OPEN_TEXT":o.comment=i.comment}var s=(0,f.addParameters)(h.eventTrackData[v.cacheGetAll](),[]);t.accountId&&(s=(0,f.addParameters)({acci:t.accountId},s)),s=(0,f.addParameters)((0,N.addFullStoryInfo)([]),s);var l={ei:t.engagementId,ecoi:t.content.id,ent:t.content.contentType,questions:[o],lastStep:n,contactMeAllowed:r};s=(0,f.addParameters)({exi:t.executionId,ext:t.executionTimestamp,at:t.activationType||"a",cl:t.contentLocale},s);(0,f.addParameters)((0,j.getWebContext)(),s);s=Object.assign(s);var c=h.globalContextCache[v.cacheGet]("apt.gcx");c&&Object.assign(l,{gcx:c}),m.AjaxUtil.postData(z+"?"+(0,f.convert2Parameters)(s),l,null,null,null,!0),n&&M.internalEventListener.dispatchEvent("engagementCompleted",(0,B.toExternalEventSurvey)(t,"Completed"))}}function b(){X.close()}var C=["IN_APP_SURVEY_NPS","IN_APP_CES_SURVEY","IN_APP_RATING_SURVEY","IN_APP_BOOLEAN_SURVEY"],I=0,T=0,O={},_=[],U=[],Y=!1,J=!1,X=null;!function(e){Object.entries(e).forEach(function(e){var t=s(e,2),n=t[0],r=t[1];F.indexOf(n)>-1&&(O[n]=r)}),O.horizontalPosition||(O.horizontalPosition="center"),O.verticalPosition||(O.verticalPosition="center")}(t.content),this.render=function(){n.sort(function(e,t){return e.sequenceNumber-t.sequenceNumber});for(var o=1,s=[],m=void 0,v=0;v<n.length;v++){var E=Object.assign({},n[v]);switch(E.isLast=v===n.length-1||v===n.length-2&&"CONTENT"===n[v+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"!==e,E.showContactMeMessage=(E.isLast||v===n.length-2&&"CONTENT"===n[v+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"===e)&&O.showContactMeMessage,E.contactMeMessage=O.contactMeMessage,E.minCharsValidationText=O.minCharsValidationText,E.maxCharsValidationText=O.maxCharsValidationText,E.mandatoryValidationText=O.mandatoryValidationText,E.minAnswersValidationText=O.minAnswersValidationText,E.maxAnswersValidationText=O.maxAnswersValidationText,E.viewType=O.viewType,n[v].type){case"CONTENT":var T=new g.default(n[v].html,E,v<n.length-1?a:b);m=H.default.SanitizeHtml(T.getHtml()),m.isValid?U.push(T):s.push(m.errors);break;case"SCORE":var L=void 0;switch(e){case"IN_APP_SURVEY_NPS":E.numberOfButtons=11,E.initialButtonIndex=0,L=new c.default(E,d);break;case"IN_APP_CES_SURVEY":E.numberOfButtons=7,E.initialButtonIndex=1,L=new c.default(E,d);break;case"IN_APP_RATING_SURVEY":E.numberOfButtons=5,E.initialButtonIndex=1,L=new k.default(E,d)}m=H.default.SanitizeHtml(L.getHtml()),m.isValid?(U.push(L),_.push(new i(E.id,E.type,L))):s.push(m.errors);break;case"BOOLEAN":var N=new x.default(E,d);m=H.default.SanitizeHtml(N.getHtml()),m.isValid?(_.push(new i(E.id,"SCORE",N)),U.push(N)):s.push(m.errors);break;case"MULTIPLE_CHOICE_QUESTION":var M=new S.default(E,p,o);m=H.default.SanitizeHtml(M.getHtml()),m.isValid?(_.push(new i(E.id,E.type,M)),U.push(M),o++):s.push(m.errors);break;case"OPEN_TEXT":var B=new A.default(E,p,o);m=H.default.SanitizeHtml(B.getHtml()),m.isValid?(_.push(new i(E.id,E.type,B)),U.push(B),o++):s.push(m.errors)}}if(s.length>0)return{isValid:!1,errors:s};var j={closeClassName:"aptr-engagement-close-btn px-close-button",overlayClosesOnClick:!1,showCloseButton:!0,afterOpen:function(){document.body.classList.add("apt-vex"),this.rootEl[V].add("apt-vex"),this.contentEl[V].add("apt-survey-popup"),this.rootEl.setAttribute("data-apt-ignore-visible",!0),this.contentEl.setAttribute("data-apt-disable-selector",!0),this.rootEl[V].add("apt-popup-disable-overlay"),this.contentEl[V].add("apt-popup-content-disable-overlay"),this.contentEl[V].add("apt-engagement-wrapper-survey"),this.contentEl[V].add("apt-engagement-wrapper"),this.contentEl[V].add("px-engagement-wrapper-survey"),this.contentEl[V].add("px-engagement-wrapper"),(0,P.addStyleTag)(this.contentEl,O.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,P.addStyleTag)(this.contentEl,O.engagementCoreStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os"),(0,P.addStyleTag)(this.contentEl,O.overrideStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");var t=U[0].render();this.contentEl.appendChild(t),O.autoHeight||(this.contentEl.style.height=O.height+"px"),"DIALOG"===O.viewType?(this.contentEl.style.width=O.width+"px",W.positionElement(this.contentEl,null,O.horizontalPosition,O.verticalPosition)):(this.contentEl[V].add("apt-survey-bar"),this.contentEl.style.width=(0,y.getPageWidth)(!0)+"px",this.contentEl.style.left="0px","TOP"===O.barPosition?this.contentEl.style.top=0:this.contentEl.style.bottom=0),this.contentEl.style.background=(0,f.hexToRgba)(O.backgroundColor,O.backgroundFill?O.backgroundFill/100:1),r(this.contentEl);var n=this.rootEl.querySelector(".vex-overlay");O.overlayFill&&O.overlayFill>0&&(n.style.background=(0,f.hexToRgba)(O.overlayColor,O.overlayFill?O.overlayFill/100:0),n.style.display="block"),O.showShadow&&l(this.contentEl,O.shadowSettings);var o=this.contentEl.querySelector(".aptr-engagement-close-btn");o&&(0,f.addEventListener)(o,"click",function(){if(-1!=C.indexOf(e)&&!Y){null!==U[I].getData().selected&&u()}})}};return j.beforeClose=function(){try{document.body.classList.remove("apt-vex"),(0,w.handleEngagementFinish)(t.content.contentType)}catch(e){R.logger.logInternalError(e,"Error in before close survey")}},j.afterClose=function(){try{setTimeout(function(){J?(0,D.internalApt)("engagementCompletedClosed"):(0,D.internalApt)("engagementDroppedClosed")},500)}catch(e){R.logger.logInternalError(e,"Error in after close survey")}if(h.externalEventListeners.SURVEY_CLOSED)try{h.externalEventListeners.SURVEY_CLOSED()}catch(e){R.logger.logInternalError(e,"Error calling SURVEY_CLOSED event listener")}},X=q.open(j),{isValid:!0,errors:[]}},this.close=function(){X&&X.close()}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(104),c=r(l),u=n(27),d=r(u),f=n(1),p=n(99),g=r(p),m=n(8),h=n(4),v=n(6),y=n(5),b=n(10),E=r(b),w=n(21),C=n(98),x=r(C),I=n(103),k=r(I),T=n(101),S=r(T),O=n(102),A=r(O),L=n(13),P=n(9),R=n(3),D=n(17),_=n(2),N=n(64),M=n(11),B=n(23),j=n(25),U=n(58),H=r(U),q=n(24);q.defaultOptions.className="vex-theme-os";var V="classList",W=new d.default,F=["borderRadius","overlayColor","overlayFill","viewType","verticalPosition","horizontalPosition","backgroundColor","backgroundFill","height","width","autoHeight","showShadow","shadowSettings","barPosition","showContactMeMessage","coreStyling","overrideStyling","engagementCoreStyling","contactMeMessage","minCharsValidationText","maxCharsValidationText","mandatoryValidationText","minAnswersValidationText","maxAnswersValidationText"],G=["SCORE","BOOLEAN","MULTIPLE_CHOICE_QUESTION","OPEN_TEXT"],K=_.serverEndpoint+"/engagement/survey",z=_.serverEndpoint+"/engagement/survey/step";t.default=a},function(e,t,n){"use strict";function r(e,t){function n(){return(0,i.validateComment)(e,d,f)}function r(){v.classList.remove("apt-hidden"),h.classList.remove("apt-hidden"),b.classList.add("apt-hidden"),y.classList.add("apt-hidden")}function s(e){r(),e?(h.classList.add("apt-hidden"),y.classList.remove("apt-hidden")):(v.classList.add("apt-hidden"),b.classList.remove("apt-hidden")),c=e,g.forEach(function(e){return e.style.display="none"}),m.forEach(function(e){return!e.classList.contains("apt-survey-show")&&e.classList.add("apt-survey-show")})}function l(){return(0,o.isBlank)(e.buttonText)?"Submit":e.buttonText}var c=null,u=void 0,d=void 0,f=void 0,p=void 0,g=[],m=[],h=(0,o.createElementFromString)("<svg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30' style='width:250px; height: 70px;'>\n        <g fill='none'  fillRule='evenodd'>\n        <g stroke="+e.positiveButtonBorderColor+" fill="+e.positiveButtonBackgroundColor+" stroke-linecap='round' stroke-linejoin='round' strokeWidth="+e.positiveButtonBorderWidth+" >\n            <path d='M13.5 9H18V18.5H13.5z' transform='translate(6 5) matrix(-1 0 0 1 31.5 0)' />\n              <path d='M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform='translate(6 5)' />\n        </g>\n        </g>\n    </svg>"),v=(0,o.createElementFromString)("<svg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'  style='width:250px; height: 70px;'>\n        <g fill='none'  fillRule='evenodd'>\n            <g stroke="+e.negativeButtonBorderColor+" fill="+e.negativeButtonBackgroundColor+" stroke-linecap='round' stroke-linejoin='round' strokeWidth="+e.negativeButtonBorderWidth+" >\n                <path d='M0 0.5H4.5V10H0z' transform='translate(6 5) matrix(1 0 0 -1 0 10.5)' />\n              <path d='M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform='translate(6 5)' />\n            </g>\n        </g>\n    </svg>"),y=(0,o.createElementFromString)("<svg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30' style='width:250px; height: 70px;'>\n        <g fill='none'  fillRule='evenodd'>\n            <g stroke="+e.selectedButtonsBorderColor+" fill="+e.selectedButtonsBackgroundColor+" stroke-linecap='round' stroke-linejoin='round' strokeWidth="+e.selectedButtonsBorderWidth+" >\n              <path d='M13.5 9H18V18.5H13.5z' transform='translate(6 5) matrix(-1 0 0 1 31.5 0)' />\n              <path d='M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform='translate(6 5)' />\n            </g>\n        </g>\n    </svg>"),b=(0,o.createElementFromString)("<svg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'  style='width:250px; height: 70px;'>\n            <g fill='none'  fillRule='evenodd'>\n                <g stroke="+e.selectedButtonsBorderColor+" fill="+e.selectedButtonsBackgroundColor+" stroke-linecap='round' stroke-linejoin='round' strokeWidth="+e.selectedButtonsBorderWidth+" >\n                <path d='M0 0.5H4.5V10H0z' transform='translate(6 5) matrix(1 0 0 -1 0 10.5)' />\n              <path d='M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform='translate(6 5)' />\n                </g>\n            </g>\n        </svg>");this.getData=function(){return{selected:c,comment:d.value,contactMeAllowed:e.showContactMeMessage?p.checked:null}},this.hide=function(){u.style.display="none"},this.render=function(){var i=(0,a.toDom)(e.titleHtml,!1),c=e.contactMeMessage||"It's okay to contact me about my feedback";d=(0,o.createElement)("textArea"),p=(0,o.createInput)("checkbox",void 0,void 0,void 0,void 0,!0),f=(0,o.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"}),r();var E=(0,o.createElement)("div",["apt-contact-wrapper"],void 0,[p,(0,o.createElement)("div","apt-contact-me-text",{text:c})]);!e.showContactMeMessage&&(E.style.display="none");var w=(0,o.createElement)("div",["apt-survey-choices-wrapper"],null,[(0,o.createElement)("div","apt-survey-choices",null,[v,b,h,y]),(0,o.createElement)("div","apt-survey-choices-legend",null,[(0,o.createElement)("div",null,null,[(0,a.toDom)(e.notSatisfiedHtml)]),(0,o.createElement)("div",null,null,[(0,a.toDom)(e.satisfiedHtml)])])]),C=(0,o.createElement)("div",["apt-survey-comment"],null,[(0,a.toDom)(e.defaultComment)]),x=(0,o.createElement)("div","apt-survey-submit-text",{text:l()}),I=(0,o.createElement)("div","apt-survey-submit",null,[x]),k=(0,o.createElement)("div","bottom-feedback-container",null,[d,f,"DIALOG"===e.viewType&&E,I]),T=(0,o.createElement)("div","apt-feedback-text-wrapper",null,[k,"BAR"===e.viewType&&(0,o.createElement)("div","",null,[E])]),S=(0,o.createElement)("div","apt-survey-feedback",null,[C,T]);"BAR"===e.viewType&&(k.classList.add("bottom-feedback-container-bar"),I.classList.add("apt-survey-submit-bar")),I.style.color=e.submitButtonTextColor,I.style.backgroundColor=e.submitButtonBackgroundColor,I.style.borderWidth=e.submitButtonBorderWidth+"px",I.style.borderRadius=e.submitButtonBorderRadius+"px",I.style.borderColor=e.submitButtonBorderColor,d.placeholder=e.placeholderText||"Share your thoughts about your choice...",(0,o.addEventListener)(d,"keyup",n);var O=(0,o.createElement)("div","apt-survey-title",null,[i]);return u=(0,o.createElement)("div","apt-survey-step",null,[O,w,S]),(0,o.addEventListener)(I,"click",function(){n()&&t()}),(0,o.addEventListener)(v,"click",function(){s(0)}),(0,o.addEventListener)(h,"click",function(){s(1)}),g.push(i),m.push(S),u},this.getSettings=function(){return e},this.getHtml=function(){return e.titleHtml+e.notSatisfiedHtml+e.satisfiedHtml+e.defaultComment}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(30),a=n(9);t.default=r},function(e,t,n){"use strict";function r(e,t,n){var r=(0,o.createElement)("div","apt-survey-close-button",null,[(0,o.createElement)("div","apt-survey-close-text",{text:function(){return(0,o.isBlank)(t.buttonText)?t.isLast?"Close":"Next":t.buttonText}()})]);r.style.color=t.closeButtonTextColor,r.style.backgroundColor=t.closeButtonBackgroundColor,r.style.borderRadius=t.closeButtonBorderRadius+"px",r.style.borderWidth=t.closeButtonBorderWidth+"px",r.style.borderColor=t.closeButtonBorderColor,(0,o.addEventListener)(r,"click",n);var a=(0,o.createElement)("div","apt-survey-step",null,[(0,i.toDom)(e,!1,"apt-survey-title"),r]);this.render=function(){return a},this.hide=function(){a.style.display="none"},this.getSettings=function(){return t},this.getHtml=function(){return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(9);t.default=r},function(e,t,n){"use strict";function r(){var e=null;this.draw=function(t){var n=t.content;return e=new i.default(n.contentType,t,n.steps),e.render()},this.close=function(){e&&e.close()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(97),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function r(e,t,n){function r(e,t,n){n&&e.checked&&p.length>=n?(e.checked=!1,m.style.display="inline-block"):(m.style.display="none",h.style.display="none"),e.checked?-1===p.indexOf(t)&&p.push(t):p=p.filter(function(e){return e!==t})}function a(e,t){var n=(0,o.createElement)("input","apt-survey-multi-choice-checkbox",{dataAtt:[{name:"type",value:"checkbox"},{name:"id",value:e.id},{name:"name",value:"multi-choices-radio"}]}),a=(0,o.createElement)("div",["apt-survey-multi-choice-label"],{dataAtt:[{name:"for",value:e.id}]},(0,i.toDom)(e.text,!1,e.text.indexOf("px-multi-survey-answer")>-1?void 0:"apt-multi-survey-answer"));return(0,o.addEventListener)(n,"change",function(n){r(n.target,e.id,t)}),(0,o.createElement)("div","apt-survey-multi-choices-radio",null,[(0,o.createElement)("div","apt-survey-multi-choice-input-wrapper",null,[n]),a])}function s(e){var t=e.answers,n=e.maxSelectionNumber;return t.sort(function(e,t){return e.sequenceNumber-t.sequenceNumber}),(0,o.createElement)("div",["apt-survey-multi-choices-wrapper","apt-survey-multi-choices-wrapper-"+t.length],null,t.map(function(e){return a(e,n)}))}function l(e){var t=e.maxAnswersValidationText?e.maxAnswersValidationText.replace("%maxSelectionNumber%",e.maxSelectionNumber):"You can only select a maximum of "+e.maxSelectionNumber+" answer(s)",n=e.minAnswersValidationText?e.minAnswersValidationText.replace("%minSelectionNumber%",e.minSelectionNumber):"Please select at least "+e.minSelectionNumber+" answer(s)";return m=(0,o.createElement)("div","apt-error-message apt-max-choices",{text:t}),h=(0,o.createElement)("div","apt-error-message apt-min-choices",{text:n}),(0,o.createElement)("div","apt-error-message-wrapper",null,[m,h])}function c(){return(0,o.isBlank)(e.buttonText)?e.isLast?"Done":"Next":e.buttonText}function u(e){var t=(0,o.createElement)("div","apt-survey-submit",{text:c()});return t.style.color=e.submitButtonTextColor,t.style.backgroundColor=e.submitButtonBackgroundColor,t.style.borderWidth=e.submitButtonBorderWidth+"px",t.style.borderRadius=e.submitButtonBorderRadius+"px",t.style.borderColor=e.submitButtonBorderColor,t}function d(e,t){t&&p.length<t?h.style.display="inline-block":(h.style.display="none",e())}function f(e){if(e.showQuestionNumber){var t=(0,o.createElement)("div","apt-question-sequence",{text:n+"."});return t.style.fontFamily=e.numberFontFamily,t.style.fontSize=e.numberSize+"px",t.style.color=e.numberColor,t}return null}var p=[],g=void 0,m=void 0,h=void 0,v=void 0;this.render=function(){var n=(0,i.toDom)(e.question,!1),r=e.contactMeMessage||"It's okay to contact me about my feedback";n.classList.add("apt-survey-multi-title");var a=(0,o.createElement)("div","apt-survey-multi-choices-title-wrapper",null,[f(e),n]),c=s(e),p=l(e),m=u(e);v=(0,o.createInput)("checkbox",void 0,void 0,void 0,void 0,!0);var h=(0,o.createElement)("div",["apt-contact-wrapper"],void 0,[v,(0,o.createElement)("div","apt-contact-me-text",{text:r})]);return!e.showContactMeMessage&&(h.style.display="none"),g=(0,o.createElement)("div","apt-survey-multi-choices-step",null,[a,c,p,h,m]),(0,o.addEventListener)(m,"click",function(){d(t,e.minSelectionNumber)}),g},this.hide=function(){g.style.display="none"},this.getData=function(){return{choices:p,contactMeAllowed:e.showContactMeMessage?v.checked:null}},this.getSettings=function(){return e},this.getHtml=function(){return e.answers.map(function(e){return e.text}).join("")+e.question},r=r.bind(this),d=d.bind(this)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(9);t.default=r},function(e,t,n){"use strict";function r(e,t,n){function r(){return(0,a.validateComment)(e,f,p)}function s(){return f=(0,o.createElement)("textArea"),f.placeholder=e.placeholderText||"Share your thoughts about your choice...",(0,o.addEventListener)(f,"keyup",r),p=(0,o.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"}),(0,o.createElement)("div","bottom-feedback-container",null,[f,p])}function l(){return(0,o.isBlank)(e.buttonText)?e.isLast?"Done":"Next":e.buttonText}function c(e){var t=(0,o.createElement)("div","apt-survey-submit",{text:l()});return t.style.color=e.submitButtonTextColor,t.style.backgroundColor=e.submitButtonBackgroundColor,t.style.borderWidth=e.submitButtonBorderWidth+"px",t.style.borderRadius=e.submitButtonBorderRadius+"px",t.style.borderColor=e.submitButtonBorderColor,t}function u(e){if(e.showQuestionNumber){var t=(0,o.createElement)("div","apt-question-sequence",{text:n+"."});return t.style.fontFamily=e.numberFontFamily,t.style.fontSize=e.numberSize+"px",t.style.color=e.numberColor,t}return null}var d=void 0,f=void 0,p=void 0,g=void 0;this.render=function(){var n=(0,i.toDom)(e.question,!1),a=e.contactMeMessage||"It's okay to contact me about my feedback";n.classList.add("apt-survey-open-text-title");var l=(0,o.createElement)("div","apt-survey-open-text-title-wrapper",null,[u(e),n]),f=s();g=(0,o.createInput)("checkbox",void 0,void 0,void 0,void 0,!0);var p=c(e),m=(0,o.createElement)("div",["apt-contact-wrapper"],void 0,[g,(0,o.createElement)("div","apt-contact-me-text",{text:a})]);!e.showContactMeMessage&&(m.style.display="none"),"BAR"===e.viewType&&(f.classList.add("bottom-feedback-container-bar"),p.classList.add("apt-survey-submit-bar")),"DIALOG"===e.viewType&&f.appendChild(m);var h=(0,o.createElement)("div","apt-feedback-text-wrapper",null,[f,"BAR"===e.viewType&&(0,o.createElement)("div","",null,[m])]);return f.appendChild(p),d=(0,o.createElement)("div","apt-survey-open-text-step",null,[l,h]),(0,o.addEventListener)(p,"click",function(){r()&&t()}),d},this.hide=function(){d.style.display="none"},this.getData=function(){return{comment:f.value,contactMeAllowed:e.showContactMeMessage?g.checked:null}},this.getSettings=function(){return e},this.getHtml=function(){return e.question}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(9),a=n(30);t.default=r},function(e,t,n){"use strict";function r(e,t){function n(e,t){e.firstChild.getElementsByTagName("polygon")[0].style.fill=t.buttonsBackgroundColor,e.firstChild.getElementsByTagName("path")[0].setAttribute("stroke-width",t.buttonsBorderWidth),e.firstChild.getElementsByTagName("path")[0].setAttribute("stroke",t.buttonsBorderColor),e.firstChild.getElementsByTagName("g")[0].style.fill=t.buttonsBorderColor,e.firstChild.getElementsByTagName("g")[0].setAttribute("stroke-width",t.buttonsBorderWidth)}function r(t){return t-e.initialButtonIndex}function l(t){if(null!==p&&p>t)for(var o=0;o<f.length;o++){var i=f[o];n(i,e)}p=t;for(var a=r(t),s=0;s<a+1;s++){var l=f[s];l.firstChild.getElementsByTagName("polygon")[0].style.fill=e.selectedButtonsBackgroundColor,l.firstChild.getElementsByTagName("path")[0].setAttribute("stroke-width",e.selectedButtonsBorderWidth),l.firstChild.getElementsByTagName("path")[0].setAttribute("stroke",e.selectedButtonsBorderColor),l.firstChild.getElementsByTagName("g")[0].style.fill=e.selectedButtonsBorderColor,l.firstChild.getElementsByTagName("g")[0].setAttribute("stroke-width",e.selectedButtonsBorderWidth)}y.forEach(function(e){return e.style.display="none"}),b.forEach(function(e){return!e.classList.contains("apt-survey-show")&&e.classList.add("apt-survey-show")})}function c(){return(0,i.validateComment)(e,m,h)}function u(e,t){var r=(0,o.createElement)("div",null,null,[(0,o.createElementFromString)(s)]);return n(r,t),(0,o.addEventListener)(r,"click",function(e){return function(){l(e)}}(e)),r}function d(){return(0,o.isBlank)(e.buttonText)?"Submit":e.buttonText}var f=[],p=null,g=void 0,m=void 0,h=void 0,v=void 0,y=[],b=[];this.render=function(){for(var n=(0,a.toDom)(e.titleHtml,!1),r=e.contactMeMessage||"It's okay to contact me about my feedback",i=e.initialButtonIndex;i<e.numberOfButtons+e.initialButtonIndex;i++)f.push(u(i,e));m=(0,o.createElement)("textArea"),v=(0,o.createInput)("checkbox",void 0,void 0,void 0,void 0,!0),h=(0,o.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var s=(0,o.createElement)("div",["apt-contact-wrapper",e.showContactMeMessage?"":"apt-hidden"],void 0,[v,(0,o.createElement)("div","apt-contact-me-text",{text:r})]),l=(0,o.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+e.numberOfButtons],null,[(0,o.createElement)("div","apt-survey-choices",null,f),(0,o.createElement)("div","apt-survey-choices-legend",null,[(0,o.createElement)("div",null,null,[(0,a.toDom)(e.notSatisfiedHtml)]),(0,o.createElement)("div",null,null,[(0,a.toDom)(e.satisfiedHtml)])])]),p=(0,o.createElement)("div",["apt-survey-comment"],null,[(0,a.toDom)(e.defaultComment)]),E=(0,o.createElement)("div","apt-survey-submit-text",{text:d()}),w=(0,o.createElement)("div","apt-survey-submit",null,[E]),C=(0,o.createElement)("div","bottom-feedback-container",null,[m,h,e.showContactMeMessage?"DIALOG"===e.viewType&&s:void 0,w]),x=(0,o.createElement)("div","apt-feedback-text-wrapper",null,[C,e.showContactMeMessage?"BAR"===e.viewType&&(0,o.createElement)("div","",null,[s]):void 0]),I=(0,o.createElement)("div","apt-survey-feedback",null,[p,x]);"BAR"===e.viewType&&(C.classList.add("bottom-feedback-container-bar"),w.classList.add("apt-survey-submit-bar")),w.style.color=e.submitButtonTextColor,w.style.backgroundColor=e.submitButtonBackgroundColor,w.style.borderWidth=e.submitButtonBorderWidth+"px",w.style.borderRadius=e.submitButtonBorderRadius+"px",w.style.borderColor=e.submitButtonBorderColor,m.placeholder=e.placeholderText||"Share your thoughts about your choice...",(0,o.addEventListener)(m,"keyup",c);var k=(0,o.createElement)("div","apt-survey-title",null,[n]);return g=(0,o.createElement)("div","apt-survey-step",null,[k,l,I]),(0,o.addEventListener)(w,"click",function(){c()&&t()}),y.push(n),b.push(I),g},this.hide=function(){g.style.display="none"},this.getData=function(){return{selected:p,comment:m.value,contactMeAllowed:e.showContactMeMessage?v.checked:null}},this.getSettings=function(){return e},this.getHtml=function(){return e.titleHtml+e.notSatisfiedHtml+e.satisfiedHtml+e.defaultComment}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(30),a=n(9),s='<svg version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" style="width: 40px; height: 40px;"><g id="XMLID_31_" fill="#cfd8dc" stroke-width="0.5"><g><g stroke-width="0.5"><polygon calss="apt-star-polygon" fill="#ffffff" points="61.5,25 45.1,39.6 50.2,61.5 32,49.6 13.8,61.5 18.9,39.6 2.5,25 23.9,23.4 32,2.5 40.1,23.4"></polygon></g></g><g><g><path stroke="#cfd8dc" stroke-width="0.5" d="M51.8,63.7L32,50.8L12.2,63.7l5.6-23.8L0.1,24.2l23.1-1.8L32-0.3l8.8,22.7l23.1,1.8L46.2,39.9L51.8,63.7zM32, 48.4l16.7,10.9L44,39.2l15.1-13.4l-19.7-1.5L32,5.3l-7.4,19.1L4.9,25.9L20,39.2l-4.7,20.1L32,48.4z"></path></g></g></g></svg>';t.default=r},function(e,t,n){"use strict";function r(e,t){function n(e,t){e.style.color=t.buttonsTextColor,e.style.backgroundColor=t.buttonsBackgroundColor,e.style.borderWidth=t.buttonsBorderWidth+"px",e.style.borderRadius=t.buttonsBorderRadius+"px",e.style.borderColor=t.buttonsBorderColor}function r(t){return t-e.initialButtonIndex}function s(t){if(null!==f){n(d[r(f)],e)}f=t;var o=d[r(t)];o.style.color=e.selectedButtonsTextColor,o.style.backgroundColor=e.selectedButtonsBackgroundColor,o.style.borderWidth=e.selectedButtonsBorderWidth+"px",o.style.borderRadius=e.buttonsBorderRadius+"px",o.style.borderColor=e.selectedButtonsBorderColor,v.forEach(function(e){return e.style.display="none"}),y.forEach(function(e){return!e.classList.contains("apt-survey-show")&&e.classList.add("apt-survey-show")})}function l(){return(0,a.validateComment)(e,g,m)}function c(e,t){var r=(0,o.createElement)("div","apt-survey-choice",{text:e});return n(r,t),(0,o.addEventListener)(r,"click",function(e){return function(){s(e)}}(e)),r}function u(){return(0,o.isBlank)(e.buttonText)?"Submit":e.buttonText}var d=[],f=null,p=void 0,g=void 0,m=void 0,h=void 0,v=[],y=[];this.render=function(){for(var n=(0,i.toDom)(e.titleHtml),r=e.initialButtonIndex;r<e.numberOfButtons+e.initialButtonIndex;r++)d.push(c(r,e));g=(0,o.createElement)("textArea"),h=(0,o.createInput)("checkbox",void 0,void 0,void 0,void 0,!0),m=(0,o.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var a=e.contactMeMessage||"It's okay to contact me about my feedback",s=(0,o.createElement)("div",["apt-contact-wrapper"],void 0,[h,(0,o.createElement)("div","apt-contact-me-text",{text:a})]);!e.showContactMeMessage&&(s.style.display="none");var f=(0,o.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+e.numberOfButtons],null,[(0,o.createElement)("div","apt-survey-choices",null,d),(0,o.createElement)("div",["apt-survey-choices-legend"],null,[(0,o.createElement)("div",null,null,[(0,i.toDom)(e.notSatisfiedHtml)]),(0,o.createElement)("div",null,null,[(0,i.toDom)(e.satisfiedHtml)])])]),b=(0,o.createElement)("div",["apt-survey-comment"],null,[(0,i.toDom)(e.defaultComment)]),E=(0,o.createElement)("div","apt-survey-submit-text",{text:u()}),w=(0,o.createElement)("div","apt-survey-submit",null,[E]),C=(0,o.createElement)("div","bottom-feedback-container",null,[g,m,"DIALOG"===e.viewType&&s,w]),x=(0,o.createElement)("div","apt-feedback-text-wrapper",null,[C,"BAR"===e.viewType&&(0,o.createElement)("div","",null,[s])]),I=(0,o.createElement)("div","apt-survey-feedback",null,[b,x]);"BAR"===e.viewType&&(C.classList.add("bottom-feedback-container-bar"),w.classList.add("apt-survey-submit-bar")),w.style.color=e.submitButtonTextColor,w.style.backgroundColor=e.submitButtonBackgroundColor,w.style.borderWidth=e.submitButtonBorderWidth+"px",w.style.borderRadius=e.submitButtonBorderRadius+"px",w.style.borderColor=e.submitButtonBorderColor,g.placeholder=e.placeholderText||"Share your thoughts about your choice...",(0,o.addEventListener)(g,"keyup",l);var k=(0,o.createElement)("div","apt-survey-title",null,[(0,o.createElement)("div",null,null,[n])]);return p=(0,o.createElement)("div",["apt-survey-step"],null,[k,f,I]),(0,o.addEventListener)(w,"click",function(){l()&&t()}),v.push(n),y.push(I),p},this.hide=function(){p.style.display="none"},this.getData=function(){return{selected:f,comment:g.value,contactMeAllowed:e.showContactMeMessage?h.checked:null}},this.getSettings=function(){return e},this.getHtml=function(){return e.titleHtml+e.notSatisfiedHtml+e.satisfiedHtml+e.defaultComment}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(9),a=n(30);t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationMapper=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=n(1),s=n(78).assign,l=n(81);t.IntegrationMapper=function(){function e(t,n,o){r(this,e),this.initialUserObj=t,this.initialAccountObj=n,this.integrationContext=o,this.mappedUserObj=null,this.mappedAccountObj=null}return o(e,[{key:"mapData",value:function(){var e=!1;switch(this.integrationContext.name){case"aptrinsic-segment":this._mapSegment(),e=!0;break;default:i.logger.log("Ignoring unknown integration "+this.integrationContext.name)}return e}},{key:"getUserObj",value:function(){return this.mappedUserObj}},{key:"getAccountObj",value:function(){return this.mappedAccountObj}},{key:"isSegmentGroupCall",value:function(){return"aptrinsic-segment"===this.integrationContext.name&&this.initialAccountObj&&this.initialAccountObj.anonymousId&&!(0,a.isBlank)(this.initialAccountObj.anonymousId())}},{key:"_mapSegment",value:function(){l(this.integrationContext.version,"1.0.0")>=0&&this._mapSegmentV1()}},{key:"_mapSegmentV1",value:function(){var e=this.initialUserObj.traits(),t=this.initialUserObj.address(),n=s({},this.initialUserObj.traits());if(s(n,{id:this.initialUserObj.userId(),email:this.initialUserObj.email(),firstName:this.initialUserObj.firstName(),lastName:this.initialUserObj.lastName(),gender:this.initialUserObj.gender()&&this.initialUserObj.gender().toUpperCase(),title:e.title,phone:this.initialUserObj.phone(),accountId:this.initialAccountObj.groupId()}),t&&s(n,{street:t.street,countryCode:t.country,stateCode:t.state,city:t.city,postalCode:t.postalCode}),e.company){var r=e.company;s(n,{organization:r.name,organizationIndustry:r.industry,organizationEmployees:r.employee_count&&r.employee_count.toString()})}var o=null;if(this.initialAccountObj.groupId()){var i=this.initialAccountObj.traits();o=s({},i),o.id=this.initialAccountObj.groupId(),o.street=this.initialAccountObj.street(),o.city=this.initialAccountObj.city(),o.countryCode=this.initialAccountObj.country(),o.postalCode=this.initialAccountObj.zip(),o.numberOfEmployees=parseInt(i.employees)}this.mappedUserObj=n,this.mappedAccountObj=o}}]),e}()},function(e,t,n){"use strict";function r(e,t){return e+"?"+(0,d.convert2Parameters)((0,d.addParameters)(t,[]))}function o(e,t,n,r){try{var o=i();o.kcid=r,o.catid=t;var a=p.trackKcEndpoint+"/"+c.eventTrackData.data[c.productIdParameter]+"/"+r+"/track/article/"+e+"?"+(0,d.convert2Parameters)((0,d.addParameters)(o,[]));g.AjaxUtil.getData(a)}catch(t){m.logger.logInternalError(t,"Error during tracking article "+e+"for kc id "+r)}}function i(){var e={};Object.assign(e,c.eventTrackData[u.cacheGetAll]()),(0,d.addCacheBuster)(e);var t=c.globalContextCache[u.cacheGet]("apt.gcx");t&&Object.assign(e,{gcx:JSON.stringify(t)});var n=location.protocol+"//",r=location.host,o=location.pathname,i=location.search,a=c.documentRef.title,s=location.hash,p=c.documentRef.referrer,g=p,m=(0,h.maskUrl)(o,i,s,p,a),v=l(m,5);return o=v[0],i=v[1],s=v[2],g=v[3],a=v[4],Object.assign(e,{rf:g,sc:n,ho:r,pa:decodeURIComponent(o),q:decodeURIComponent(i),ha:decodeURIComponent(s),sch:(0,f.getPageHeight)(),scw:(0,f.getPageWidth)(),pt:a,u:""+n+r+o+i+s}),e}function a(e,t){try{var n=i();n.kcid=e,n.kct=t;var r=p.trackKcEndpoint+"/"+c.eventTrackData.data[c.productIdParameter]+"/"+e+"/track/toggle?"+(0,d.convert2Parameters)((0,d.addParameters)(n,[]));g.AjaxUtil.getData(r)}catch(t){m.logger.logInternalError(t,"Error during tracking toggle widget for kc id "+e)}}function s(e,t,n){var o=n.articleId,a=n.articleUrl,s=n.articleProvider,l=n.articleTitle;try{var u=c.eventTrackData.data[c.productIdParameter],d=c.eventTrackData.data[c.aptrinsicIdParam],f=i(),h=p.trackKcEndpoint+"/"+u+"/"+e+"/"+p.trackWidgetExternalArticleInfix+"/"+o,v=r(h,Object.assign(f,{art:l,ai:d,arpro:s,aru:a,ari:o}));g.AjaxUtil.getData(v)}catch(t){m.logger.logInternalError(t,"Error during tracking article "+o+"for kc id "+e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getUrl=r,t.trackArticleClick=o,t.getTrackingPayload=i,t.trackToggleWidget=a,t.trackExternalArticleClick=s;var c=n(4),u=n(6),d=n(1),f=n(5),p=n(2),g=n(8),m=n(3),h=n(25)},function(e,t,n){"use strict";function r(){this.getAttribute=function(){return"url"}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);r.prototype.matchRules=function(e,t,n){return"all"===t?e.every(function(e){return(0,o.matchUrl)(e.value,n,"is"!==e.operator)}):e.some(function(e){return(0,o.matchUrl)(e.value,n,"is"!==e.operator)})};var i=new r;t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=r},function(e,t,n){t=e.exports=n(40)(void 0),t.push([e.i,".tippy-iOS {\n  cursor: pointer !important;\n  -webkit-tap-highlight-color: transparent;\n}\n.apt-badge-tippy.tippy-popper {\n  pointer-events: none;\n  max-width: calc(100vw - 10px);\n  transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\n  transition-property: transform;\n  word-break: break-word;\n  overflow-wrap: break-word;\n  -webkit-line-break: after-white-space;\n}\n.apt-badge-tippy .tippy-tooltip {\n  position: relative;\n  color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  line-height: 1.4;\n  background-color: #333;\n  transition-property: visibility, opacity, transform;\n  outline: 0;\n}\n.apt-badge-tippy .tippy-tooltip[data-animation='fade'][data-state='hidden'] {\n  opacity: 0;\n}\n\n.apt-badge-tippy .tippy-tooltip[data-placement^='top'] > .tippy-arrow {\n  border-width: 8px 8px 0;\n  border-top-color: #333;\n  margin: 0 3px;\n  transform-origin: 50% 0;\n  bottom: -7px;\n}\n.apt-badge-tippy .tippy-tooltip[data-placement^='bottom'] > .tippy-arrow {\n  border-width: 0 8px 8px;\n  border-bottom-color: #333;\n  margin: 0 3px;\n  transform-origin: 50% 7px;\n  top: -7px;\n}\n.apt-badge-tippy .tippy-tooltip[data-placement^='left'] > .tippy-arrow {\n  border-width: 8px 0 8px 8px;\n  border-left-color: #333;\n  margin: 3px 0;\n  transform-origin: 0 50%;\n  right: -7px;\n}\n.apt-badge-tippy .tippy-tooltip[data-placement^='right'] > .tippy-arrow {\n  border-width: 8px 8px 8px 0;\n  border-right-color: #333;\n  margin: 3px 0;\n  transform-origin: 7px 50%;\n  left: -7px;\n}\n.apt-badge-tippy .tippy-tooltip[data-interactive][data-state='visible'] {\n  pointer-events: auto;\n}\n.apt-badge-tippy .tippy-tooltip[data-inertia][data-state='visible'] {\n  transition-timing-function: cubic-bezier(0.54, 1.5, 0.38, 1.11);\n}\n.apt-badge-tippy .tippy-arrow {\n  position: absolute;\n  border-color: transparent;\n  border-style: solid;\n}\n.apt-badge-tippy .tippy-content {\n  padding: 5px 9px;\n}\n",""])},function(e,t,n){t=e.exports=n(40)(void 0),t.push([e.i,".apt-badge-tippy.tippy-popper[x-placement^='bottom'] .badge-theme .tippy-arrow {\n  border-bottom-color: currentColor;\n}\n.apt-badge-tippy.tippy-popper[x-placement^='top'] .badge-theme .tippy-arrow {\n  border-top-color: currentColor;\n}\n.apt-badge-tippy.tippy-popper[x-placement^='left'] .badge-theme .tippy-arrow {\n  border-left-color: currentColor;\n}\n.apt-badge-tippy.tippy-popper[x-placement^='right'] .badge-theme .tippy-arrow {\n  border-right-color: currentColor;\n}\n\n.apt-badge {\n  cursor: pointer;\n  border-style: solid;\n  border-radius: 50%;\n  box-sizing: border-box;\n\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6 */\n  display: -moz-box; /* OLD - Firefox 19- (buggy but mostly works) */\n  display: -ms-flexbox; /* TWEENER - IE 10 */\n  display: -webkit-flex; /* NEW - Chrome */\n  display: flex;\n\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -ms-flex-line-pack: center;\n  -webkit-align-content: center;\n  align-content: center;\n}\n\n.apt-badge img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n}\n\n.apt-badge.apt-badge--hidden {\n  display: none;\n}\n\n.apt-badge-tippy .badge-theme .tippy-content {\n  color: #06f263; \n  font-size: 13px;\n  text-align: left;\n  font-weight: normal;\n  box-sizing: content-box;\n}\n",""])},function(e,t,n){var r=n(109);"string"==typeof r&&(r=[[e.i,r,""]]);n(44)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(110);"string"==typeof r&&(r=[[e.i,r,""]]);n(44)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 1.5l12 13.125-12 13.125"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><g stroke-width="4"><path d="M13.5 5.25l9.375 9.375L13.5 24M23.25 14.5h-18"></path></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><g><path d="m15,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"></path><path d="m3,13l21,0l0,3.75l-21,0l0,-3.75z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><g stroke-linecap="round" stroke-linejoin="round" stroke-width="4"><path d="M15.75 7.5l6 7.5-6 7.5M6.75 15h15"></path></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><g><path d="m2.75,13.75l21,0l0,3l-21,0l0,-3z"></path><path d="m15.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule="nonzero"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m12.06,10.304l1.47,4.386c0.059,0.17 0.059,0.45 0,0.621l-1.47,4.386c-0.174,0.518 0.046,0.707 0.491,0.422l7.475,-4.774c0.3,-0.19 0.298,-0.499 0,-0.689l-7.475,-4.774c-0.444,-0.283 -0.665,-0.096 -0.492,0.422l0.001,0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m25.682,16.355c0.762,-0.77 0.756,-2.02 -0.01,-2.792l-9.083,-9.116c-2.12,-2.113 -5.301,1.057 -3.181,3.17l3.963,3.95c0.66,0.658 0.437,1.19 -0.485,1.19l-10.886,0a2.247,2.247 0 0 0 -2.25,2.243a2.246,2.246 0 0 0 2.25,2.241l10.886,0c0.927,0 1.149,0.532 0.485,1.194l-3.963,3.947c-2.12,2.115 1.06,5.285 3.18,3.17l9.094,-9.197z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m27.508,15.032l-13.964,8.693l0,-6.015l-11.081,0l0,-5.45l11.08,0l0,-5.92l13.965,8.692zm1.742,0c0,-0.63 -0.33,-1.228 -0.841,-1.575l-13.964,-8.693a1.653,1.653 0 0 0 -1.742,-0.032c-0.541,0.315 -0.87,0.913 -0.87,1.575l0,4.094l-9.342,0c-0.96,0 -1.742,0.82 -1.742,1.827l0,5.449c0,1.008 0.781,1.827 1.742,1.827l9.34,0l0,4.189c0,0.662 0.331,1.26 0.87,1.575c0.541,0.315 1.202,0.315 1.743,-0.032l13.964,-8.693c0.51,-0.283 0.841,-0.881 0.841,-1.511l0.001,0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m16.616,22.44a0.591,0.591 0 0 1 -0.345,-0.533l0,-3.365l-10.331,1.423a0.625,0.625 0 0 1 -0.482,-0.14a0.591,0.591 0 0 1 -0.208,-0.447l0.003,-8.76c0,-0.17 0.077,-0.336 0.208,-0.448a0.615,0.615 0 0 1 0.482,-0.14l10.331,1.423l0,-3.362c0,-0.229 0.134,-0.435 0.345,-0.533a0.62,0.62 0 0 1 0.641,0.072l8.765,6.905a0.587,0.587 0 0 1 0,0.922l-8.77,6.908a0.597,0.597 0 0 1 -0.639,0.075zm8.066,-7.444l-7.199,-5.67l0,3.485l-11.019,-1.511l0,7.4l11.019,-1.512l0,3.488l7.2,-5.679l-0.001,-0.001z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12.5 3l9.75 11.625L12.5 26.25"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-width="4" d="M11.5 5.25l9.375 9.375L11.5 24"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m13,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12.75 7.5l6 7.5-6 7.5"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path stroke="none" d="m10.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M12 20.378l1.394 1.372L20.25 15l-6.856-6.75L12 9.622 17.463 15z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><g stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15.75 1.5l12 13.125-12 13.125M2.25 14.5h24"></path></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><g stroke-linecap="round" stroke-linejoin="round" stroke-width="3"><path d="M3.75 14.5H24M16.5 3l9.75 11.625L16.5 26.25"></path></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 15l7 6L24 9"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><g fill-rule="evenodd" fill="none"><path stroke="none" d="m0,0l30,0l0,30l-30,0l0,-30z"></path><g stroke-width="4" stroke-linejoin="round" stroke-linecap="round"><path d="m15.75,7.5l6,7.5l-6,7.5m-9,-7.5l15,0"></path></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path d="m5,21.237c0.261,-3.28 1.917,-9.413 10.625,-9.413l0,-3.204c-0.001,-0.234 0.13,-0.45 0.336,-0.555a0.602,0.602 0 0 1 0.64,0.06l8.01,6.082c0.245,0.187 0.389,0.48 0.389,0.79a0.99,0.99 0 0 1 -0.39,0.79l-7.999,6.08a0.601,0.601 0 0 1 -0.647,0.069a0.618,0.618 0 0 1 -0.34,-0.564l0,-3.204s-5.678,-1.057 -9.534,3.526a0.62,0.62 0 0 1 -0.703,0.16a0.636,0.636 0 0 1 -0.386,-0.617l-0.001,0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path d="m21.058,12.17l-3.12,-3.242a1.427,1.427 0 0 1 0,-2.012a1.416,1.416 0 0 1 2.005,0l5.647,5.665a1.42,1.42 0 0 1 0,1.997l-5.648,5.665a1.408,1.408 0 0 1 -1.996,0.007a1.42,1.42 0 0 1 -0.008,-2.004l3.12,-3.243l-9.822,0c-0.387,0 -0.758,0.158 -1.025,0.44a1.42,1.42 0 0 0 -0.387,1.047l0,5.594c0,0.782 -0.632,1.416 -1.412,1.416c-0.78,0 -1.411,-0.634 -1.411,-1.416l0,-5.594a4.258,4.258 0 0 1 1.214,-3.05a4.229,4.229 0 0 1 3.02,-1.27l9.823,0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path d="m12.986,22l-5.986,-5.621l1.513,-1.63l4.321,4.052l9.502,-10.801l1.664,1.479l-11.014,12.521z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path strok="none" d="m10.288,14.997l3.617,2.63l7.593,-9.584a1.352,1.352 0 0 1 1.838,-0.313l0.101,0.071c0.597,0.404 0.743,1.197 0.324,1.773l-8.285,12.307c-0.313,0.43 -0.623,0.58 -1.168,0.615c-0.545,0.035 -0.875,-0.16 -1.202,-0.476l-4.715,-5.197a1.256,1.256 0 0 1 0,-1.823l0.007,-0.003a1.373,1.373 0 0 1 1.89,0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path d="m8.133,11.868l6.355,4.846l9.237,-10.374a1.021,1.021 0 0 1 1.431,-0.09c0.378,0.33 0.454,0.885 0.179,1.303l-10.847,16.447l-7.798,-10.752a0.997,0.997 0 0 1 0.233,-1.4c0.364,-0.26 0.856,-0.251 1.21,0.02z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M23.206 8.831A2.636 2.636 0 0 0 21.286 8c-.725 0-1.407.295-1.918.831l-6.053 6.322-2.684-2.805a2.635 2.635 0 0 0-1.919-.831c-.724 0-1.407.295-1.92.831-1.056 1.105-1.056 2.904.001 4.01l4.602 4.809a2.618 2.618 0 0 0 3.41.367c.156-.108.3-.23.428-.365l7.97-8.327A2.884 2.884 0 0 0 24 10.837a2.888 2.888 0 0 0-.794-2.006z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path stroke="none" d="M0 0h30v30H0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M17.332 8.003c.08.011.156.045.22.098l7.273 6.034c.11.091.175.232.175.38 0 .15-.065.29-.175.381l-7.273 6.034a.432.432 0 0 1-.476.052.487.487 0 0 1-.256-.43v-2.42c-.576-.025-1.863-.06-3.764.287-2.268.413-5.046 1.367-7.302 3.461a.433.433 0 0 1-.55.04.498.498 0 0 1-.182-.552c1.899-6.21 7.676-9.169 11.798-10.347V8.487c0-.14.054-.273.153-.365a.435.435 0 0 1 .359-.118v-.001z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path d="m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><path d="m9,6.634c6.353,8.365 0.09,16.41 0.09,16.41a0.662,0.662 0 0 0 0.12,0.787c0.21,0.196 0.556,0.225 0.794,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014a0.665,0.665 0 0 0 -0.3,0.537z"></path></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!y.default.isEditorMode()){(new m.EventTracker).initCollector(),(0,P.isWebApp)(e)||E.default.init(),(0,k.appReady)(),S.default.init(),A.default.init(),D.default.init()}}function i(){y.default.isEditorMode()||(0,p.featureEnabled)("pageView")&&(0,k.internalApt)("pageview")}function a(e){y.default.isEditorMode()&&y.default.loadEditor(e)&&(0,y.default)("setConfig",(0,p.getConfigObj)())&&(0,y.default)("init",e)}function s(){(0,p.registerConfigChangeHandler)("enableTag",function(e,t){!e&&t?l(q,V):e&&!1==!t&&L.KnowledgeCenterManager.removeWidget()}),(0,p.registerConfigChangeHandler)("widgetEnabled",function(e,t){"loading"!==document.readyState&&(!e&&t?L.KnowledgeCenterManager.initWidget({apiKey:f.eventTrackData.data[f.productIdParameter],aptId:f.eventTrackData.data[f.aptrinsicIdParam]}):e&&!t&&L.KnowledgeCenterManager.removeWidget())})}function l(e,t,n){g.AjaxUtil.loadFile("css",(0,p.getAssetEndpoint)("style")+"?a="+e),f.eventTrackData[d.cacheSet](f.productIdParameter,e),(0,p.isIframe)()||(h.UserData.initializeUser(e),f.eventTrackData[d.cacheSet](f.userIdParameter,h.UserData.getUserId()),f.eventTrackData[d.cacheSet]("vt",h.UserData.getUserType()),f.eventTrackData[d.cacheSet]("ai",h.UserData.getAptrinisId()),f.eventTrackData[d.cacheSet](f.sessionIdParam,h.UserData.getSessionId())),t=j.q,t&&t.length>0&&B.default.call(t),f.windowRef[f.aptrinsicGlobalObjName]=N.aptExternal,a(e),o(e),i(),f.windowRef[f.aptrinsicGlobalObjName].init=!0;var r=(0,I.isOndemandState)();if(r){var s=(0,L.getKcDataFromSessionStorage)(),l=s.kcId,c=s.categoryId;(0,L.getKcEngagement)(r,!1,l,c)}!(0,p.isIframe)()&&I.isStartOverState&&(0,I.startOverEngagement)(function(e){x.EngagementDrawer.draw([e],!0)})}function c(){(0,N.initKnowledgeCenterWrapper)(!1,!0,function(e){e||setTimeout(function(){return W(!1,!1)},H)})}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(6),f=n(4),p=n(2),g=n(8),m=n(328),h=(n(31),n(18)),v=n(10),y=r(v),b=n(68),E=r(b),w=n(11),C=n(3),x=n(34),I=n(21),k=n(17),T=n(320),S=r(T),O=n(73),A=r(O),L=n(22),P=n(1),R=n(56),D=r(R),_=(n(48),n(72)),N=n(45),M=n(71),B=r(M),j=f.windowRef[f.aptrinsicGlobalObjName],U=6e5,H=750;Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("function"!=typeof o&&("object"!==(void 0===o?"undefined":u(o))||null===o))throw new TypeError("Object.keys called on non-object");var i,a,s=[];for(i in o)e.call(o,i)&&s.push(i);if(t)for(a=0;a<r;a++)e.call(o,n[a])&&s.push(n[a]);return s}}()),Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var q=void 0,V=void 0;try{if(!0!==f.windowRef[f.aptrinsicGlobalObjName].init){if(!j)throw new Error("cannot initiate without tag");q=j.p,f.eventTrackData[d.cacheSet](f.productIdParameter,q),(0,p.setCachedConfig)(_.tagConfigKeyName,j.c),q?function(){s(),(0,p.overrideConfig)((0,p.getCachedConfig)(_.tagConfigKeyName),!1),setInterval(function(){(0,_.getServerConfiguration)(!1,q,V,(0,p.getCachedConfig)(_.tagConfigKeyName),l)},U),(0,_.getServerConfiguration)(!0,q,V,(0,p.getCachedConfig)(_.tagConfigKeyName),l),w.internalEventListener.addListener("identify",c),w.internalEventListener.addListener("sessionInitialized",c),w.internalEventListener.addListener("sessionExpired",I.hideAnyActiveEngagement)}():C.logger.logInternalError(new Error("Tag does not contain proper API key"))}}catch(e){C.logger.logInternalError(e)}var W=(0,P.debounce)(N.initKnowledgeCenterWrapper,H)},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=n(1),a=n(3),s=n(12),l=n(10),c=r(l),u=n(47),d=r(u),f=n(2),p=["getElementText"],g=new function(){function e(e){if((0,s.isValidCallingDomain)(e.origin))try{var t=(0,s.parseEvent)(e);if(t&&p.indexOf(t.aptrinsicEventType)>-1){var n=t.content;switch(t.aptrinsicEventType){case"getElementText":var r=(0,o.getElementText)(n.cssSelector);d.default.textElementResponse(r,t.aptrinsicRequestId);break;default:a.logger.logInternalError(new Error("tracker iframe client got unsupported message, data: "+JSON.stringify(t)))}}}catch(e){a.logger.logInternalError(e)}}(0,f.isIframe)()&&!c.default.isEditorMode()&&(0,i.addEventListener)(window,"message",e,!1)};t.default=g},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),a=n(12),s=n(68),l=r(s),c=n(2),u=n(31),d=n(7),f=n(10),p=r(f),g=["register","track","lead","fetchElementTextResponse","apt-log"],m=new function(){function e(e){if((0,a.isValidCallingDomain)(e.origin))try{var t=(0,a.parseEvent)(e);if(t&&g.indexOf(t.aptrinsicEventType)>-1){var n=t.content;switch(t.aptrinsicEventType){case"register":(0,d.registerIframe)(e.source,e.origin,t.aptrinsicIframeId);break;case"track":if((0,c.isIframeDisabled)(n.aptrinsicEventType))return void i.logger.logInternalError(new Error("master script got unsupported track event from iframe, data: "+JSON.stringify(n)));u.api.trackEvent(n.aptrinsicEventType,n.properties,void 0,n.customEventName,!0,n.passedGlobalContext);break;case"lead":var r=t.content;l.default.track(r.source,r.email,r.userData,r.formFields);break;case"fetchElementTextResponse":(0,d.decrementState)(t.aptrinsicRequestId,n.text);break;case"apt-log":var o="aptrinsic web sdk error: "+t.content.message+"\n"+t.content.extraMessage+"\n at: "+t.content.stackTrace;i.logger.reportToServer(o);break;default:i.logger.logInternalError(new Error("tracker proxy got unsupported message, data: "+JSON.stringify(t)))}}}catch(e){i.logger.logInternalError(e)}}this.init=function(){!(0,c.isIframe)()&&!p.default.isEditorMode()&&(0,o.addEventListener)(window,"message",e,!1)}};t.default=m},,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(e.previousElementSibling)return e.previousElementSibling;for(;e=e.previousSibling&&1!==e.nodeType;);return e}function i(e){return e.length>255?e.substring(0,255):e}function a(e){var t={},n=void 0,r=void 0;r=g.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE[e[b].toLowerCase()],t.tagName=e[b],t.attributes=e.attributes.length>0?{}:null;for(var a=0;a<e.attributes.length;a++)n=e.attributes[a],(n.specified&&v.indexOf(n.name.toLowerCase())>-1||(0,p.matchEither)((0,d.getConfig)("elementAttributeWhitelist"),n.name)||r&&r.indexOf(n.name.toLowerCase())>-1)&&(t.attributes[n.name]=i("class"===n.name.toLowerCase()?n.value.replace(y," "):n.value));"select"===e[b].toLowerCase()&&(t.attributes.selectedIndex=e.selectedIndex,t.attributes.selectedValue=e.value);for(var s=1,l=1,c=e;c=o(c);)++s,c[b]==e[b]&&l++;return t.child_n=s,t.child_tag_n=l,t}function s(e,t){if(!e||!e[b])return!1;if(!e[b][E])throw new Error("element have tag name but it is not a string "+e[b]+", full element"+e);var n=e[b][E]();if(m.indexOf(n)>-1||1!=e.nodeType)return!1;if("select"===n&&"change"!==t.type)return!1;if("change"===t.type&&-1==h.indexOf(n))return!1;if("submit"===t.type&&"form"!==n)return!1;for(var r=e;r&&"BODY"!==r[b];){if(1===r.nodeType&&r.classList.contains("apt-guide-popup")||"true"===r.getAttribute("data-apt-disable-selector"))return!1;r=r.parentNode}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.EventTracker=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=n(5),d=n(2),f=n(17),p=(n(11),n(1)),g=n(4),m=["html","body","option"],h=["select"],v=["id","class"],y=new RegExp(/\s\s+/g),b="tagName",E="toLowerCase",w=function(){function e(){r(this,e),this.lastEvent=null,this.pageHight=(0,u.getPageHeight)(),this.pageWidth=(0,u.getPageWidth)()}return l(e,[{key:"initCollector",value:function(){var e=this;if((0,d.getConfig)("enableTag")&&(c.logger.log("starting collector for all events"),(0,d.featureEnabled)("click")&&(this.addEventListener(document,"mousedown",function(t){e.lastEvent=t.target}),this.addEventListener(document,"mouseup",function(t){e.lastEvent==t.target&&(0,d.featureEnabled)("click")&&e.sendWebEvent(t)}),this.addEventListener(document,"change",function(t){(0,d.featureEnabled)("click")&&e.sendWebEvent(t)})),(0,d.featureEnabled)("form")&&!(0,p.isWebApp)(g.eventTrackData.data[g.productIdParameter])&&(this.addEventListener(document,"submit",function(t){(0,d.featureEnabled)("form")&&e.sendWebEvent(t)}),this.addEventListener(document,"change",function(t){(0,d.featureEnabled)("form")&&e.sendWebEvent(t)})),(0,d.featureEnabled)("pageView")))try{"onhashchange"in window&&!0===(0,d.getConfig)("autoTrackHash")&&window.addEventListener("hashchange",function(){(0,d.featureEnabled)("pageView")&&(0,f.internalApt)("pageview")}),history&&history.pushState&&(this.handlePushState=this.handlePushState.bind(this),this.oldPushState=history.pushState,history.pushState=this.handlePushState,window.addEventListener("popstate",function(){(0,d.featureEnabled)("pageView")&&(0,f.internalApt)("pageview")})),history&&history.replaceState&&(this.handleReplaceState=this.handleReplaceState.bind(this),this.oldReplaceState=history.replaceState,history.replaceState=this.handleReplaceState)}catch(e){if(!(e instanceof TypeError&&e.message&&e.message.indexOf("read only property")>=0))throw e;!function(){var e=window.location.href,t=setInterval(function(){try{(0,d.featureEnabled)("pageView")&&window.location.href!==e&&(e=window.location.href,(0,f.internalApt)("pageview"))}catch(e){c.logger.logInternalError(new Error("Alternate pageview tracking failed"+e)),clearInterval(t)}},1e3)}()}}},{key:"handlePushState",value:function(){this.handleStateChange(arguments,this.oldPushState,!1)}},{key:"handleReplaceState",value:function(){this.handleStateChange(arguments,this.oldReplaceState,!0)}},{key:"handleStateChange",value:function(e,t,n){if((0,d.getConfig)("enableTag")){var r=window.location.href;if(t.apply(history,e),n&&e.length>=3){var o=document.createElement("a");if(o.href=e[2],o.href===r)return}try{(0,d.featureEnabled)("pageView")&&(0,f.internalApt)("pageview")}catch(e){c.logger.logInternalError(new Error("failed to handle push state "+e))}}}},{key:"sendWebEvent",value:function(e){try{if(!(0,d.getConfig)("enableTag"))return;var t=e.target,n=t,r=[],o=void 0,i={};if(3==e.which)return void c.logger.log("ignoring right click");if(!s(t,e))return;for(;null!==t&&"html"!==t[b][E]();)o=a(t),r.push(o),t=t.parentNode;i.elementTree=r.reverse(),i=this.populateExtraProperties(n,e,i);var l=this.getEventType(n,e);(0,f.internalApt)(l,i)}catch(t){c.logger.logInternalError(t,"sendWebEvent:"+e+"\nelement:"+e.target)}}},{key:"getEventType",value:function(e,t){return"form"===e[b][E]()?"formSubmit":"a"==e[b][E]()?"linkClick":"click"}},{key:"populateExtraProperties",value:function(e,t,n){if((0,d.getConfig)("enableTag")){if("form"===e[b][E]()&&"submit"===t.type){var r={},o=void 0,i=void 0,a=void 0,s=e.querySelectorAll("input");if(void 0!==s){for(var l=0;l<s.length;l++)o=s[l],"password"!==(a=o.getAttribute("type"))&&"button"!==a&&"submit"!==a&&o.value.length<=2048&&(i=o.getAttribute("id")||o.getAttribute("name"))&&(r[i]=o.value);n.fof=r}}if("button"==e[b][E]()&&(n.value=e.textContent),"select"==e[b][E]())if(e.multiple){for(var c=[],u=e.options,f=0;f<u.length;f++)u[f].selected&&c.push(u[f].value);n.value=c.join(",")}else n.value=e.value;return n}}},{key:"addEventListener",value:function(e,t,n){var r=(0,d.getConfig)("sfdcTemplate");if(r&&e===document&&(e=r),e.addEventListener)e.addEventListener(t,n,!0);else{if(!e.attachEvent)return c.logger.log("there is no support for adding events"),!1;e.attachEvent("on"+t,n)}return!0}}]),e}();t.EventTracker=w},,,,function(e,t,n){n(311),n(75),n(74),e.exports=n(314)}]);